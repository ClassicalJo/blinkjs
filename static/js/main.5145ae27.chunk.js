(this.webpackJsonpblinkjs=this.webpackJsonpblinkjs||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),o=r(8),a=r.n(o),l=r(2),s=r(3),c=r(5),u=r(4),d=r(6),y=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("symbol",{id:"shape1",width:"500",height:"100",viewBox:"-250 -50 500 100"},i.a.createElement("rect",{x:"-250",y:"-50",width:"500",height:"100",fill:"white"}),i.a.createElement("text",{textAnchor:"middle",dominantBaseline:"central",fontSize:"40",fontFamily:"Arial",fill:"black"},"Keyboard")),i.a.createElement("symbol",{id:"shape2",width:"500",height:"100",viewBox:"-250 -50 500 100"},i.a.createElement("rect",{x:"-250",y:"-50",width:"500",height:"100",fill:"white"}),i.a.createElement("text",{textAnchor:"middle",dominantBaseline:"central",fontSize:"40",fontFamily:"Arial",fill:"black"},"Touchscreen")),i.a.createElement("use",{xlinkHref:"#shape1",x:"-250",y:"-100",onClick:e.keyboard}),i.a.createElement("use",{xlinkHref:"#shape2",x:"-250",y:"100",onClick:e.touchscreen}))},h=r(1),b=function e(t,r,n,i,o){var a=this;Object(l.a)(this,e);this.body=h.Bodies.circle(t,r,n,{isStatic:!0}),this.body.hp=i,this.body.label="enemy",this.dead=!1,this.radius=n,h.World.add(o,this.body),this.remove=function(){h.World.remove(o,a.body)}},p=function e(t,r,n,i,o){var a=this;Object(l.a)(this,e),this.body=h.Bodies.circle(t,r,n,{isStatic:!0,isSensor:!0}),this.body.label="barrier",this.body.maxHp=i,this.body.hp=i,this.radius=n,this.danger=Math.ceil(this.body.maxHp/4),this.classNames="barrier",h.World.add(o,this.body),this.remove=function(){h.World.remove(o,a.body)}},m=function e(t,r,n,i,o,a){var s=this;Object(l.a)(this,e),this.body=h.Bodies.rectangle(t,r,n,i,o),this.width=n,this.height=i,h.World.add(a,this.body),this.remove=function(){h.World.remove(a,s.body)}},f=function e(t,r,n,i,o){var a=this;Object(l.a)(this,e);this.body=h.Bodies.circle(t,r,n,{isSensor:!0}),this.body.label="playerBullet",this.radius=n,h.Body.setVelocity(this.body,{x:0,y:-15}),h.World.add(i,this.body),this.checkIfIsOffScreen=setInterval((function(){a.isOffScreen(a.body.position.x,a.body.position.y)&&a.remove()}),16),this.isOffScreen=function(e,t){return e>1e3||e<-1e3||t>500||t<-500},this.remove=function(){clearInterval(a.checkIfIsOffScreen),h.World.remove(i,a.body);for(var e=o.length-1;e>=0;e--)o[e].body.id===a.body.id&&o.splice(e,1)}},v=function e(t){Object(l.a)(this,e),this.ground=new m(0,500,2e3,100,{isStatic:!0},t),this.ground.body.label="wall",this.ceiling=new m(0,-500,2e3,100,{isStatic:!0},t),this.ceiling.body.label="wall",this.leftWall=new m(-1e3,0,100,900,{isStatic:!0},t),this.leftWall.body.label="wall",this.rightWall=new m(1e3,0,100,900,{isStatic:!0},t),this.rightWall.body.label="wall",this.walls=[this.ground,this.ceiling,this.leftWall,this.rightWall]},g=function e(t,r,n,i,o){var a=this;Object(l.a)(this,e),this.body=h.Bodies.circle(t,r,n,i),this.radius=n,h.World.add(o,this.body),this.remove=function(){h.World.remove(o,a.body)}},w=function(e){function t(e){var r;Object(l.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){r.cycle()},r.cycle=function(){r.updateCycle(),r.loop=requestAnimationFrame((function(){return r.cycle()}))},r.updateCycle=function(){r.setState((function(e){Object.assign({},e.particles);return{particles:r.particles}}))},r.componentWillUnmount=function(){cancelAnimationFrame(r.loop),clearTimeout(r.explosion)},r.state={showPlayer:!0,particles:[]},r.pause=!1,r.engine=h.Engine.create(),r.runner=h.Runner.create(),r.world=r.engine.world,r.world.gravity.y=0,h.Runner.start(r.runner,r.engine),r.particles=[];for(var n=2*Math.PI/20,i=function(e){r.explosion=setTimeout((function(){r.setState({showPlayer:!1});var t=new g(1*Math.cos(e)+r.props.x,-1*Math.sin(e)+r.props.y,10,{},r.world);r.particles.push(t)}),1250)},o=0;o<2*Math.PI;o+=n)i(o);return r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,!0===this.state.showPlayer&&i.a.createElement("rect",{x:this.props.x-this.props.width/2,y:this.props.y-this.props.height/2,width:this.props.width,height:this.props.height,fill:"pink"}),this.state.particles.map((function(t){return i.a.createElement("circle",{key:e.state.particles.indexOf(t),className:"playerGlow disappear",cx:t.body.position.x,cy:t.body.position.y,r:t.radius,fill:"pink"})})),!1===this.state.showPlayer&&i.a.createElement("g",null,i.a.createElement("text",{className:"appear",fill:"white",textAnchor:"middle"},"You tried"),i.a.createElement("rect",{className:"appear",width:"25%",height:"50",x:"-12.5%",y:"75",fill:"white",onClick:this.props.restart}),i.a.createElement("text",{y:"100",className:"appear",textAnchor:"middle",pointerEvents:"none"},"Try again")))}}]),t}(i.a.Component),x=function(e,t,r,n){var o="M ".concat(e+r/2," ").concat(t-2*n," L ").concat(e," ").concat(t-n," V ").concat(t-n/4," H ").concat(e+r," V").concat(t-n," Z"),a="M ".concat(e-r/4," ").concat(t-n/2," V ").concat(t+2*n," H ").concat(e-5*r/4," Z"),l="M ".concat(e+5*r/4," ").concat(t-n/2," V ").concat(t+2*n," H ").concat(e+9*r/4," Z");return i.a.createElement("g",null,i.a.createElement("path",{d:o,fill:"white"}),i.a.createElement("path",{d:a,fill:"white"}),i.a.createElement("path",{d:l,fill:"white"}),i.a.createElement("rect",{id:"player",className:"playerGlow",x:e,y:t,width:r,height:n}))},B=function(e,t,r){var n=e-50,o=t,a="M".concat(n," ").concat(o," L").concat(n-75," ").concat(o-75," L ").concat(n-150," ").concat(o+150," L").concat(n-50," ").concat(o-10," Z");return i.a.createElement("g",{key:"0"},i.a.createElement("path",{key:"1",d:a,fill:"white",className:"enemy-wing"}),i.a.createElement("path",{key:"2",d:a,fill:"white",className:"enemy-wing",transform:"scale(-1, 1)"}),i.a.createElement("circle",{key:"3",className:"enemy",cx:e,cy:t,r:r,fill:"pink"}))},E=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("g",{onClick:e.onClick},i.a.createElement("circle",{cx:"-725",cy:"225",r:"225",stroke:"rgba(255,255,255,0.5)",strokeWidth:"3",fill:"transparent"}),i.a.createElement("path",{d:"M-725 225 L -975 0 V 475 Z",fill:"transparent",id:"left"}),i.a.createElement("path",{d:"M-725 225 L -975 0 H -475 Z",fill:"transparent",id:"up"}),i.a.createElement("path",{d:"M-725 225 L -475 475 V 0 Z",fill:"transparent",id:"right"}),i.a.createElement("path",{d:"M-725 225 L -475 475 H -975 Z",fill:"transparent",id:"down"})),i.a.createElement("g",null,i.a.createElement("circle",{cx:"600",cy:"300",r:"100",fill:"transparent",stroke:"rgba(255,255,255,0.5)",strokeWidth:"3",onClick:e.shoot}),i.a.createElement("circle",{cx:"850",cy:"200",r:"100",fill:"transparent",stroke:"rgba(255,255,255,0.5)",strokeWidth:"3",onClick:e.blink})))},k=function(e,t){for(var r=t.length-1;r>=0;r--)t[r].body.id===e.id&&t[r].remove()},M=function(e,t,r){h.Events.on(t,"collisionStart",(function(t){for(var n=0;n<t.pairs.length;n++){var i=t.pairs[n];"player"===i.bodyA.label&&"wall"!==i.bodyB.label?e.dead=!0:"player"===i.bodyB.label&&"wall"!==i.bodyA.label&&(e.dead=!0),"playerBullet"===i.bodyA.label?"barrier"===i.bodyB.label?(i.bodyB.hp--,k(i.bodyA,r)):"enemy"===i.bodyB.label&&(i.bodyB.hp--,k(i.bodyA,r)):"playerBullet"===i.bodyB.label&&("barrier"===i.bodyA.label?(i.bodyA.hp--,k(i.bodyB,r)):"enemy"===i.bodyA.label&&(i.bodyA.hp--,k(i.bodyB,r)))}}))},S={bouncer:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"#FFFF26",filter:"url(#blur)"}),i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:3*e.radius/4,fill:"black"}))},bullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:e.body.position.x,cy:e.body.position.y,r:e.radius,stroke:"#FFFF26",fill:"lightpink",strokeWidth:"1"}))},bigBullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bigBullet",cx:e.body.position.x,cy:e.body.position.y,r:e.radius,stroke:"#C24CF6",fill:"#FC6E22",strokeWidth:"5"}))},surroundBullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:e.body.position.x,cy:e.body.position.y,r:e.radius,stroke:"#FFFF26",fill:"#C24CF6",strokeWidth:"1"}))}},T=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){r.intervals=[],M(r.player,r.engine,r.playerBullets),r.timerInterval=setInterval((function(){r.timer=Number(r.timer)+.1,r.timer=Math.round(100*r.timer)/100}),100),"keyboard"===r.props.playMode&&window.addEventListener("keydown",r.handleKeyDown,!0),r.intervals.push(r.timerInterval,r.cycle),h.Runner.run(r.runner,r.engine),r.cycle()},r.componentWillUnmount=function(){h.Runner.stop(r.runner),cancelAnimationFrame(r.loop),r.intervals.forEach((function(e){return clearInterval(e)})),r.timeouts.forEach((function(e){return clearTimeout(e)})),window.removeEventListener("keydown",r.handleKeyDown,!0)},r.cycle=function(){r.updateCycle(),r.loop=requestAnimationFrame((function(){return r.cycle()}))},r.togglePause=function(){r.pause?(r.cycle(),h.Runner.run(r.runner,r.engine),r.pause=!1):(cancelAnimationFrame(r.loop),h.Runner.stop(r.runner),r.pause=!0)},r.updateCycle=function(){!0===r.player.dead&&(cancelAnimationFrame(r.loop),h.Runner.stop(r.runner),r.timeouts.forEach((function(e){return clearTimeout(e)}))),r.setState((function(e){for(var t=0;t<r.barriers.length;t++)r.barriers[t].body.hp<2*r.barriers[t].danger&&(r.barriers[t].classNames="barrier damaged"),r.barriers[t].body.hp<r.barriers[t].danger&&(r.barriers[t].classNames="barrier danger"),r.barriers[t].body.hp<=0&&(r.barriers[t].remove(),r.barriers.splice(t,1),t--);for(var n=0;n<r.enemies.length;n++)r.enemies[n].body.hp<=0&&(r.enemies[n].remove(),r.enemies.splice(n,1),n--,r.props.victory());Object.assign({},e.player),Object.assign({},e.playerBullets),Object.assign({},e.bullets),Object.assign({},e.bouncers),Object.assign({},e.barriers),Object.assign({},e.enemies);var i=r.timer,o=r.theEnd;return{player:r.player,playerBullets:r.playerBullets,bullets:r.bullets,bouncers:r.bouncers,enemies:r.enemies,barriers:r.barriers,timer:i,theEnd:o}}))},r.handleTouch=function(e){"up"===e.target.id?(h.Body.setVelocity(r.player.body,{x:0,y:-10}),r.lastMovement="up"):"down"===e.target.id?(h.Body.setVelocity(r.player.body,{x:0,y:10}),r.lastMovement="down"):"right"===e.target.id?(h.Body.setVelocity(r.player.body,{x:10,y:0}),r.lastMovement="right"):"left"===e.target.id&&(h.Body.setVelocity(r.player.body,{x:-10,y:0}),r.lastMovement="left")},r.handleKeyDown=function(e){"w"===e.key&&(h.Body.setVelocity(r.player.body,{x:0,y:-10}),r.lastMovement="up"),"s"===e.key&&(h.Body.setVelocity(r.player.body,{x:0,y:10}),r.lastMovement="down"),"d"===e.key&&(h.Body.setVelocity(r.player.body,{x:10,y:0}),r.lastMovement="right"),"a"===e.key&&(h.Body.setVelocity(r.player.body,{x:-10,y:0}),r.lastMovement="left"),"k"===e.key&&r.blink(),"l"===e.key&&r.shoot()},r.blink=function(){"up"===r.lastMovement?(h.Body.setVelocity(r.player.body,{x:0,y:-2}),r.player.body.position.y-100<-450?h.Body.setPosition(r.player.body,{x:r.player.body.position.x,y:-450}):h.Body.setPosition(r.player.body,{x:r.player.body.position.x,y:r.player.body.position.y-100})):"down"===r.lastMovement?(h.Body.setVelocity(r.player.body,{x:0,y:2}),r.player.body.position.y+100>450?h.Body.setPosition(r.player.body,{x:r.player.body.position.x,y:450}):h.Body.setPosition(r.player.body,{x:r.player.body.position.x,y:r.player.body.position.y+100})):"right"===r.lastMovement?(h.Body.setVelocity(r.player.body,{x:2,y:0}),r.player.body.position.x+100>950?h.Body.setPosition(r.player.body,{x:950,y:r.player.body.position.y}):h.Body.setPosition(r.player.body,{x:r.player.body.position.x+100,y:r.player.body.position.y})):"left"===r.lastMovement&&(h.Body.setVelocity(r.player.body,{x:-2,y:0}),r.player.body.position.x-100<-950?h.Body.setPosition(r.player.body,{x:-950,y:r.player.body.position.y}):h.Body.setPosition(r.player.body,{x:r.player.body.position.x-100,y:r.player.body.position.y}))},r.shoot=function(){if(!0!==r.player.bulletOnCooldown){r.player.bulletOnCooldown=!0;var e=new f(r.player.body.position.x,r.player.body.position.y-50,5,r.world,r.playerBullets);r.playerBullets.push(e),setTimeout((function(){return r.player.bulletOnCooldown=!1}),100)}},r.renderScene=function(){return!0!==r.player.dead?i.a.createElement(i.a.Fragment,null,i.a.createElement("text",{x:"-950",y:"-425",stroke:"white",fill:"white"},String(r.state.timer)),i.a.createElement("filter",{id:"blur"},i.a.createElement("feGaussianBlur",{stdDeviation:"2"})),r.state.bullets.map((function(e){return"bullet"===e.body.label?S.bullet(e):"bouncer"===e.body.label?S.bouncer(e):"bigBullet"===e.body.label?S.bigBullet(e):"surroundBullet"===e.body.label?S.bigBullet(e):void 0})),")}",r.state.playerBullets.map((function(e){return i.a.createElement("circle",{key:r.state.playerBullets.indexOf(e),cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"white"})})),r.state.enemies.map((function(e){return B(e.body.position.x,e.body.position.y,e.radius)})),r.state.barriers.map((function(e){return i.a.createElement("circle",{className:e.classNames,key:r.state.barriers.indexOf(e),cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"transparent"})})),x(r.state.player.body.position.x-r.state.player.width/2,r.state.player.body.position.y-r.state.player.height/2,r.state.player.width,r.state.player.height),i.a.createElement("circle",{id:"player-radius",cx:r.state.player.body.position.x,cy:r.state.player.body.position.y,r:"100",stroke:"rgba(255,255,255,0.5",fill:"transparent"}),!0===r.state.theEnd&&i.a.createElement("rect",{x:"-1000",y:"-500",width:"2000",height:"1000",fill:"white",pointerEvents:"none",className:"disappear"}),"touchscreen"===r.props.playMode&&i.a.createElement(E,{onClick:function(e){return r.handleTouch(e)},shoot:r.shoot,blink:r.blink})):i.a.createElement(w,{x:r.state.player.body.position.x,y:r.state.player.body.position.y,width:r.state.player.width,height:r.state.player.height,restart:r.props.restart})},r.state={player:null,playerBullets:[],walls:[],bullets:[],bouncers:[],timer:0,barriers:[],enemies:[],theEnd:!1},r.timeouts=[],r.intervals=[],r.pause=!1,r.engine=h.Engine.create(),r.world=r.engine.world,r.runner=h.Runner.create(),r.world.gravity.y=0,r.enemies=[],r.barriers=[],r.bullets=[],r.bouncers=[],r.playerBullets=[],r.state.walls=new v(r.world).walls,r.timer=0,r.player=new m(0,300,20,20,{},r.world),r.player.body.label="player",r.state.player=r.player,r.theEnd=!1,r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.renderScene()}}]),t}(i.a.Component),O=function(){for(var e=[],t=0;t<5;t++)e.push(t);return i.a.createElement("g",null,e.map((function(e){return i.a.createElement("rect",{key:e,x:Math.ceil(2e3*Math.random())-1e3,y:Math.ceil(1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})),e.map((function(e){return i.a.createElement("rect",{key:e,x:Math.ceil(-2e3*Math.random())-1e3,y:Math.ceil(-1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})))},j=function e(t,r,n,i,o){var a=this;Object(l.a)(this,e);this.body=h.Bodies.circle(t,r,n,{isSensor:!0}),this.body.label="bullet",this.radius=n,this.velocityTimeout=setTimeout((function(){return h.Body.setVelocity(a.body,{x:0,y:15})}),1e3),h.World.add(i,this.body),this.checkIfIsOffScreen=setInterval((function(){a.isOffScreen(a.body.position.x,a.body.position.y)&&a.remove()}),16),this.isOffScreen=function(e,t){return e>1250||e<-1250||t>750||t<-750},this.remove=function(){clearInterval(a.checkIfIsOffScreen),h.World.remove(i,a.body);for(var e=o.length-1;e>=0;e--)o[e].body.id===a.body.id&&o.splice(e,1)}},W={coordinates:function(e,t,r,n,i){var o=Math.atan2(-t+n,-e+r);return o=(o=360*(o>0?o:2*Math.PI+o)/(2*Math.PI))*Math.PI/180,{x:e+i*Math.cos(o),y:t+i*Math.sin(o)}},homing:function(e,t,r,n){var i=Math.atan2(-t+n.body.position.y-n.height/2,-e+n.body.position.x-n.width/2);return i=(i=360*(i>0?i:2*Math.PI+i)/(2*Math.PI))*Math.PI/180,{x:e+r*Math.cos(i),y:t+r*Math.sin(i)}}},I=function e(t,r,n,i,o,a){var s=this;Object(l.a)(this,e),this.options={isStatic:!0,restitution:1},this.body=h.Bodies.circle(t,r,n,this.options),this.radius=n,this.className="bouncer";var c=W.homing(t,r,500,i),u=c.x,d=c.y,y=h.Bodies.circle(u,d,1,{isStatic:!0,isSensor:!0,label:"wall"}),b=h.Constraint.create({bodyA:this.body,bodyB:y,stiffness:.01});b.length=b.length/2,h.World.add(o,[this.body,y,b]);var p=setTimeout((function(){h.Body.setStatic(s.body,!1)}),100),m=setTimeout((function(){h.World.remove(o,[y,b])}),150),f=setTimeout((function(){s.remove()}),5e3),v=[];v.push(p,m,f),this.remove=function(){v.forEach((function(e){return clearTimeout(e)}));for(var e=a.length-1;e>=0;e--)a[e].body.id===s.body.id&&a.splice(e,1);h.World.remove(o,s.body)}},C=function e(t,r,n,i,o,a,s,c,u){var d=this;Object(l.a)(this,e);this.timeouts=[],this.body=h.Bodies.circle(t,n,o,{isSensor:!0,isStatic:!0}),this.body.label="bullet",this.radius=o;var y=W.coordinates(t,n,r,i,500),b=y.x,p=y.y,m=h.Bodies.circle(b,p,1,{isStatic:!0,isSensor:!0,label:"wall"}),f=h.Constraint.create({bodyA:this.body,bodyB:m,stiffness:.001});f.length=f.length/2,h.World.add(s,[this.body,m,f]);var v=setTimeout((function(){h.Body.setStatic(d.body,!1)}),u),g=setTimeout((function(){h.World.remove(s,m),h.World.remove(s,f)}),u+500),w=setTimeout((function(){d.remove()}),u+4e3);this.isOffScreen=function(e,t){return e>1250||e<-1250||t>750||t<-750},this.checkIfIsOffScreen=setInterval((function(){d.isOffScreen(d.body.position.x,d.body.position.y)&&d.remove()}),16),this.remove=function(){d.timeouts.forEach((function(e){return clearTimeout(e)})),clearInterval(d.checkIfIsOffScreen),h.World.remove(s,d.body);for(var e=0;e<c.length;e++)c[e].body.id===d.body.id&&c.splice(e,1)},this.timeouts.push(v,g,w)},F=function e(t,r,n,i,o,a,s){var c=this;Object(l.a)(this,e),this.body=h.Bodies.circle(t,n,o,{isSensor:!0,isStatic:!0}),this.radius=o;var u=W.coordinates(t,n,r,i,250),d=u.x,y=u.y,b=h.Bodies.circle(d,y,1,{isStatic:!0,isSensor:!0,label:"wall"}),p=h.Constraint.create({bodyA:this.body,bodyB:b,stiffness:.005});p.length=p.length/2,h.World.add(a,[this.body,b,p]);var m=setTimeout((function(){h.Body.setStatic(c.body,!1)}),1e3),f=setTimeout((function(){h.World.remove(a,[b,p])}),1150),v=setTimeout((function(){c.remove()}),4e3),g=[];g.push(m,f,v),this.remove=function(){g.forEach((function(e){return clearTimeout(e)}));for(var e=s.length-1;e>=0;e--)s[e].body.id===c.body.id&&s.splice(e,1);h.World.remove(a,c.body)}},A=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).thirdBarrage=function(){e.bouncerCluster(850,-350);var t=setTimeout((function(){return e.bouncerCluster(-850,-350)}),4e3),r=setTimeout((function(){return e.bouncerCluster(850,-350)}),8e3),n=setTimeout((function(){return e.bouncerCluster(-850,-350)}),12e3);e.timeouts.push(t,r,n)},e.bouncerCluster=function(t,r){for(var n=0;n<4;n++)setTimeout((function(){var n=new I(t,r,50,e.player,e.world,e.bullets);n.body.label="bouncer",e.bullets.push(n)}),500*n)},e.firstBarrage=function(){e.wave(-1e3,0,1);var t=setTimeout((function(){return e.wave(1e3,0,-1)}),3e3),r=setTimeout((function(){return e.wave(-1e3,-200,1)}),6e3),n=setTimeout((function(){return e.wave(1e3,-200,-1)}),9e3);e.timeouts.push(t,r,n)},e.wave=function(t,r,n){for(var i=function(i){setTimeout((function(){var o=new j(t+25*i*n,r+i*Math.sin(i*Math.PI/4*-1+.5),5,e.world,e.bullets);e.bullets.push(o)}),25*i)},o=0;o<100;o++)i(o)},e.secondBarrage=function(){e.surround(400);var t=setTimeout((function(){return e.surround(350)}),3e3),r=setTimeout((function(){return e.surround(300)}),6e3),n=setTimeout((function(){return e.surround(250)}),9e3);e.timeouts.push(t,r,n)},e.surround=function(t){for(var r=t,n=2*Math.PI/50,i=0,o=0,a=e.player.body.position,l=a.x,s=a.y,c=function(t){i++;var n=setTimeout((function(){o++;var n=new C(r*Math.cos(t)+l,l,-r*Math.sin(t)+s,s,5,e.player,e.world,e.bullets,1e3-10*o);e.bullets.push(n)}),10*i);e.timeouts.push(n)},u=0;u<2*Math.PI;u+=n)c(u)},e.fourthBarrage=function(){e.cascade(-1100,-350,-1100,450,1);var t=setTimeout((function(){return e.cascade(1100,-350,1100,450,-1)}),2e3),r=setTimeout((function(){return e.cascade(-1100,-350,-1100,450,1)}),4e3);e.timeouts.push(t,r)},e.cascade=function(t,r,n,i,o){e.drop(t,r,n,i,o);var a=setTimeout((function(){return e.drop(t-100,r-50,n-100,i,o)}),250),l=setTimeout((function(){return e.drop(t,r-100,n,i,o)}),500);e.timeouts.push(a,l)},e.drop=function(t,r,n,i,o){for(var a=function(a){var l=setTimeout((function(){var l=new F(t+200*a*o,n+200*a*o,r,i,40,e.world,e.bullets);l.body.label="bigBullet",e.bullets.push(l)}),25*a);e.timeouts.push(l)},l=0;l<11;l++)a(l)},e.enemy=new b(0,-350,50,10,e.world),e.enemies.push(e.enemy),e.outerBarrier=new p(0,-350,80,250,e.world),e.barriers.push(e.outerBarrier),e.player.body.label="player",e.firstBarrageTimeout=setTimeout((function(){return e.firstBarrage()}),3e3),e.secondBarrageTimeout=setTimeout((function(){return e.secondBarrage()}),17e3),e.thirdBarrageTimeout=setTimeout((function(){return e.thirdBarrage()}),32e3),e.fourthBarrageTimeout=setTimeout((function(){return e.fourthBarrage()}),5e4),e.theEndTimeout=setTimeout((function(){return e.theEnd=!0}),62e3),e.endTimeout=setTimeout((function(){return e.end=new m(0,0,2e3,1e3,{isStatic:!0,isSensor:!0},e.world)}),65150),e.timeouts.push(e.firstBarrageTimeout,e.secondBarrageTimeout,e.thirdBarrageTimeout,e.fourthBarrageTimeout,e.theEndTimeout,e.endTimeout),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(O,null),this.renderScene())}}]),t}(T),P=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("text",{fill:"white",fontSize:"32",alignmentBaseline:"central",textAnchor:"middle"},"Victory!!!"),x(-15,-115,30,30),i.a.createElement("rect",{fill:"white",height:"100%",width:"100%",x:"-50%",y:"-50%",className:"disappear",pointerEvents:"none"}))},N=(r(15),function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).keyboard=function(){r.setState({playMode:"keyboard",currentScene:"scene1"})},r.touchscreen=function(){r.setState({playMode:"touchscreen",currentScene:"scene1"})},r.restart=function(){r.setState({currentScene:"start"})},r.victory=function(){r.setState({currentScene:"victory"})},r.state={currentScene:"start",playMode:"keyboard"},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"svg-container"},i.a.createElement("svg",{viewBox:"-1000 -500 2000 1000",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("rect",{fill:"black",width:"100%",height:"100%",x:"-1000",y:"-500"}),"start"===this.state.currentScene&&i.a.createElement(y,{keyboard:this.keyboard,touchscreen:this.touchscreen}),"scene1"===this.state.currentScene&&i.a.createElement(A,{playMode:this.state.playMode,victory:this.victory,restart:this.restart}),"victory"===this.state.currentScene&&i.a.createElement(P,null),i.a.createElement("rect",{fill:"transparent",stroke:"blue",width:"2100",height:"1150",x:"-1050",y:"-550",strokeWidth:"100",pointerEvents:"none"})))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,r){e.exports=r(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.5145ae27.chunk.js.map
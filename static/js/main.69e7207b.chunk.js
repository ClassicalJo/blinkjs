(this.webpackJsonpblinkjs=this.webpackJsonpblinkjs||[]).push([[0],{16:function(e,t,n){e.exports=n.p+"static/media/keyboard.7938c350.svg"},19:function(e,t,n){e.exports=n(32)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(15),a=n.n(r),c=n(8),s=n(6),l=n(2),u=n(9),d=n(4),y=n(3),m=n(5),f=function(){return i.a.createElement("defs",null,i.a.createElement("filter",{id:"blur"},i.a.createElement("feGaussianBlur",{stdDeviation:"2"})),i.a.createElement("radialGradient",{id:"avaHeart",cx:"50%",cy:"50%",r:"100%"},i.a.createElement("stop",{stopColor:"white",offset:"5%"}),i.a.createElement("stop",{stopColor:"silver",offset:"25%"}),i.a.createElement("stop",{stopColor:"black",offset:"55%"})),i.a.createElement("filter",{id:"glowing",height:"500%",width:"500%",x:"-250%",y:"-250%"},i.a.createElement("feDropShadow",{floodColor:"silver",floodOpacity:"0.9",stdDeviation:"5",dy:"0",dx:"0"}),i.a.createElement("feDropShadow",{floodColor:"black",stdDeviation:"3",dy:"0",dx:"0"})),["violet","indigo","blue","green","yellow","orange","red","white"].map((function(e){return i.a.createElement("radialGradient",{key:e,id:"radial".concat(e),cx:"50%",cy:"50%",r:"100%"},i.a.createElement("stop",{stopColor:"silver",offset:"15%"}),i.a.createElement("stop",{stopColor:e,offset:"25%"}),i.a.createElement("stop",{stopColor:"white",offset:"95%"}))})))},b=function(e){return i.a.createElement("svg",{id:"main-svg",viewBox:"-1000 -562.5 2000 1125",preserveAspectRatio:"xMidYMid meet"},i.a.createElement(f,null),i.a.createElement("mask",{id:"transparent"},i.a.createElement("rect",{width:"5000",height:"5000",x:"-2500",y:"-2500",fill:"white"}),i.a.createElement("rect",{width:"2000",height:"1125",x:"-1000",y:"-562.5",fill:"black"})),i.a.createElement("rect",{fill:"black",width:"5000",height:"5000",x:"-2500",y:"-2500"}),e.children,i.a.createElement("rect",{fill:"black",width:"5000",height:"5000",x:"-2500",y:"-2500",mask:"url(#transparent)",pointerEvents:"none"}))},p=n(16),h=n.n(p),x=function(e){return i.a.createElement(b,null,i.a.createElement("rect",{strokeWidth:"5",stroke:"rgba(255,255,255,0.2)",fill:"black",x:-600,y:-450,width:1200,height:900,onClick:function(){return e.sceneChange("start")}}),i.a.createElement("image",{width:"250",x:-125,y:-375,xlinkHref:h.a,pointerEvents:"none"}),i.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:100,fill:"white",pointerEvents:"none"},"WASD: Movement"),i.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:150,fill:"white",pointerEvents:"none"},"K: Blink"),i.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:200,fill:"white",pointerEvents:"none"},"L: Fire"),i.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:250,fill:"white",pointerEvents:"none"},"P: Pause"),i.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:300,fill:"white",pointerEvents:"none"},"R: Reset"),i.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:400,fill:"white",pointerEvents:"none"},"Click to go back"))},v=function(e,t,n,o){var r="M ".concat(e+n/2," ").concat(t-2*o," L ").concat(e," ").concat(t-o," V ").concat(t-o/4," H ").concat(e+n," V").concat(t-o," Z"),a="M ".concat(e-n/4," ").concat(t-o/2," V ").concat(t+2*o," H ").concat(e-5*n/4," Z"),c="M ".concat(e+5*n/4," ").concat(t-o/2," V ").concat(t+2*o," H ").concat(e+9*n/4," Z");return i.a.createElement("g",null,i.a.createElement("path",{d:r,fill:"white"}),i.a.createElement("path",{d:a,fill:"white"}),i.a.createElement("path",{d:c,fill:"white"}),i.a.createElement("rect",{id:"player",className:"playerGlow",x:e,y:t,width:n,height:o}))},g=function(e){return i.a.createElement(b,null,i.a.createElement("g",{transform:"rotate(90, -262.5, -12.5)"},v(-362.5,-12.5,25,25)),i.a.createElement("text",{y:-100,fill:"white",fontFamily:"Arial Black",fontSize:"80",textAnchor:"middle",pointerEvents:"none",alignmentBaseline:"central"},"BlinkJS"),i.a.createElement("rect",{x:-75,y:185,width:"150",height:"80",cursor:"pointer",onClick:function(){return e.sceneChange("select")}}),i.a.createElement("text",{y:"225",fill:"white",fontFamily:"Arial Black",fontSize:"40",textAnchor:"middle",alignmentBaseline:"central",pointerEvents:"none"},"Start"),i.a.createElement("rect",{x:-200,y:335,width:"400",height:"80",cursor:"pointer",onClick:function(){return e.sceneChange("controller")}}),i.a.createElement("text",{y:"375",fill:"white",fontFamily:"Arial Black",fontSize:"40",textAnchor:"middle",alignmentBaseline:"central",pointerEvents:"none"},"How to play"),i.a.createElement("rect",{x:-900,y:400,width:"300",height:"80",cursor:"pointer",onClick:e.erase}),i.a.createElement("text",{x:"-750",y:440,fill:"white",fontFamily:"Arial Black",fontSize:"40",textAnchor:"middle",alignmentBaseline:"central",pointerEvents:"none"},"Erase data"))},w=function(e,t,n){return"\n            M".concat(e," ").concat(t+2*n," \n            L").concat(e+n/8," ").concat(t," \n            L").concat(e," ").concat(t-2*n," \n            L").concat(e-n/8," ").concat(t," \n            Z")},M=function(e,t,n){return"\n            M".concat(e+n*Math.cos(360*Math.PI/180)," ").concat(t+2*n*Math.sin(300*Math.PI/180),"            \n            L").concat(e+2*n*Math.cos(60*Math.PI/180)," ").concat(t+2*n*Math.sin(60*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(180*Math.PI/180)," ").concat(t+2*n*Math.sin(180*Math.PI/180),"\n            Z")},E=function(e,t,n){return"\n            M".concat(e+n/2*Math.cos(225*Math.PI/180)," ").concat(t+n/2*Math.sin(225*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(270*Math.PI/180)," ").concat(t+2*n*Math.sin(270*Math.PI/180),"\n            L").concat(e+n/2*Math.cos(325*Math.PI/180)," ").concat(t+n/2*Math.sin(325*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(2*Math.PI)," ").concat(t+2*n*Math.sin(2*Math.PI),"\n            L").concat(e+n/2*Math.cos(45*Math.PI/180)," ").concat(t+n/2*Math.sin(45*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(90*Math.PI/180)," ").concat(t+2*n*Math.sin(90*Math.PI/180),"\n            L").concat(e+n/2*Math.cos(135*Math.PI/180)," ").concat(t+n/2*Math.sin(135*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(180*Math.PI/180)," ").concat(t+2*n*Math.sin(180*Math.PI/180),"\n            Z\n            ")},k=function(e,t,n,o,i){return"\n            M".concat(e+n+o," ").concat(t,"\n            H").concat(e-n-o,"\n            \n            ")},B=function(e,t,n,o,i){return"\n            M".concat(e," ").concat(t-i,"\n            C").concat(e+n+2*o," ").concat(t-i," ").concat(e+n+2*o," ").concat(t," ").concat(e+n+o," ").concat(t,"\n            H").concat(e-n-o,"\n            C").concat(e-n-2*o," ").concat(t," ").concat(e-n-2*o," ").concat(t-i," ").concat(e," ").concat(t-i,"\n            ")},O={sakura:function(e){return i.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}),i.a.createElement("path",{d:w(e.body.position.x,e.body.position.y,e.body.circleRadius),fill:"white"}))},blood:function(e){return i.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},satellite:function(e){return i.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},nul:function(e){return i.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},i.a.createElement("path",{d:M(e.body.position.x,e.body.position.y,e.body.circleRadius),fill:"purple"}),i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},vida:function(e){return i.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},i.a.createElement("path",{d:E(e.body.position.x,e.body.position.y,e.body.circleRadius),fill:"#ccc3b4"}),i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},ava:function(e){var t=[0,90],n=[0,-90,-135];return i.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},n.map((function(t){return i.a.createElement("path",{key:"inner".concat(t),stroke:"#6E798A",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:B(e.body.position.x,e.body.position.y,e.body.circleRadius,15,5)},i.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t-360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})),t.map((function(t){return i.a.createElement("path",{key:"outer".concat(t),stroke:"silver",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:B(e.body.position.x,e.body.position.y,e.body.circleRadius,25,5)},i.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t+360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})),i.a.createElement("circle",{key:e.body.id,className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"url(#avaHeart)"},i.a.createElement("animateTransform",{additive:"sum",attributeName:"transform",type:"translate",values:"0;".concat((1-1.05)*e.body.position.x," ").concat((1-1.05)*e.body.position.y,";0;0"),dur:"1.5",repeatCount:"indefinite",fill:"remove",keyTimes:"0; 0.15; 0.25; 1"}),i.a.createElement("animateTransform",{additive:"sum",attributeName:"transform",type:"scale",values:"1;1.05;1;1",dur:"1.5",repeatCount:"indefinite",fill:"remove",keyTimes:"0; 0.15; 0.25; 1"})),n.map((function(t){return i.a.createElement("path",{key:"2inner".concat(t),stroke:"#6E798A",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:k(e.body.position.x,e.body.position.y,e.body.circleRadius,15,5)},i.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t-360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})),t.map((function(t){return i.a.createElement("path",{key:"2outer".concat(t),stroke:"silver",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:k(e.body.position.x,e.body.position.y,e.body.circleRadius,25,5)},i.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t+360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})))}},C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(y.a)(t).call(this,e))).render=function(){return i.a.createElement(b,null,i.a.createElement("text",{y:"-500",fontFamily:"Arial Black",pointerEvents:"none",fill:"white",fontSize:"40",textAnchor:"middle",alignmentBaseline:"central"},"Next objective:"),O.sakura(S),i.a.createElement("rect",{x:-425,y:-425,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return n.props.selectEnemy("scene1")}}),!n.props.sakura&&i.a.createElement("rect",{x:-425,y:-425,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),O.blood(I),O.satellite(j),O.satellite(P),i.a.createElement("rect",{x:25,y:-425,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return n.props.selectEnemy("scene2")}}),!n.props.blood&&i.a.createElement("rect",{x:25,y:-425,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),O.nul(N),i.a.createElement("rect",{x:-425,y:25,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return n.props.selectEnemy("scene3")}}),!n.props.nul&&i.a.createElement("rect",{x:-425,y:25,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),O.vida(A),i.a.createElement("rect",{x:25,y:25,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return n.props.selectEnemy("scene4")}}),!n.props.vida&&i.a.createElement("rect",{x:25,y:25,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),!n.props.vida&&!n.props.blood&&!n.props.sakura&&!n.props.nul&&i.a.createElement("g",null,i.a.createElement("rect",{x:-200,y:-200,width:"400",height:"400",stroke:"white",fill:"black",cursor:"pointer",onClick:function(){return n.props.selectEnemy("scene5")}}),O.ava(W)),i.a.createElement("rect",{x:"-100",y:"475",width:"200",height:"50",cursor:"pointer",onClick:function(){return n.props.sceneChange("start")}}),i.a.createElement("text",{y:"500",fontFamily:"Arial Black",fontSize:"25",textAnchor:"middle",alignmentBaseline:"central",fill:"white",pointerEvents:"none"},"Back"))},"none"!==n.props.enemySelected&&n.props.sceneChange(n.props.enemySelected),n}return Object(m.a)(t,e),t}(i.a.Component),S={body:{id:1,position:{x:-225,y:-225},circleRadius:50,angle:0},coreColor:"pink",className:"sakyra"},I={body:{id:2,position:{x:225,y:-225},circleRadius:50,angle:0},coreColor:"red",className:"blood"},j={body:{id:3,position:{x:225,y:-300},circleRadius:5,angle:0},coreColor:"red",className:"phobos"},P={body:{id:4,position:{x:225,y:-150},circleRadius:5,angle:0},coreColor:"red",className:"deimos"},N={body:{id:5,position:{x:-225,y:225},circleRadius:50,angle:0},coreColor:"indigo",className:"nul"},A={body:{id:6,position:{x:225,y:225},circleRadius:50,angle:0},coreColor:"#76c34e",className:"vida"},W={body:{id:7,position:{x:0,y:0},circleRadius:50,angle:0},coreColor:"white",className:"ava"},R=C,F=n(1),z=function e(t,n,o,i,r){var a=this;Object(l.a)(this,e);this.coreColor="lightpink",this.body=F.Bodies.circle(t,n,o,{isSensor:!0}),this.body.hp=i,this.body.maxHp=i,this.body.label="enemy",this.dead=!1,F.World.add(r,this.body),this.remove=function(){a.wait&&clearTimeout(a.wait),F.World.remove(r,a.body)}},L=function e(t,n,o,i){var r=this;Object(l.a)(this,e);this.coreColor="lightpink",this.body=F.Bodies.circle(t,n,o,{isSensor:!0}),this.body.label="wall",F.World.add(i,this.body),this.remove=function(){r.wait&&clearTimeout(r.wait),F.World.remove(i,r.body)}},T=function e(t,n,o,i,r){var a=this;Object(l.a)(this,e);this.coreColor=i.coreColor,this.body=F.Bodies.circle(t,n,o,{isSensor:!0}),this.body.genome=i,this.body.label="clone",this.body.hp=i.body.hp,this.body.maxHp=i.body.maxHp,F.World.add(r,this.body),this.remove=function(){F.World.remove(r,a.body)}},V=function e(t,n,o,i,r){var a=this;Object(l.a)(this,e),this.body=F.Bodies.circle(t,n,o,{isStatic:!0,isSensor:!0}),this.body.label="barrier",this.body.maxHp=i,this.body.hp=i,this.radius=o,this.danger=Math.ceil(this.body.maxHp/4),this.className="barrier",F.World.add(r,this.body),this.remove=function(){F.World.remove(r,a.body)}},D=n(10),H=n.n(D),q=function e(t,n,o,i,r,a){var c=this;Object(l.a)(this,e),this.body=F.Bodies.rectangle(t,n,o,i,r),this.width=o,this.height=i,F.World.add(a,this.body),this.remove=function(){F.World.remove(a,c.body)}},U=function e(t,n,o,i,r){var a=this;Object(l.a)(this,e);this.body=F.Bodies.circle(t,n,o,{isSensor:!0}),this.body.label="playerBullet",this.radius=o,F.Body.setVelocity(this.body,{x:0,y:-15}),F.World.add(i,this.body),this.checkIfIsOffScreen=setInterval((function(){a.isOffScreen(a.body.position.x,a.body.position.y)&&a.remove()}),16),this.isOffScreen=function(e,t){return e>1e3||e<-1e3||t>500||t<-500},this.remove=function(){clearInterval(a.checkIfIsOffScreen),F.World.remove(i,a.body);for(var e=r.length-1;e>=0;e--)r[e].body.id===a.body.id&&r.splice(e,1)}},K=function e(t){Object(l.a)(this,e),this.ground=new q(0,562.5,2e3,100,{isStatic:!0},t),this.ground.body.label="wall",this.ceiling=new q(0,-562.5,2e3,100,{isStatic:!0},t),this.ceiling.body.label="wall",this.leftWall=new q(-1e3,0,100,1075,{isStatic:!0},t),this.leftWall.body.label="wall",this.rightWall=new q(1e3,0,100,1075,{isStatic:!0},t),this.rightWall.body.label="wall",this.walls=[this.ground,this.ceiling,this.leftWall,this.rightWall]},Y=function(e,t){for(var n=t.length-1;n>=0;n--)t[n].body.id===e.id&&t[n].remove()},Z=function(e,t,n){F.Events.on(t,"collisionStart",(function(t){for(var o=0;o<t.pairs.length;o++){var i=t.pairs[o];"player"===i.bodyA.label&&"wall"!==i.bodyB.label?"playerBullet"!==i.bodyB.label&&(e.dead=!0):"player"===i.bodyB.label&&"wall"!==i.bodyA.label&&"playerBullet"!==i.bodyA.label&&(e.dead=!0),"playerBullet"===i.bodyA.label?"barrier"===i.bodyB.label?(i.bodyB.hp--,Y(i.bodyA,n)):"enemy"===i.bodyB.label?(i.bodyB.hp--,Y(i.bodyA,n)):"clone"===i.bodyB.label&&(i.bodyB.genome.body.hp--,Y(i.bodyA,n)):"playerBullet"===i.bodyB.label&&("barrier"===i.bodyA.label?(i.bodyA.hp--,Y(i.bodyB,n)):"enemy"===i.bodyA.label?(i.bodyA.hp--,Y(i.bodyB,n)):"clone"===i.bodyA.label&&(i.bodyA.genome.body.hp--,Y(i.bodyB,n)))}}))},G={bouncer:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"#FFFF26",filter:"url(#blur)"}),i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:3*e.body.circleRadius/4,fill:"black"}))},bullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#FFFF26",fill:"lightpink",strokeWidth:"1"}))},explosion:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"explosion",cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},bigBullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#C24CF6",fill:"black",strokeWidth:"5"}))},surroundBullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#FFFF26",fill:"#C24CF6",strokeWidth:"1"}))},laser:function(e){var t="rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")");return i.a.createElement("rect",{key:e.body.id,x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,fill:"red",transform:t})},aimLaser:function(e){var t="rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")");return i.a.createElement("rect",{key:e.body.id,x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,fill:"rgba(255,0,0,0.4)",transform:t})},nul:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#9649CB",fill:"#292E1E",strokeWidth:"3"}))},vida:function(e){var t=Object(s.a)({},e.body.position),n=t.x,o=t.y,r=e.body.circleRadius;return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:n,cy:o,r:r,fill:"#ccc3b4",opacity:"0.85"}),i.a.createElement("path",{d:"M".concat(n," ").concat(o-r," L ").concat(n+r/4," ").concat(o-r/4," L ").concat(n+r," ").concat(o," L ").concat(n+r/4," ").concat(o+r/4," L ").concat(n," ").concat(o+r," L ").concat(n-r/4," ").concat(o+r/4," L ").concat(n-r," ").concat(o," L ").concat(n-r/4," ").concat(o-r/4," Z"),fill:"#76C34E",opacity:"0",transform:"rotate(0 ".concat(n," ").concat(o,")")},i.a.createElement("animate",{id:"fill".concat(e.body.id),attributeName:"opacity",begin:"indefinite",dur:"0.1s",fill:"freeze",from:"0",to:"0.5"}),i.a.createElement("animateTransform",{id:"nuke".concat(e.body.id),attributeName:"transform",begin:"indefinite",dur:"2s",repeatCount:"indefinite",fill:"freeze",type:"rotate",from:"0 ".concat(n," ").concat(o),to:"360 ".concat(n," ").concat(o)})))},lifeLaser:function(e){return i.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(e.body.angle," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},i.a.createElement("rect",{className:"bullet",x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,stroke:"#76C34E",fill:"#F7F06D",strokeWidth:"3",opacity:"0.75"}))},lifeWave:function(e){var t=[e.body.bodies[1].vertices,e.body.bodies[0].vertices].flat();return i.a.createElement("g",{key:e.body.id},i.a.createElement("path",{className:"lifeWave",id:e.body.id,d:"M ".concat(t[0].x," ").concat(t[0].y," L ").concat(t[3].x," ").concat(t[3].y," L ").concat(t[5].x," ").concat(t[5].y," L ").concat(t[4].x," ").concat(t[4].y," Z"),fill:"transparent",stroke:"white",strokeWidth:"1",opacity:"0.2"},i.a.createElement("animate",{attributeName:"fill",from:"transparent",to:"#76C34E",begin:"3s",dur:"0.05s",fill:"freeze"}),i.a.createElement("animate",{attributeName:"fill",from:"#76C34E",to:"white",begin:"3.05s",dur:"0.05s",fill:"freeze",repeatCount:"indefinite"}),i.a.createElement("animate",{attributeName:"opacity",from:"0.2",to:"0.75",begin:"0s",dur:"4s",fill:"freeze"})))},pointer:function(e){return i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"red"})},ava:function(e){return i.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"url(#radial".concat(e.color,")")})},avaPointer:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"black",filter:"url(#glowing)"}),i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius/2.5,fill:"silver",opacity:"0.3",filter:"url(#blur)"}))},avaHoming:function(e){return i.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"url(#radial".concat(e.color,")")},i.a.createElement("animate",{id:"fade".concat(e.body.id),attributeName:"opacity",from:"1",to:"0.25",dur:"0.25s",begin:"indefinite",fill:"freeze"}),i.a.createElement("animateTransform",{id:"translate".concat(e.body.id),attributeName:"transform",type:"translate",additive:"sum",from:"0 0",to:"".concat(.9*e.body.position.x," ").concat(.9*e.body.position.y),dur:"0.25s",begin:"indefinite",fill:"freeze"}),i.a.createElement("animateTransform",{id:"diminish".concat(e.body.id),attributeName:"transform",additive:"sum",type:"scale",from:"1 1",to:"0.1 0.1",dur:"0.25s",begin:"indefinite",fill:"freeze"}))},avaRailgun:function(e){return i.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"blue"})},avaAim:function(e){return i.a.createElement("rect",{key:e.body.id,x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,fill:"white",opacity:"0.3",transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")})},avaCannon:function(e){var t=e.body.vertices,n=Math.sqrt(Math.pow(t[2].x-t[1].x,2)+Math.pow(t[2].y-t[1].y,2)),o=Math.sqrt(Math.pow(t[1].x-t[0].x,2)+Math.pow(t[1].y-t[0].y,2));return i.a.createElement("rect",{key:e.body.id,x:e.body.position.x+o/-2,y:e.body.position.y+n/-2,width:o,height:n,rx:n,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")"),fill:"white",opacity:"0.9"},i.a.createElement("animate",{id:"fade".concat(e.body.id),attributeName:"opacity",from:"0.9",to:"0",dur:"0.5s",begin:"indefinite",fill:"freeze"}))}},J=function(){var e=[1];return i.a.createElement("g",null,e.map((function(e){return i.a.createElement("rect",{key:e,x:Math.ceil(2e3*Math.random())-1e3,y:Math.ceil(1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})),e.map((function(e){return i.a.createElement("rect",{key:e,x:Math.ceil(-2e3*Math.random())-1e3,y:Math.ceil(-1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})))},$=n(7),Q=function(e,t,n){return 0===e&&0===t?1:0===n&&0===t?1:Math.abs(t-e)/Math.abs(t-n)},X=function(e,t,n,o){var i=Math.atan2(o-t,n-e);return(i=360*(i>0?i:2*Math.PI+i)/(2*Math.PI))*Math.PI/180},_={coordinates:function(e,t,n,o,i){var r=X(e,t,n,o);return{x:e+i*Math.cos(r),y:t+i*Math.sin(r)}},getTargetVelocity:function(e,t,n,o,i){var r=X(e,t,n,o);return{x:i*Math.cos(r),y:i*Math.sin(r)}},getTheta:function(e,t,n,o){var i=Math.atan2(o-t,n-e);return(i=360*(i>0?i:2*Math.PI+i)/(2*Math.PI))*Math.PI/180},getTargetDiminishingVelocity:function(e,t,n,o,i,r){var a=X(e,t,n,o);return{x:i*Q(e,n,r.x)*Math.cos(a),y:i*Q(t,o,r.y)*Math.sin(a)}},orbit:function(e,t,n,o,i,r){var a=Math.atan2(o-t,n-e);return a=360*(a>0?a:2*Math.PI+a)/(2*Math.PI),a=(a+=r)*Math.PI/180,{x:e+i*Math.cos(a),y:t+i*Math.sin(a)}},getCircularVelocity:function(e,t,n,o,i,r){var a=X(e.x,e.y,n.x,n.y)+o,c={x:n.x+i*Math.cos(a),y:n.y+i*Math.sin(a)},s=X(t.x,t.y,c.x,c.y);return{x:r*Math.cos(s),y:r*Math.sin(s)}}},ee=n(17),te=n.n(ee);window.decomp=te.a;var ne=F.Bodies.rectangle(0,0,100,10,{}),oe=function e(t){Object(l.a)(this,e);var n=[];this.isOffScreen=function(e,t){return e>1250||e<-1250||t>812.5||t<-812.5},this.timeout=function(e,o){var i=Number(t.timer),r=setInterval((function(){1e3*Math.abs(i-t.timer)>=o&&(e(),clearInterval(r))}),10);n.push(r)}},ie=function(e){function t(e,n,o,i,r,a,c){var s;Object(l.a)(this,t);(s=Object(d.a)(this,Object(y.a)(t).call(this,a))).body=F.Bodies.circle(e,n,o,{isSensor:!0,label:"bullet"}),s.timeout((function(){return F.Body.setVelocity(s.body,{x:0,y:i})}),r),s.timeout((function(){return s.remove()}),5e3);var u=setInterval((function(){return s.isOffScreen(s.body.position.x,s.body.position.y)?s.remove():null}),16);return F.World.add(a,s.body),c.push(Object($.a)(s)),s.remove=function(){clearInterval(u),F.World.remove(a,s.body);for(var e=c.length-1;e>=0;e--)c[e].body.id===s.body.id&&c.splice(e,1)},s}return Object(m.a)(t,e),t}(oe),re=function(e){function t(e,n,o,i,r,a,c,s,u){var m;Object(l.a)(this,t),(m=Object(d.a)(this,Object(y.a)(t).call(this,s))).options={restitution:1,label:"bouncer"},m.body=F.Bodies.circle(e,n,r,m.options);var f=_.getTargetVelocity(e,n,o,i,a);return F.World.add(s,m.body),u.push(Object($.a)(m)),m.timeout((function(){return F.Body.setVelocity(m.body,f)}),c),m.timeout((function(){return m.remove()}),5e3),m.remove=function(){F.World.remove(s,m.body);for(var e=u.length-1;e>=0;e--)u[e].body.id===m.body.id&&u.splice(e,1)},m}return Object(m.a)(t,e),t}(oe),ae=function(e){function t(e,n,o,i,r,a,c,s,u){var m;Object(l.a)(this,t),(m=Object(d.a)(this,Object(y.a)(t).call(this,s))).body=F.Bodies.circle(e,n,r,{isSensor:!0,label:"bullet"});var f=_.getTargetVelocity(e,n,o,i,a);return F.World.add(s,m.body),u.push(Object($.a)(m)),m.timeout((function(){return F.Body.setVelocity(m.body,f)}),c),m.timeout((function(){return m.remove()}),4e3),m.remove=function(){F.World.remove(s,m.body);for(var e=u.length-1;e>=0;e--)u[e].body.id===m.body.id&&u.splice(e,1)},m}return Object(m.a)(t,e),t}(oe),ce=function(e){function t(e,n,o,i,r,a,c,s){var u;Object(l.a)(this,t),(u=Object(d.a)(this,Object(y.a)(t).call(this,c))).body=F.Bodies.circle(e,n,i,{isSensor:!0,label:"bullet"}),u.redirect=!1;var m=[];F.World.add(c,u.body),s.push(Object($.a)(u));var f=setInterval((function(){if(u.redirect){var e=_.getTargetVelocity(u.body.position.x,u.body.position.y,o.x,o.y,r);F.Body.setVelocity(u.body,e)}}),16);u.timeout((function(){return u.redirect=!0}),a),u.timeout((function(){return u.redirect=!1}),a+750),u.timeout((function(){return u.remove()}),4e3);var b=setInterval((function(){return u.isOffScreen(u.body.position.x,u.body.position.y)?u.remove():null}),16);return m.push(f,b),u.remove=function(){m.forEach((function(e){return clearInterval(e)})),F.World.remove(c,u.body);for(var e=0;e<s.length;e++)s[e].body.id===u.body.id&&s.splice(e,1)},u}return Object(m.a)(t,e),t}(oe),se=function e(t,n,o,i,r,a,c){var s=this;Object(l.a)(this,e),this.body=F.Bodies.rectangle(t+o/2,n,o,i,{isSensor:!0,label:"laser"}),this.height=i,this.width=o,F.Body.rotate(this.body,r,{x:t,y:n}),F.World.add(a,this.body),c.push(this),this.rotate=function(e){return F.Body.rotate(s.body,e,{x:t,y:n})},this.remove=function(){F.World.remove(a,s.body);for(var e=0;e<c.length;e++)c[e].body.id===s.body.id&&c.splice(e,1)}},le=function e(t,n,o,i,r,a,c){var s=this;Object(l.a)(this,e),this.body=F.Bodies.rectangle(t+o/2,n,o,i,{isSensor:!0,label:"aimLaser"}),this.height=i,this.width=o,F.Body.rotate(this.body,r,{x:t,y:n}),c.push(this),this.remove=function(){F.World.remove(a,s.body);for(var e=0;e<c.length;e++)c[e].body.id===s.body.id&&c.splice(e,1)}},ue=function(e){function t(e,n,o,i,r,a,c,s,u){var m;return Object(l.a)(this,t),(m=Object(d.a)(this,Object(y.a)(t).call(this,e,n,o,i,r,a,c,s,u))).body.label="nul",m}return Object(m.a)(t,e),t}(ae),de=function(e){function t(e,n,o,i,r,a,c,s,u){var m;Object(l.a)(this,t),(m=Object(d.a)(this,Object(y.a)(t).call(this,s))).body=F.Bodies.circle(e,n,r,{label:"vida",isSensor:"true"});var f=_.getTargetVelocity(e,n,o,i,a);return m.timeout((function(){return F.Body.setVelocity(m.body,f)}),c),m.timeout((function(){return m.remove()}),5e3),m.explode=function(){F.Body.setVelocity(m.body,{x:0,y:0}),document.querySelector("#nuke".concat(m.body.id)).beginElement(),document.querySelector("#fill".concat(m.body.id)).beginElement();for(var e=0;e<10;e++)m.timeout((function(){return F.Body.scale(m.body,1.3,1.3)}),15*e)},F.World.add(s,m.body),u.push(Object($.a)(m)),m.remove=function(){for(var e in F.World.remove(s,m.body),u)u[e].body.id===m.body.id&&u.splice(e,1)},m.timeout((function(){return m.explode()}),2e3),m}return Object(m.a)(t,e),t}(oe),ye=function(e){function t(e,n,o,i,r,a,c,s,u){var m;Object(l.a)(this,t),(m=Object(d.a)(this,Object(y.a)(t).call(this,s))).body=F.Bodies.rectangle(e,n,o,i,{isSensor:!0,label:"lifeLaser",frictionAir:0}),m.height=i,m.width=o;var f=_.getTheta(e,n,r.x,r.y);F.Body.rotate(m.body,180*f/Math.PI,{x:m.body.position.x,y:m.body.position.y});var b=_.getTargetVelocity(e,n,r.x,r.y,a);return m.timeout((function(){return F.Body.setVelocity(m.body,b)}),c),m.timeout((function(){return m.remove()}),4e3),F.World.add(s,m.body),u.push(Object($.a)(m)),m.remove=function(){for(var e in F.World.remove(s,m.body),u)u[e].body.id===m.body.id&&u.splice(e,1)},m}return Object(m.a)(t,e),t}(oe),me=function(e){function t(e,n,o,i,r,a,c,u,m){var f;Object(l.a)(this,t),f=Object(d.a)(this,Object(y.a)(t).call(this,u));var b=[{x:0,y:-i},{x:o,y:i},{x:o/2,y:i}],p=[{x:0,y:i},{x:o,y:-i},{x:o/2,y:-i}],h=F.Vertices.centre(F.Vertices.create(b,ne)),x=F.Bodies.fromVertices(e+100,n+2*h.y,F.Vertices.create(p,ne),{isSensor:!0,frictionAir:0}),v=F.Bodies.fromVertices(e+100,n-2*h.y,F.Vertices.create(b,ne),{isSensor:!0,frictionAir:0}),g=Object(s.a)({},r);return f.width=o,f.height=i,f.body=F.Composite.create({label:"lifeWave"}),F.Composite.add(f.body,x),F.Composite.add(f.body,v),F.Composite.rotate(f.body,_.getTheta(e,n,r.x,r.y),{x:e,y:n}),f.body.bodies.forEach((function(t){return f.timeout((function(){return F.Body.setVelocity(t,_.getTargetVelocity(e,n,g.x,g.y,a))}),c)})),F.World.add(u,f.body),m.push(Object($.a)(f)),f.timeout((function(){return f.remove()}),3e3),f.remove=function(){for(var e in F.World.remove(u,f.body),m)m[e].body.id===f.body.id&&m.splice(e,1)},f}return Object(m.a)(t,e),t}(oe),fe=function(e){function t(e,n,o,i,r,a,c){var u;Object(l.a)(this,t),(u=Object(d.a)(this,Object(y.a)(t).call(this,a))).body=F.Bodies.circle(e.x,e.y,10,{isSensor:!0,label:"delayedHoming"});return u.redirect=function(){F.Body.setVelocity(u.body,function(e){var t=Object(s.a)({},u.body.velocity),n=Object(s.a)({},e);for(var o in e)Math.abs(t[o]-e[o])>1&&(e[o]>-1?n[o]=t[o]+1:n[o]=t[o]-1);return n}(_.getTargetVelocity(u.body.position.x,u.body.position.y,o.x,o.y,r))),u.timeout(u.redirect,16)},u.timeout((function(){return u.remove()}),5e3),u.remove=function(){for(var e in F.World.remove(a,u.body),c)c[e].body.id===u.body.id&&c.splice(e,1)},F.World.add(a,u.body),c.push(Object($.a)(u)),u.timeout(u.redirect,i),F.Body.setVelocity(u.body,_.getTargetVelocity(u.body.position.x,u.body.position.y,n.x,n.y,r)),u}return Object(m.a)(t,e),t}(oe),be=function(e){function t(e,n,o,i,r,a,c,s,u,m){var f;return Object(l.a)(this,t),(f=Object(d.a)(this,Object(y.a)(t).call(this,e,n,o,i,r,a,c,s,u))).color=m,f.body.label="ava",f}return Object(m.a)(t,e),t}(ae),pe=function(e){function t(e,n,o,i,r,a,c,s){var u;return Object(l.a)(this,t),(u=Object(d.a)(this,Object(y.a)(t).call(this,e,n,o,i,r,a,c))).body.label="avaHoming",u.color=s,u}return Object(m.a)(t,e),t}(fe),he=function(e){function t(e,n,o,i){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(y.a)(t).call(this,e,n,o,i))).body.label="avaPointer",r}return Object(m.a)(t,e),t}(function(e){function t(e,n,o,i){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(y.a)(t).call(this,o))).body=F.Bodies.circle(e.x,e.y,n,{isSensor:!0,label:"pointer"}),F.World.add(o,r.body),i.push(Object($.a)(r)),r.remove=function(){F.World.remove(o,r.body);for(var e=i.length-1;e>=0;e--)i[e].body.id===r.body.id&&i.splice(e,1)},r}return Object(m.a)(t,e),t}(oe)),xe=function(e){function t(e,n,o,i,r,a,c){var s;return Object(l.a)(this,t),(s=Object(d.a)(this,Object(y.a)(t).call(this,a))).body=F.Bodies.circle(e.x,e.y,o,{isSensor:!0,label:"avaRailgun"}),F.World.add(a,s.body),c.push(Object($.a)(s)),s.timeout((function(){F.Body.setVelocity(s.body,_.getTargetVelocity(s.body.position.x,s.body.position.y,n.x,n.y,i))}),r),s.timeout((function(){return s.remove()}),3e3),s.remove=function(){F.World.remove(a,s.body);for(var e=c.length-1;e>=0;e--)c[e].body.id===s.body.id&&c.splice(e,1)},s}return Object(m.a)(t,e),t}(oe),ve=function(e){function t(e,n,o,i,r,a,c){var s;return Object(l.a)(this,t),(s=Object(d.a)(this,Object(y.a)(t).call(this,e,n,o,i,r,a,c))).body.label="avaAim",s}return Object(m.a)(t,e),t}(le),ge=function(e){function t(e,n,o,i,r,a,c){var s;return Object(l.a)(this,t),(s=Object(d.a)(this,Object(y.a)(t).call(this,e,n,o,i,r,a,c))).body.label="avaCannon",s}return Object(m.a)(t,e),t}(se),we=function(e){return i.a.createElement("g",null,i.a.createElement("rect",{x:"-1500",y:"-1500",width:"3000",height:"3000",fill:"black",opacity:"0.7"}),i.a.createElement("text",{fontFamily:"Arial Black",fill:"white",fontSize:"50",alignmentBaseline:"central",textAnchor:"middle",pointerEvents:"none"},"PAUSE"),i.a.createElement("rect",{x:"-400",y:"400",rx:"20",width:"800",height:"100",fill:"transparent",cursor:"pointer",onClick:function(){e.setShowIntro(!0),e.selectEnemy("none"),e.sceneChange("select")}}),i.a.createElement("text",{fontFamily:"Arial Black",fill:"white",fontSize:"32",alignmentBaseline:"central",textAnchor:"middle",x:"0",y:"450",pointerEvents:"none"},"CHANGE OBJECTIVE"))},Me=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=function(){Z(n.player,n.engine,n.playerBullets),"keyboard"===n.props.playMode&&(window.addEventListener("keydown",n.handleKeyDown,!0),window.addEventListener("keyup",n.handleKeyUp,!0)),n.intervals.push(n.cycle),F.Runner.run(n.runner,n.engine),n.cycle()},n.resetGame=function(){F.Runner.stop(n.runner),F.World.clear(n.world),F.Engine.clear(n.engine)},n.componentWillUnmount=function(){n.resetGame(),cancelAnimationFrame(n.loop),n.intervals.forEach((function(e){return clearInterval(e)})),n.timeouts.forEach((function(e){return clearTimeout(e)})),"keyboard"===n.props.playMode&&(window.removeEventListener("keydown",n.handleKeyDown,!0),window.removeEventListener("keyup",n.handleKeyUp,!0))},n.cycle=function(){n.updateCycle(),n.loop=requestAnimationFrame((function(){return n.cycle()}))},n.next=function(){n.schedule[n.step.next().value]()},n.togglePause=function(){n.state.pause?(n.setState({pause:!1}),n.cycle(),F.Runner.run(n.runner,n.engine)):(n.setState({pause:!0}),cancelAnimationFrame(n.loop),F.Runner.stop(n.runner))},n.updateCycle=function(){"keyboard"===n.props.playMode&&n.player.movement&&(n.player.direction={x:0,y:0},n.playerMovementMap.forEach((function(e){"a"===e||"A"===e?n.player.direction.x-=n.player.speed:"d"!==e&&"D"!==e||(n.player.direction.x+=n.player.speed),"w"===e||"W"===e?n.player.direction.y-=n.player.speed:"s"!==e&&"S"!==e||(n.player.direction.y+=n.player.speed),"k"!==e&&"K"!==e||n.blink(n.player.direction.x,n.player.direction.y),"l"!==e&&"L"!==e||n.shoot()}))),F.Body.setVelocity(n.player.body,n.player.direction),n.setState((function(e){for(var t=0;t<n.barriers.length;t++)n.barriers[t].body.hp<2*n.barriers[t].danger&&(n.barriers[t].className="barrier damaged"),n.barriers[t].body.hp<n.barriers[t].danger&&(n.barriers[t].className="barrier danger"),n.barriers[t].body.hp<=0&&(n.barriers[t].remove(),n.barriers.splice(t,1),t--);for(var o=0;o<n.enemies.length;o++)n.enemies[o].body.hp<=0&&function(){var e={enemy:Object(s.a)({},n.enemy),player:Object(s.a)({},n.player)};n.timeout((function(){return n.props.victory(e)}),0),n.enemies[o].remove(),n.enemies.splice(o,1),o--}();Object.assign({},e.player),Object.assign({},e.playerBullets),Object.assign({},e.bullets),Object.assign({},e.bouncers),Object.assign({},e.barriers),Object.assign({},e.enemies);var i=Number(n.world.timer);String(e.message);return{player:n.player,playerBullets:n.playerBullets,bullets:n.bullets,bouncers:n.bouncers,enemies:n.enemies,barriers:n.barriers,timer:i,message:n.message}})),!0===n.player.dead&&n.timeout((function(){n.props.death(n.state.player),n.props.sceneChange("death")}),0)},n.timeout=function(e,t){var o=Number(n.world.timer),i=setInterval((function(){1e3*Math.abs(o-n.world.timer)>=t&&(e(),clearInterval(i))}),10);n.intervals.push(i)},n.handleKeyDown=function(e){"p"!==e.key&&"P"!==e.key||n.togglePause(),"r"===e.key||"R"===e.key?(n.props.setShowIntro(!1),n.props.sceneChange("select")):-1===n.playerMovementMap.indexOf(e.key)&&n.playerMovementMap.push(e.key)},n.handleKeyUp=function(e){n.playerMovementMap.splice(n.playerMovementMap.indexOf(e.key),1)},n.blink=function(){if(!0!==n.player.blinkOnCooldown&&n.player.movement){n.player.blinkOnCooldown=!0;var e,t,o=setTimeout((function(){return n.player.blinkOnCooldown=!1}),125);if(n.timeouts.push(o),0===n.player.direction.x&&0===n.player.direction.y)e=n.player.body.position.x,t=n.player.body.position.y-n.player.blinkDistance;else{var i=Math.atan2(n.player.body.position.y+n.player.direction.y-n.player.body.position.y,n.player.body.position.x+n.player.direction.x-n.player.body.position.x);i=(i=360*(i>0?i:2*Math.PI+i)/(2*Math.PI))*Math.PI/180,e=n.player.body.position.x+n.player.blinkDistance*Math.cos(i),t=n.player.body.position.y+n.player.blinkDistance*Math.sin(i)}Math.abs(e)>950&&(e=950*(e<0?-1:1)),Math.abs(t)>512.5&&(t=512.5*(t<0?-1:1)),F.Body.setPosition(n.player.body,{x:e,y:t})}},n.shoot=function(){if(!0!==n.player.bulletOnCooldown&&n.player.movement){n.player.bulletOnCooldown=!0;var e=new U(n.player.body.position.x,n.player.body.position.y-50,5,n.world,n.playerBullets);n.playerBullets.push(e);var t=setTimeout((function(){return n.player.bulletOnCooldown=!1}),100);n.timeouts.push(t)}},n.setMessage=function(e,t){var o=e.split("");n.message="";for(var i=function(e){n.timeout((function(){n.message=n.message.concat(o[e])}),100*e)},r=0;r<o.length;r++)i(r);n.timeout((function(){t&&t()}),100*o.length+250)},n.moveBody=function(e,t,o,i,r){if(n.checkIfInArea(e.position.x,t,i)&&n.checkIfInArea(e.position.y,o,i))F.Body.setVelocity(e,{x:0,y:0}),F.Body.setPosition(e,{x:t,y:o}),r&&r();else{var a=_.getTargetVelocity(e.position.x,e.position.y,t,o,i);F.Body.setVelocity(e,a),n.timeout((function(){return n.moveBody(e,t,o,i,r)}),5)}},n.checkIfInArea=function(e,t,n){return Math.abs(t-e)<n},n.theStart=function(){window.removeEventListener("keydown",n.theStart),n.player.movement=!0,n.setMessage(" ",n.next)},n.theEnd=function(){var e=new ae(n.enemy.body.position.x||0,n.enemy.body.position.y||0,10,5,5,0,0,n.world,n.bullets);e.body.label="explosion",e.coreColor=n.enemy.coreColor||"red";var t=F.Composite.create();F.Composite.add(t,e.body);for(var o=0;o<150;o++)n.timeout((function(){return F.Composite.scale(t,1.05,1.05,{x:e.body.position.x,y:e.body.position.y},!1)}),16*o)},n.renderScene=function(){if(!0!==n.player.dead)return i.a.createElement(i.a.Fragment,null,i.a.createElement(J,null),i.a.createElement("text",{x:"-950",y:"-512.5",stroke:"white",fill:"white"},String(n.state.timer)),i.a.createElement("text",{x:"0",y:"0",stroke:"white",fill:"white",fontSize:"100",fontFamily:"Arial Black",textAnchor:"middle"},String(n.state.message)),n.state.bullets.map((function(e){return G[e.body.label](e)})),n.state.playerBullets.map((function(e){return i.a.createElement("circle",{key:n.state.playerBullets.indexOf(e),cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"white"})})),n.state.enemies.map((function(e){return O[e.name](e)})),n.state.barriers.map((function(e){return i.a.createElement("circle",{className:e.className,key:n.state.barriers.indexOf(e),cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"transparent"})})),v(n.state.player.body.position.x-n.state.player.width/2,n.state.player.body.position.y-n.state.player.height/2,n.state.player.width,n.state.player.height),i.a.createElement("circle",{id:"player-radius",cx:n.state.player.body.position.x,cy:n.state.player.body.position.y,r:n.state.player.blinkDistance,stroke:"rgba(255,255,255,0.5",fill:"transparent"}),n.state.pause&&i.a.createElement(we,{setShowIntro:n.props.setShowIntro,sceneChange:n.props.sceneChange,selectEnemy:n.props.selectEnemy}))},n.state={player:null,playerBullets:[],walls:[],bullets:[],bouncers:[],timer:0,barriers:[],enemies:[],message:"",pause:!1},n.message="",n.timeouts=[],n.intervals=[],n.pause=!1,n.schedule=[],n.engine=F.Engine.create(),n.world=n.engine.world,n.world.timer=0,n.runner=F.Runner.create(),n.world.gravity.y=0,n.enemies=[],n.barriers=[],n.bullets=[],n.bouncers=[],n.playerBullets=[],n.playerMovementMap=[],n.state.walls=new K(n.world).walls,n.player=new q(0,300,20,20,{},n.world),n.player.body.label="player",n.player.direction={x:0,y:0},n.player.speed=7,n.player.movement=!1,n.player.blinkDistance=100,n.state.player=n.player,F.Events.on(n.engine,"beforeUpdate",(function(e){n.world.timer=Number(n.world.timer)+.016666,n.world.timer=Math.round(100*n.world.timer)/100})),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"scheduleStart",value:H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:return e.next=4,t++;case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)}))},{key:"render",value:function(){return i.a.createElement(b,null,this.renderScene())}}]),t}(i.a.Component),Ee=(n(26),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(y.a)(t).call(this))).intro=function(){e.moveBody(e.enemy.body,0,-350,4,(function(){e.timeout((function(){e.outerBarrier=new V(0,-350,70,225,e.world),e.barriers.push(e.outerBarrier)}),500),e.timeout((function(){e.props.showIntro?e.setMessage("ENEMY #1: SAKURA",(function(){window.addEventListener("keydown",e.theStart)})):(e.player.movement=!0,e.next())}),1e3)}))},e.firstBarrage=function(){e.wave(-1e3,0,1),e.timeout((function(){return e.wave(1e3,0,-1)}),3e3),e.timeout((function(){return e.wave(-1e3,-200,1)}),6e3),e.timeout((function(){return e.wave(1e3,-200,-1)}),9e3),e.timeout((function(){return e.next()}),14e3)},e.wave=function(t,n,o){for(var i=function(i){e.timeout((function(){new ie(t+25*i*o,n+i*Math.sin(i*Math.PI/4*-1+.5),5,15,1e3,e.world,e.bullets)}),25*i)},r=0;r<100;r++)i(r)},e.secondBarrage=function(){e.surround(450),e.timeout((function(){return e.surround(350)}),3e3),e.timeout((function(){return e.surround(300)}),6e3),e.timeout((function(){return e.surround(250)}),9e3),e.timeout((function(){return e.next()}),14e3)},e.surround=function(t){for(var n=t,o=2*Math.PI/50,i=0,r=e.player.body.position,a=r.x,c=r.y,s=function(t,o){i++,e.timeout((function(){new ae(n*Math.cos(t)+a,-n*Math.sin(t)+c,a,c,5,20,1e3-10*o,e.world,e.bullets)}),10*i)},l=0,u=0;l<2*Math.PI;l+=o,u++)s(l,u)},e.thirdBarrage=function(){e.bouncerCluster(850,-350),e.timeout((function(){return e.bouncerCluster(-850,-350)}),4e3),e.timeout((function(){return e.bouncerCluster(850,-350)}),8e3),e.timeout((function(){return e.bouncerCluster(-850,-350)}),12e3),e.timeout((function(){return e.next()}),15e3)},e.bouncerCluster=function(t,n){for(var o=0;o<4;o++)e.timeout((function(){new re(t,n,e.player.body.position.x,e.player.body.position.y,50,35,100,e.world,e.bullets).className="bouncer"}),500*o)},e.fourthBarrage=function(){e.cascade(0,-250,1500),e.timeout((function(){return e.cascade(0,-250,1500)}),3e3),e.timeout((function(){return e.cascade(0,-250,1500)}),6e3),e.timeout((function(){return e.next()}),9e3)},e.cascade=function(t,n,o){var i=new ce(t,n,e.player.body.position,40,20,o,e.world,e.bullets);i.body.label="bigBullet",i.className="bouncer";for(var r=function(i){e.timeout((function(){var r=new ce(t+150*i,n-50*i,e.player.body.position,40,20,o-25*i,e.world,e.bullets);r.body.label="bigBullet",r.className="bouncer"}),25*i)},a=1;a<=5;a++)r(a);for(var c=function(i){e.timeout((function(){var r=new ce(t-150*i,n-50*i,e.player.body.position,40,20,o-25*i,e.world,e.bullets);r.body.label="bigBullet",r.className="bouncer"}),25*i)},s=1;s<=5;s++)c(s)},e.enemy=new z(0,-650,50,5,e.world),e.enemy.name="sakura",e.enemy.coreColor="pink",e.enemy.className="sakura",e.enemies.push(e.enemy),e.schedule.push((function(){return e.intro()}),(function(){return e.firstBarrage()}),(function(){return e.secondBarrage()}),(function(){return e.thirdBarrage()}),(function(){return e.fourthBarrage()}),(function(){e.outerBarrier.className="",e.next()}),(function(){return e.timeout((function(){return e.theEnd()}),5e3)})),e.step=e.scheduleStart(),e.schedule[e.step.next().value](),e}return Object(m.a)(t,e),t}(Me)),ke=(n(27),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(y.a)(t).call(this))).fireBarrage=function(){e.bloodFire(),e.timeout((function(){return e.bloodFire()}),500),e.timeout((function(){return e.bloodFire()}),1e3),e.timeout((function(){return e.bloodFire()}),1500),e.timeout((function(){return e.bloodFire()}),2e3)},e.bloodFire=function(){for(var t=0;t<3;t++)e.timeout((function(){return new ae(e.enemy.body.position.x,e.enemy.body.position.y,e.player.body.position.x,e.player.body.position.y,5,20,0,e.world,e.bullets)}),50*t)},e.intro=function(){e.timeout((function(){[e.enemy,e.phobos,e.deimos].forEach((function(e){return e.className="blood"})),e.moveBody(e.phobos.body,0,-425,.4),e.moveBody(e.deimos.body,0,-275,.4,(function(){return e.timeout((function(){return e.rotateBlood(270*Math.PI/180,4,(function(){e.props.showIntro?e.setMessage("ENEMY #2: BLOOD",(function(){window.addEventListener("keydown",e.theStart)})):(e.player.movement=!0,e.next())}))}),500)}))}),500)},e.horizontalClean=function(t,n){e.moveBody(e.phobos.body,t,n,15,e.next),e.moveBody(e.deimos.body,-t,n,15,e.next)},e.verticalClean=function(t,n){e.moveBody(e.phobos.body,t,n,15,e.next),e.moveBody(e.deimos.body,t,-n,15,e.next)},e.horizontalSweep=function(t){var n=new le(e.deimos.body.position.x,e.deimos.body.position.y,Math.abs(e.phobos.body.position.x-e.deimos.body.position.x),5,0,e.world,e.bullets);e.timeout((function(){n.remove();var o=new se(e.deimos.body.position.x,e.deimos.body.position.y,Math.abs(e.phobos.body.position.x-e.deimos.body.position.x),5,0,e.world,e.bullets),i=F.Composite.create();F.Composite.add(i,o.body),F.Composite.add(i,e.deimos.body),F.Composite.add(i,e.phobos.body);for(var r=0;r<2*Math.abs(t)/8;r++)t>0?e.timeout((function(){return F.Composite.translate(i,{x:0,y:-8})}),8*r):e.timeout((function(){return F.Composite.translate(i,{x:0,y:8})}),8*r);e.timeout((function(){o.remove(),e.next()}),2*Math.abs(t)/8*8)}),1e3)},e.verticalSweep=function(t){var n=new le(e.deimos.body.position.x,e.deimos.body.position.y,1e3,5,90*Math.PI/180,e.world,e.bullets);e.timeout((function(){n.remove();var o=new se(e.deimos.body.position.x,e.deimos.body.position.y,1e3,5,90*Math.PI/180,e.world,e.bullets),i=F.Composite.create();F.Composite.add(i,o.body),F.Composite.add(i,e.deimos.body),F.Composite.add(i,e.phobos.body);for(var r=0;r<2*Math.abs(t)/8;r++)t>0?e.timeout((function(){return F.Composite.translate(i,{x:-8,y:0})}),8*r):e.timeout((function(){return F.Composite.translate(i,{x:8,y:0})}),8*r);e.timeout((function(){o.remove(),e.next()}),2*Math.abs(t)/8*8)}),1e3)},e.finale=function(){e.enableOrbit=!0,e.setOrbitSpeed(100,(function(){e.timeout((function(){return e.explosion(100)}),1e3),e.timeout((function(){return e.explosion(100)}),3e3),e.timeout((function(){return e.explosion(100)}),5e3),e.timeout((function(){return e.next()}),7e3)}))},e.explosion=function(t){for(var n=t,o=2*Math.PI/40,i=function(t){e.timeout((function(){new ae(e.enemy.body.position.x+n*Math.cos(t),e.enemy.body.position.y+n*Math.sin(t),e.enemy.body.position.x+2*n*Math.cos(t),e.enemy.body.position.y+2*n*Math.sin(t),5,20,1500,e.world,e.bullets)}),t/(2*Math.PI/40)*16)},r=0;r<2*Math.PI;r+=o)i(r)},e.waveBarrage=function(){e.wave(150),e.timeout((function(){return e.wave(125)}),1e3),e.timeout((function(){return e.wave(100)}),2e3),e.timeout((function(){return e.next()}),2e3)},e.wave=function(t){for(var n=t,o=0,i=30*Math.random(),r=2*Math.PI/(i+20),a=function(t,i){o++;var r=setTimeout((function(){new ae(n*Math.cos(t)+e.enemy.body.position.x,n*Math.sin(t)+e.enemy.body.position.y,500*Math.cos(t)+e.enemy.body.position.x,500*Math.sin(t)+e.enemy.body.position.y,5,30,1e3-15*i,e.world,e.bullets)}),15*o);e.timeouts.push(r)},c=30*Math.PI/180,s=0;c<=150*Math.PI/180;c+=r,s++)a(c,s)},e.deploy=function(t,n,o,i){e.enableOrbit=!1,e.moveBody(e.phobos.body,t+e.phobos.body.position.x-e.enemy.body.position.x,n+e.phobos.body.position.y-e.enemy.body.position.y,o),e.moveBody(e.deimos.body,t+e.deimos.body.position.x-e.enemy.body.position.x,n+e.deimos.body.position.y-e.enemy.body.position.y,o),e.moveBody(e.enemy.body,t,n,o,i)},e.aimAndRotate=function(t){var n=_.getTheta(e.phobos.body.position.x,e.phobos.body.position.y,e.player.body.position.x,e.player.body.position.y),o=_.getTheta(e.deimos.body.position.x,e.deimos.body.position.y,e.player.body.position.x,e.player.body.position.y),i=new le(e.phobos.body.position.x,e.phobos.body.position.y,2e3,5,n,e.world,e.bullets),r=new le(e.deimos.body.position.x,e.deimos.body.position.y,2e3,5,o,e.world,e.bullets);e.timeout((function(){i.remove(),r.remove();for(var a=new se(e.phobos.body.position.x,e.phobos.body.position.y,2e3,5,n,e.world,e.bullets),c=new se(e.deimos.body.position.x,e.deimos.body.position.y,2e3,5,o,e.world,e.bullets),s=0;s<2*Math.PI/(Math.PI/180);s++)e.timeout((function(){a.rotate(Math.PI/180),c.rotate(Math.PI/-180)}),12*s);e.timeout((function(){a.remove(),c.remove(),t()}),2*Math.PI/(Math.PI/180)*12+500)}),1e3)},e.rotateBlood=function(t,n,o){for(var i=0;i<t/(2*Math.PI/180);i++)e.timeout((function(){return F.Composite.rotate(e.blood,2*Math.PI/180,{x:e.enemy.body.position.x,y:e.enemy.body.position.y})}),i*(16/n));o&&e.timeout((function(){return o()}),t/(2*Math.PI/180)*(16/n)+500)},e.setOrbitSpeed=function(t,n){for(var o=0,i=0;i<Math.abs(e.orbitSpeedPower-t);i++){o++;var r=setTimeout((function(){return e.orbitSpeedPower<t?e.orbitSpeedPower+=1:e.orbitSpeedPower-=1}),25*i);e.timeouts.push(r)}return n&&e.timeout(n,25*o),25*o},e.enemy=new z(0,-350,50,225,e.world),e.enemy.name="blood",e.enemy.coreColor="red",e.enemy.className="appear",e.phobos=new L(0,-387.5,5,e.world),e.phobos.name="satellite",e.phobos.coreColor="red",e.phobos.className="appear",e.deimos=new L(0,-312.5,5,e.world),e.deimos.name="satellite",e.deimos.coreColor="red",e.deimos.className="appear",e.blood=F.Composite.create(),F.Composite.add(e.blood,e.enemy.body),F.Composite.add(e.blood,e.phobos.body),F.Composite.add(e.blood,e.deimos.body),F.World.add(e.world,[e.enemy.body,e.phobos.body,e.deimos.body]),e.enemies.push(e.enemy,e.phobos,e.deimos),e.orbitMaxSpeed=15*Math.PI/180,e.orbitSpeedPower=5,e.orbit=setInterval((function(){!0===e.enableOrbit&&F.Composite.rotate(e.blood,e.orbitMaxSpeed*e.orbitSpeedPower/100,{x:e.enemy.body.position.x,y:e.enemy.body.position.y})}),8),e.bloodyCheck=setInterval((function(){e.enemy.body.hp<e.enemy.body.maxHp/2&&(e.enemy.className="blood bloodied"),clearInterval(e.bloodyCheck)}),20),e.intervals.push(e.orbit,e.bloodyCheck),e.schedule.push((function(){return e.intro()}),(function(){return e.deploy(-800,-200,10,(function(){return e.timeout(e.next,500)}))}),(function(){return e.rotateBlood(270*Math.PI/180,4,(function(){return e.timeout(e.next,500)}))}),(function(){return e.aimAndRotate((function(){return e.timeout(e.next,1e3)}))}),(function(){return e.deploy(800,-200,20,(function(){return e.timeout(e.next,500)}))}),(function(){return e.rotateBlood(180*Math.PI/180,4,(function(){return e.timeout(e.next,500)}))}),(function(){return e.aimAndRotate((function(){return e.timeout(e.next,1e3)}))}),(function(){return e.deploy(0,-350,10,(function(){return e.timeout(e.next,500)}))}),(function(){return e.rotateBlood(270*Math.PI/180,4,(function(){return e.timeout(e.next,0)}))}),(function(){return e.waveBarrage()}),(function(){return e.timeout((function(){return e.rotateBlood(180*Math.PI/180,4,e.next)}),0)}),(function(){return e.waveBarrage()}),(function(){return e.rotateBlood(450*Math.PI/180,2,(function(){return e.timeout(e.next,500)}))}),(function(){return e.verticalClean(925,500)}),(function(){return e.fireBarrage()}),(function(){return e.verticalSweep(925)}),(function(){return e.horizontalClean(925,500)}),(function(){return e.fireBarrage()}),(function(){return e.horizontalSweep(500)}),(function(){return e.verticalClean(-925,500)}),(function(){return e.fireBarrage()}),(function(){return e.verticalSweep(-925)}),(function(){return e.horizontalClean(925,-500)}),(function(){return e.fireBarrage()}),(function(){return e.horizontalSweep(-500)}),(function(){return e.timeout(e.next,1e3)}),(function(){e.moveBody(e.enemy.body,0,0,10,e.next),e.moveBody(e.phobos.body,0,-75,10,e.next),e.moveBody(e.deimos.body,0,75,10,(function(){return e.timeout(e.next,1e3)}))}),(function(){return null}),(function(){return null}),(function(){return e.rotateBlood(360*Math.PI/180,2,e.next)}),(function(){return e.finale()}),(function(){return e.finale()}),(function(){return e.timeout((function(){return e.theEnd()}),5e3)})),e.step=e.scheduleStart(),e.schedule[e.step.next().value](),e}return Object(m.a)(t,e),t}(Me)),Be=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(y.a)(t).call(this,e))).intro=function(){n.enemy.className="nul",n.props.showIntro?n.setMessage("ENEMY #3: NUL",(function(){window.addEventListener("keydown",n.theStart)})):(n.player.movement=!0,n.next())},n.spin=function(){F.Body.setAngularVelocity(n.enemy.body,-n.enemy.spin),n.timeout((function(){return n.spin()}),100)},n.setSpin=function(e){n.enemy.spin=e,n.next()},n.fire={bullets:function(){for(var e=0;e<3;e++)n.timeout((function(){return new ue(n.enemy.body.position.x,n.enemy.body.position.y,n.player.body.position.x,n.player.body.position.y,5,20,0,n.world,n.bullets)}),50*e);n.enemy.stream&&n.timeout((function(){return n.fire.bullets()}),750)}},n.stream={on:function(e){n.enemy.stream=!0,n.fire.bullets(),e&&e()},off:function(e){n.enemy.stream=!1,e&&e()}},n.bond={create:function(){n.hook=F.Bodies.circle(n.enemy.body.position.x,n.enemy.body.position.y,0,{isStatic:!0,isSensor:!0}),n.constraint=F.Constraint.create({bodyA:n.hook,bodyB:n.player.body,stiffness:.004}),n.constraint.length=n.constraint.length/20,F.World.add(n.world,n.constraint),F.World.add(n.world,n.hook),n.next()},destroy:function(){F.World.remove(n.world,n.constraint),n.next()}},n.curveMovement=function(e,t,o,i){for(var r=Object(s.a)({},n.enemy.body.position),a=t<0?-Math.PI/180:Math.PI/180,c=t*Math.PI/180,l=Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))/2,u=_.getTheta(n.enemy.body.position.x,n.enemy.body.position.y,e.x,e.y),d={x:r.x+l*Math.cos(u),y:r.y+l*Math.sin(u)},y=0;y<c/a;y++)n.timeout((function(){return F.Composite.rotate(n.nul,a,{x:d.x,y:d.y})}),y*(16/o));i&&n.timeout((function(){return i()}),c/a*(16/o))},n.getSquares=function(e){var t=n.iterator(e);return{first:e,second:t.next().value,third:t.next().value,fourth:t.next().value,fifth:t.next().value}},n.getHook={vertical:function(e,t,n,o){return o<90?{x:e.x,y:e.y+t.y*n.first}:o<180?{x:e.x+t.x*n.third,y:e.y+t.y*n.first}:o<270?{x:e.x+t.x*n.third,y:e.y+t.y*(n.first+n.fourth)}:o<360?{x:e.x+t.x*n.third,y:e.y+t.y*(n.first+n.fourth)}:{x:e.x+t.x*n.third,y:e.y+t.y*(n.first+n.fifth)}},horizontal:function(e,t,n,o){return o<90?{x:e.x+t.x*n.first,y:e.y}:o<180?{x:e.x+t.x*n.first,y:e.y+t.y*n.third}:o<270?{x:e.x+t.x*(n.first+n.fourth),y:e.y+t.y*n.third}:o<360?{x:e.x+t.x*(n.first+n.fourth),y:e.y+t.y*n.fourth}:{x:e.x+t.x*(n.first+n.fifth),y:e.y+t.y*n.fourth}}},n.goldenMovement=function(e,t,o,i,r){var a=Object(s.a)({},n.enemy.body.position),c=Math.PI/180;c*="horizontal"===i?1:-1,"horizontal"===i&&(t.x!==t.y?c*=1:c*=-1),"horizontal"!==i&&(t.x===t.y?c*=-1:c*=1);for(var l=n.getSquares(e),u=function(e){n.timeout((function(){return F.Composite.rotate(n.nul,c,n.getHook[i](a,t,l,e))}),e*(16/o))},d=0;d<540;d++)u(d);r&&n.timeout((function(){return r()}),16/o*540)},n.carousel=function(e,t,o,i,r){for(var a=o*Math.PI/180,c=0;c<360*e;c++)n.timeout((function(){return F.Composite.rotate(n.nul,a,t)}),c*(16/i));r&&n.timeout((function(){return r()}),360*e*(16/i))},n.nulBomb=function(e){var t=new ue(n.enemy.body.position.x,n.enemy.body.position.y,n.player.body.position.x,n.player.body.position.y,10,10,0,n.world,n.bullets);n.timeout((function(){t.remove();for(var e=0;e<9;e++)new ue(t.body.position.x,t.body.position.y,t.body.position.x+Math.cos(2*Math.PI/9*e),t.body.position.y+Math.sin(2*Math.PI/9*e),5,10,0,n.world,n.bullets)}),2e3),e&&e()},n.chaos=function(){for(var e=[{x:-350,y:-350},{x:350,y:-350},{x:-350,y:350},{x:350,y:350}],t=Object(s.a)({},n.enemy.body.position),o=0;o<4;o++)n.teleport=n.timeout((function(){var t=Math.floor(Math.random()*e.length);F.Body.setPosition(n.enemy.body,e[t]),n.fire.bullets(),e.splice(t,1)}),250*o);n.timeout((function(){F.Body.setPosition(n.enemy.body,t),n.nulBomb(),n.next()}),1e3)},n.enemy=new z(51,-500,50,225,n.world),n.enemy.name="nul",n.enemy.spin=0,n.enemy.stream=!0,n.enemy.coreColor="indigo",n.nul=F.Composite.create({bodies:[n.enemy.body]}),F.World.add(n.world,n.nul),n.enemies.push(n.enemy),n.spin(),n.schedule.push((function(){return n.setSpin(.03)}),(function(){return n.goldenMovement(150,{x:-1,y:1},4,"vertical",n.next)}),(function(){return n.intro()}),(function(){return n.setSpin(.15)}),(function(){return n.timeout(n.next,500)}),(function(){return n.nulBomb(n.next)}),(function(){return n.stream.on(n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.moveBody(n.enemy.body,0,0,2,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.carousel(1,{x:-250,y:0},1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.carousel(1,{x:250,y:0},-1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.carousel(1,{x:-250,y:0},1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.carousel(1,{x:250,y:0},-1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.moveBody(n.enemy.body,0,-350,1,n.next)}),(function(){return n.setSpin(.3)}),(function(){return n.timeout(n.next,1500)}),(function(){return n.bond.create()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.bond.destroy()}),(function(){return n.setSpin(.15)}),(function(){return n.curveMovement({x:350,y:-350},180,2,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.goldenMovement(500,{x:-1,y:1},2,"horizontal",n.next)}),(function(){return n.setSpin(.3)}),(function(){return n.timeout(n.next,1500)}),(function(){return n.bond.create()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.bond.destroy()}),(function(){return n.setSpin(.15)}),(function(){return n.timeout(n.next,500)}),(function(){return n.curveMovement({x:-350,y:-350},180,2,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.goldenMovement(600,{x:1,y:1},2,"horizontal",n.next)}),(function(){return n.setSpin(.3)}),(function(){return n.timeout(n.next,1500)}),(function(){return n.bond.create()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.bond.destroy()}),(function(){return n.setSpin(.15)}),(function(){return n.timeout(n.next,500)}),(function(){return n.carousel(2,{x:0,y:0},-1,1,n.next)}),(function(){return n.stream.off(n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.curveMovement({x:0,y:-350},180,2,n.next)}),(function(){return n.setSpin(-.3)}),(function(){return n.timeout(n.next,500)}),(function(){return n.chaos()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.chaos()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.chaos()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.moveBody(n.enemy.body,0,0,1,n.next)}),(function(){return n.setSpin(.33)}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.setSpin(0)}),(function(){n.enemy.remove(),n.enemies.forEach((function(e){return"nul"===e.name?n.enemies.splice(e,1):null})),n.theEnd()})),n.step=n.scheduleStart(),n.schedule[n.step.next().value](),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"iterator",value:H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t;case 1:return n=1.618*n-n,e.next=5,n;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)}))}]),t}(Me),Oe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(y.a)(t).call(this,e))).setRadius=function(e,t,o,i){var r=t<e.circleRadius?.975:1.025;F.Body.scale(e,r,r),Math.abs(t-e.circleRadius)>1?n.timeout((function(){return n.setRadius(e,t,o,i)}),45/o):i&&i()},n.intro=function(){n.props.showIntro?n.setMessage("ENEMY #4: VIDA",(function(){window.addEventListener("keydown",n.theStart)})):(n.player.movement=!0,n.next())},n.spin=function(){F.Body.setAngularVelocity(n.enemy.body,-n.enemy.spin),n.timeout((function(){return n.spin()}),100)},n.setSpin=function(e){n.enemy.spin=e,n.next()},n.clone={create:function(e,t,o){var i=new T(e+.01,t+.01,n.enemy.body.circleRadius,n.enemy,n.world);i.name="vida",i.coreColor="#76C34E",i.className="vida",n.clones.push(i),n.enemies.push(i),o&&o()},destroy:function(e,t){for(var o in n.clones)e.body.id===n.clones[o].body.id&&n.clones.splice(o,1);for(var i in n.enemies)e.body.id===n.enemies[i].body.id&&n.enemies.splice(i,1);e.remove(),t&&t()}},n.firstMovement=function(){n.clone.create(n.enemy.body.position.x,n.enemy.body.position.y),n.moveBody(n.enemy.body,-500,-300,4,n.next),n.moveBody(n.clones[0].body,500,-300,4)},n.secondMovement=function(){n.clone.create(n.enemy.body.position.x,n.enemy.body.position.y),n.clone.create(n.clones[0].body.position.x,n.clones[0].body.position.y),n.moveBody(n.enemy.body,-650,-275,4),n.moveBody(n.clones[0].body,650,-275,4),n.moveBody(n.clones[1].body,-350,-350,4),n.moveBody(n.clones[2].body,350,-350,4,n.next)},n.thirdMovement=function(e){var t=function(e,t){for(var n=e,o=0;o<t;o++)(n-=1)<0&&(n=3);return n};[n.enemy,n.clones].flat().forEach((function(e){return n.fire.laser(1,e.body.position,n.player.body.position,30)})),n.timeout((function(){return[n.enemy,n.clones].flat().forEach((function(e){return n.fire.laser(1,e.body.position,n.player.body.position,30)}))}),1e3),n.timeout((function(){return[n.enemy,n.clones].flat().forEach((function(e){return n.fire.laser(1,e.body.position,n.player.body.position,30)}))}),2e3),n.curveMovement(n.clones[0].body,n.spots[t(0,e)],-180,1),n.curveMovement(n.clones[1].body,n.spots[t(3,e)],-180,1),n.curveMovement(n.clones[2].body,n.spots[t(1,e)],-180,1,n.next),n.curveMovement(n.enemy.body,n.spots[t(2,e)],-180,1)},n.fourthMovement=function(){n.moveBody(n.clones[1].body,-850,0,8,n.next),n.moveBody(n.clones[2].body,850,0,8,(function(){return[n.clones[1],n.clones[2]].forEach((function(e){return n.clone.destroy(e)}))}))},n.fifthMovement=function(){n.multiFire.laser([n.enemy,n.clones].flat()),n.timeout((function(){return n.multiFire.laser([n.enemy,n.clones].flat())}),1e3),n.timeout((function(){return n.multiFire.laser([n.enemy,n.clones].flat())}),2e3),n.moveBody(n.enemy.body,0,-350,4,n.next),n.moveBody(n.clones[0].body,0,-350,4,(function(){return[n.clone.destroy(n.clones[0])]}))},n.barrage=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n.multiFire.laser(t),n.timeout((function(){return n.multiFire.laser(t)}),1e3+200*(6-t.length)),n.timeout((function(){return n.multiFire.laser(t)}),2e3+200*(6-t.length)*2),n.timeout((function(){t.forEach((function(e){return n.fire.nuke(e.body.position,n.player.body.position)})),n.timeout((function(){return t.forEach((function(e){return n.fire.nuke(e.body.position,n.player.body.position)}))}),2e3)}),3e3+200*(6-t.length)*3),n.timeout((function(){return n.multiFire.wave(t)}),3500+200*(6-t.length)*3),n.timeout((function(){return n.multiFire.wave(t)}),5500+200*(6-t.length)*3),n.timeout(n.next,5500+200*(6-t.length)*3)},n.curveMovement=function(e,t,o,i,r){for(var a=Object(s.a)({},e.position),c=o>0?Math.PI/180:Math.PI/-180,l=o*Math.PI/180,u=Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))/2,d=_.getTheta(a.x,a.y,t.x,t.y),y={x:a.x+u*Math.cos(d),y:a.y+u*Math.sin(d)},m=F.Composite.create({bodies:[e]}),f=0;f<Math.abs(l/c);f++)n.timeout((function(){return F.Composite.rotate(m,c,y)}),16/i*f),f===Math.abs(l/c)&&F.Body.setPosition(e,t);n.timeout((function(){r&&r()}),16/i*(l/c))},n.fire={nuke:function(e,t,o){new de(e.x,e.y,t.x,t.y,20,10,0,n.world,n.bullets),o&&o()},laser:function(e,t,o,i,r){for(var a=0;a<e;a++)n.timeout((function(){return new ye(t.x,t.y,50,5,o,i,0,n.world,n.bullets)}),200*a);r&&n.timeout((function(){return r()}),800)},wave:function(e,t,o,i,r,a,c){new me(o.x,o.y,e,t,i,r,a,n.world,n.bullets),c&&c()}},n.multiFire={laser:function(e){e.forEach((function(t){return n.fire.laser(6-e.length,t.body.position,n.player.body.position,30)}))},wave:function(e){e.forEach((function(t){return n.fire.wave(100/e.length,200/e.length,t.body.position,n.player.body.position,30,1e3)}))}},n.enemy=new z(0,-350,10,250,n.world),n.enemy.name="vida",n.enemy.coreColor="#76C34E",n.enemy.className="vida",n.enemy.spin=0,n.clones=[],n.enemies.push(n.enemy),n.spots=[{x:0,y:-350},{x:850,y:0},{x:0,y:350},{x:-850,y:0}],n.spin(),n.schedule.push((function(){return n.setRadius(n.enemy.body,50,10,n.next)}),(function(){return n.intro()}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fire.laser(5,n.enemy.body.position,n.player.body.position,30,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fire.laser(5,n.enemy.body.position,n.player.body.position,30,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fire.nuke(n.enemy.body.position,n.player.body.position,n.timeout(n.next,250))}),(function(){return n.fire.nuke(n.enemy.body.position,n.player.body.position,n.timeout(n.next,250))}),(function(){return n.fire.nuke(n.enemy.body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,2e3)}),(function(){return n.fire.wave(100,200,n.enemy.body.position,n.player.body.position,30,1500,n.next)}),(function(){return n.timeout(n.next,4e3)}),(function(){return n.setRadius(n.enemy.body,37.5,1,n.next)}),(function(){return n.firstMovement()}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.barrage(n.enemy,n.clones[0])}),(function(){return n.timeout(n.next,5e3)}),(function(){n.setRadius(n.enemy.body,25,1,n.next),n.setRadius(n.clones[0].body,25,1)}),(function(){return n.secondMovement()}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.barrage(n.enemy,n.clones[0],n.clones[1],n.clones[2])}),(function(){return n.timeout(n.next,6e3)}),(function(){return n.curveMovement(n.clones[0].body,n.spots[0],-180,4,n.next)}),(function(){return n.curveMovement(n.clones[1].body,n.spots[3],-180,4,n.next)}),(function(){return n.curveMovement(n.clones[2].body,n.spots[1],-180,4,n.next)}),(function(){return n.curveMovement(n.enemy.body,n.spots[2],-180,4,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.thirdMovement(1)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.thirdMovement(2)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.thirdMovement(3)}),(function(){return n.timeout(n.next,2e3)}),(function(){return n.fourthMovement()}),(function(){n.setRadius(n.enemy.body,37.5,1,n.next),n.setRadius(n.clones[0].body,37.5,1)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.barrage(n.enemy,n.clones[0])}),(function(){return n.timeout(n.next,5e3)}),(function(){return n.fifthMovement()}),(function(){return n.setRadius(n.enemy.body,50,1,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.moveBody(n.enemy.body,0,0,4,n.next)}),(function(){return n.setSpin(.07)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.14)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.21)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.28)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.35)}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.setSpin(0)}),(function(){n.enemy.remove(),n.enemies.forEach((function(e){return"vida"===e.name?n.enemies.splice(e,1):null})),n.theEnd()})),n.step=n.scheduleStart(),n.schedule[n.step.next().value](),n}return Object(m.a)(t,e),t}(Me),Ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(y.a)(t).call(this,e))).barrage=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];for(var i=function(e){t.length>0&&t.forEach((function(e){n.timeout((function(){return n.fire.cannon(e[0],n.player.body.position)}),667*e[1])})),n.timeout((function(){return n.fire.bullet(n.spotters[e].body.position,n.player.body.position,20)}),667*e)},r=0;r<6;r++)i(r);n.timeout(n.next,4002)},n.bells=function(e,t){for(var o=function(t){n.timeout((function(){return n.fire.bullet(n.spotters[t].body.position,n.player.body.position,25)}),t*e)},i=0;i<3;i++)o(i);t&&n.timeout((function(){return t()}),3*e)},n.fire={bullet:function(e,t,o,i){for(var r=0;r<3;r++)n.timeout((function(){return new be(e.x,e.y,t.x,t.y,5,o,0,n.world,n.bullets,"orange")}),100*r);i&&i()},delayed:function(e,t,o,i,r,a){var c=new pe(e,t,o,i,r,n.world,n.bullets,n.colors[Math.floor(Math.random()*n.colors.length)]);return a&&a(),c},cannon:function(e,t,o){var i=new ve(e.x,e.y,2e3,5,Math.atan2(t.y-e.y,t.x-e.x),n.world,n.bullets);i.currentAngle=Math.atan2(t.y-e.y,t.x-e.x);for(var r=0;r<667;r+=10)n.timeout((function(){var n=Math.atan2(t.y-e.y,t.x-e.x);Math.abs(n-i.currentAngle)<Math.PI/360?F.Body.rotate(i.body,0,e):n>i.currentAngle?(F.Body.rotate(i.body,Math.PI/360,e),i.currentAngle+=Math.PI/360):n<i.currentAngle&&(F.Body.rotate(i.body,-Math.PI/360,e),i.currentAngle+=-Math.PI/360)}),r);n.timeout((function(){i.remove();for(var t=new ge(e.x,e.y,100,5,i.currentAngle,n.world,n.bullets),o=F.Composite.create({bodies:[t.body]}),r=1;r<=18;r++)n.timeout((function(){F.Composite.scale(o,1.2,1.2,e)}),20*r);n.timeout((function(){document.querySelector("#fade".concat(t.body.id)).beginElement();for(var i=function(i){n.timeout((function(){F.Composite.scale(o,.85,.85,e),25===i&&t.remove()}),15*i)},r=1;r<=25;r++)i(r)}),1360)}),667),o&&o()}},n.missiles=function(e){for(var t=[],o=function(e){n.timeout((function(){var o=n.fire.delayed(n.enemy.body.position,{x:100*e-500,y:-500},n.player.body.position,250-50*e,25);t.push(o)}),50*e),n.timeout((function(){var o=n.fire.delayed(n.enemy.body.position,{x:500-100*e,y:-500},n.player.body.position,250-50*e,25);t.push(o)}),50*e+50)},i=1;i<5;i++)o(i);n.timeout((function(){return t.forEach((function(e){document.querySelector("#fade".concat(e.body.id)).beginElement(),document.querySelector("#diminish".concat(e.body.id)).beginElement(),document.querySelector("#translate".concat(e.body.id)).beginElement()}))}),4750),e&&n.timeout((function(){return e()}),5e3)},n.spotter={create:function(e,t){var o=new he(e,10,n.world,n.bullets);n.spotters.push(o),t&&t()},pointer:function(e,t){n.pointer=new he(e,10,n.world,n.bullets),n.spotters.push(n.pointer),t&&t()},move:function(e,t,o){n.moveBody(n.pointer.body,e.x,e.y,t,o)},destroy:function(e){n.pointer.remove(),e&&e()},rotate:function(e,t,o){var i=F.Composite.create();F.Composite.add(i,n.pointer.body);for(var r=e>-1?Math.PI/180:-Math.PI/180,a=0;a<Math.abs(e);a++)n.timeout((function(){return F.Composite.rotate(i,r,{x:0,y:0})}),16/t*a);o&&n.timeout((function(){return o()}),16/t*Math.abs(e))},trail:!0,stream:{on:function(e){new xe(n.pointer.body.position,n.player.body.position,5,40,1e3,n.world,n.bullets),n.spotter.trail&&n.timeout((function(){return n.spotter.stream.on(e)}),e)},off:function(){n.spotter.trail=!1,n.next()}},startStream:function(e){n.spotter.trail=!0,n.spotter.stream.on(e),n.next()}},n.curveRedirect=function(e,t,o){for(var i=0;i<o;i+=20)n.timeout((function(){return F.Body.setVelocity(e,_.getCircularVelocity(Object(s.a)({},e.position),e.position,t,-Math.PI/180,250,30))}),i)},n.fireworks=function(e,t){var o=n.colors[Math.floor(Math.random()*n.colors.length)],i=new be(n.enemy.body.position.x,n.enemy.body.position.y,e.x,e.y,10,15,0,n.world,n.bullets,o);n.timeout((function(){for(var e=[],t=Object(s.a)({},i.body.position),r=0;r<20;r++)e[r]=new be(t.x,t.y,t.x+Math.cos(2*Math.PI/20*r),t.y+Math.sin(2*Math.PI/20*r),5,20,0,n.world,n.bullets,o);n.timeout((function(){var o=function(o){F.Body.setVelocity(e[o].body,{x:-2*Math.cos(_.getTheta(e[o].body.position.x,e[o].body.position.y,t.x,t.y)),y:-2*Math.sin(_.getTheta(e[o].body.position.x,e[o].body.position.y,t.x,t.y))}),n.timeout((function(){return n.curveRedirect(e[o].body,t,200)}),750)};for(var i in e)o(i)}),1e3),i.remove()}),667),t&&t()},n.curveMovement=function(e,t,o,i,r){for(var a=Object(s.a)({},e.position),c=o>0?Math.PI/180:Math.PI/-180,l=o*Math.PI/180,u=Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))/2,d=_.getTheta(a.x,a.y,t.x,t.y),y={x:a.x+u*Math.cos(d),y:a.y+u*Math.sin(d)},m=F.Composite.create({bodies:[e]}),f=0;f<Math.abs(l/c);f++)n.timeout((function(){return F.Composite.rotate(m,c,y)}),16/i*f),f===Math.abs(l/c)&&F.Body.setPosition(e,t);n.timeout((function(){r&&r()}),16/i*(l/c))},n.intro=function(){n.props.showIntro?n.setMessage("ENEMY #?: AVA",(function(){window.addEventListener("keydown",n.theStart)})):(n.player.movement=!0,n.next())},n.enemy=new z(0,-350,50,250,n.world),n.enemy.name="ava",n.enemy.coreColor="white",n.enemy.className="ava",n.enemy.trail=!0,F.World.add(n.world,n.enemy.body),n.enemies.push(n.enemy),n.colors=["violet","indigo","blue","green","yellow","orange","red"],n.spotters=[],n.schedule.push((function(){return n.spotter.pointer(n.enemy.body.position,n.next)}),(function(){return n.spotter.create(n.enemy.body.position,n.next)}),(function(){return n.spotter.create(n.enemy.body.position,n.next)}),(function(){n.moveBody(n.spotters[0].body,0,-249,1),n.moveBody(n.spotters[1].body,-200,-300,2),n.moveBody(n.spotters[2].body,200,-300,2,n.next)}),(function(){return n.intro()}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.fire.cannon(n.spotters[0].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[2].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[1].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,2500)}),(function(){return n.missiles(n.next)}),(function(){return n.fireworks({x:500,y:350},n.timeout(n.next,500))}),(function(){return n.fireworks({x:-500,y:350},n.timeout(n.next,2e3))}),(function(){n.moveBody(n.spotters[1].body,-900,450,8),n.moveBody(n.spotters[2].body,900,450,8,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.fire.cannon(n.spotters[0].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[2].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[1].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,2500)}),(function(){n.missiles(),n.timeout((function(){return n.missiles(n.next)}),2e3)}),(function(){return n.timeout(n.next,1e3)}),(function(){n.spotters.forEach((function(e){return n.moveBody(e.body,0,500,8)})),n.next()}),(function(){return n.timeout(n.next,5e3)}),(function(){n.spotters[1].remove(),n.spotters[2].remove(),n.spotters.pop(),n.spotters.pop(),n.next()}),(function(){return n.spotter.startStream(250)}),(function(){return n.spotter.rotate(720,2,n.next)}),(function(){return n.spotter.stream.off()}),(function(){return n.spotter.startStream(100)}),(function(){return n.spotter.rotate(720,4,n.next)}),(function(){return n.spotter.stream.off()}),(function(){return n.spotter.rotate(135,4,n.next)}),(function(){return n.spotter.startStream(50)}),(function(){return n.spotter.rotate(90,2,n.next)}),(function(){return n.spotter.stream.off()}),(function(){return n.spotter.rotate(15,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(120,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fireworks({x:0,y:0},n.next)}),(function(){return n.barrage()}),(function(){return n.barrage()}),(function(){return n.barrage([n.spotters[3].body.position,4])}),(function(){return n.barrage([n.spotters[0].body.position,1],[n.spotters[4].body.position,5])}),(function(){return n.barrage([n.spotters[1].body.position,2],[n.spotters[4].body.position,5])}),(function(){return n.barrage([n.spotters[0].body.position,1],[n.spotters[2].body.position,3],[n.spotters[4].body.position,5])}),(function(){return n.barrage([n.spotters[2].body.position,3])}),(function(){return n.barrage([n.spotters[0].body.position,1],[n.spotters[4].body.position,5])}),(function(){n.fireworks({x:0,y:0}),n.barrage()}),(function(){n.timeout((function(){return n.fireworks({x:500,y:500})}),2668),n.barrage()}),(function(){n.fireworks({x:-500,y:500}),n.timeout((function(){return n.fireworks({x:-500,y:500})}),1334),n.timeout((function(){return n.fireworks({x:0,y:500})}),2668),n.barrage()}),(function(){return n.timeout(n.next,2001)}),(function(){n.missiles(),n.timeout((function(){return n.missiles(n.next)}),667)}),(function(){return n.moveBody(n.enemy.body,0,0,1,n.next)}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.theEnd()}),(function(){return null})),n.step=n.scheduleStart(),n.schedule[n.step.next().value](),n}return Object(m.a)(t,e),t}(Me),Se=function(e){return i.a.createElement(b,null,i.a.createElement("text",{opacity:"0",fill:"white",fontSize:"32",alignmentBaseline:"central",textAnchor:"middle",fontFamily:"Arial Black"},"ENEMY ASSIMILATION: SUCCESS",i.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",begin:"6s",dur:"0.1s",fill:"freeze"})),i.a.createElement("g",null,O[e.victoryData.enemy.name](e.victoryData.enemy),i.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.1s",begin:"1.9s",fill:"freeze"})),i.a.createElement("g",null,function(e){var t,n,o,i=e.length;for(t=0;t<i;t++)o=~~(Math.random()*(t+1)),n=e[t],e[t]=e[o],e[o]=n;return e}([30,60,90,120,150,180,210,240,270,300,330,360]).map((function(t,n){return i.a.createElement("circle",{key:t,fill:e.victoryData.enemy.coreColor,r:"20",cx:e.victoryData.enemy.body.position.x+(30+Math.floor(10*Math.random()))*Math.cos(t*Math.PI/180),cy:e.victoryData.enemy.body.position.y+(30+Math.floor(10*Math.random()))*Math.sin(t*Math.PI/180),opacity:"0"},i.a.createElement("animate",{attributeName:"opacity",calcMode:"discrete",keyTimes:"0;1",values:"1;0",begin:"".concat(1+.1*n,"s"),dur:"".concat(4-.1*n,"s"),fill:"freeze"}),i.a.createElement("animateTransform",{attributeName:"transform",type:"translate",additive:"replace",keyTimes:"0;0.75;1",values:"\n                        ".concat((30+Math.floor(10*Math.random()))*Math.cos(t*Math.PI/180)," ").concat((30+Math.floor(10*Math.random()))*Math.sin(t*Math.PI/180),";\n                        ").concat(1500*Math.cos(t*Math.PI/180)," ").concat(1500*Math.sin(t*Math.PI/180),";\n                        ").concat(e.victoryData.player.body.position.x-e.victoryData.enemy.body.position.x," ").concat(e.victoryData.player.body.position.y-e.victoryData.enemy.body.position.y,"\n                        "),dur:"3s",begin:"2s",fill:"freeze"}))})),i.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 ".concat(e.victoryData.enemy.body.position.x," ").concat(e.victoryData.enemy.body.position.x),to:"360 ".concat(e.victoryData.player.body.position.x," ").concat(e.victoryData.player.body.position.x),begin:"2s",dur:"3s",fill:"freeze"}),"/>"),i.a.createElement("g",null,v(e.victoryData.player.body.position.x-10,e.victoryData.player.body.position.y-10,20,20),i.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",begin:"5.5s",dur:"0.1s",fill:"freeze"})),i.a.createElement("rect",{rx:"20",width:"200",height:"100",x:"-100",y:"300",cursor:"pointer",fill:"transparent",onClick:function(){return e.sceneChange("select")}}),i.a.createElement("text",{fontFamily:"Arial Black",fontSize:"50",alignmentBaseline:"central",textAnchor:"middle",x:"0",y:"350",fill:"white",pointerEvents:"none",opacity:"0"},"PROCEED",i.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",begin:"6s",dur:"0.1s",fill:"freeze"})))},Ie=(n(28),function(e,t){"r"!==e.key&&"R"!==e.key||(t.setShowIntro(!1),t.sceneChange("select"))}),je=function(e){return Object(o.useEffect)((function(){return window.addEventListener("keydown",(function(t){return Ie(t,e)})),function(){return window.removeEventListener("keydown",(function(t){return Ie(t,e)}))}})),i.a.createElement(b,null,i.a.createElement("rect",{x:e.x-e.width/2,y:e.y-e.height/2,width:e.width,height:e.height,fill:"pink"},i.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.1s",begin:"1s",fill:"freeze",calcMode:"discrete"})),[30,60,90,120,150,180,210,240,270,300,330,360].map((function(t){return i.a.createElement("g",{key:t},i.a.createElement("circle",{cx:e.x+2*Math.cos(t*Math.PI/180),cy:e.y+2*Math.sin(t*Math.PI/180),r:"25",fill:"pink",opacity:"0"},i.a.createElement("animate",{attributeName:"opacity",keyTimes:"0;0.2;0.9;1",values:"0;1;1;0",fill:"freeze",dur:"1.5s",begin:"1s"}),i.a.createElement("animateTransform",{attributeName:"transform",type:"translate",additive:"sum",accumulate:"sum",to:"".concat(e.x+2e3*Math.cos(t*Math.PI/180)," ").concat(e.y+2e3*Math.sin(t*Math.PI/180)),dur:"2s",begin:"1s",fill:"freeze"})),i.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 ".concat(e.x," ").concat(e.y),to:"360 ".concat(e.x," ").concat(e.y),dur:"4s",begin:"1s",fill:"freeze"}))})),i.a.createElement("g",null,i.a.createElement("circle",{r:"250",x:"0",y:"0",fill:"rgba(255,255,255,0.2)",opacity:"0",onClick:function(){e.setShowIntro(!1),e.sceneChange("select")}},i.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.3s",begin:"1.5s",fill:"freeze"})),i.a.createElement("text",{fill:"white",textAnchor:"middle",fontFamily:"Arial Black",fontSize:"40",alignmentBaseline:"central",pointerEvents:"none",opacity:"0"},"Try again",i.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.3s",begin:"1.5s",fill:"freeze"}))))},Pe=n(33),Ne=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(d.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=function(){window.addEventListener("resize",n.resize)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.resize)},n.resize=function(){var e=window.innerHeight>9*window.innerWidth/16?9*window.innerWidth/16:window.innerHeight,t=window.innerHeight>9*window.innerWidth/16?window.innerWidth:16*window.innerHeight/9;n.setState({svgHeight:e,svgWidth:t,innerWidth:window.innerWidth,innerHeight:window.innerHeight,offset:(window.innerWidth-t)/2})},n.selectEnemy=function(e){n.setState({enemySelected:e,currentScene:e})},n.sceneChange=function(e){n.setState({currentScene:e})},n.setShowIntro=function(e){n.setState({showIntro:e})},n.victory=function(e){var t,o=new Date;n.cookies.set(e.enemy.name,"vencido",{expires:new Date(o.getFullYear()+1,o.getMonth(),o.getDate(),0,0,0,0),path:"/"}),n.setState((t={},Object(c.a)(t,e.enemy.name,!1),Object(c.a)(t,"enemySelected","none"),Object(c.a)(t,"currentScene","victory"),Object(c.a)(t,"showIntro",!0),Object(c.a)(t,"victory",Object(s.a)({},e)),t))},n.death=function(e){n.setState({death:{x:e.body.position.x,y:e.body.position.y,width:e.width,height:e.height}})},n.eraseCookies=function(){n.cookies.remove("sakura"),n.cookies.remove("blood"),n.cookies.remove("nul"),n.cookies.remove("vida"),n.cookies.remove("ava"),n.setState({sakura:!0,blood:!0,nul:!0,vida:!0})};var o=window.innerHeight>9*window.innerWidth/16?9*window.innerWidth/16:window.innerHeight,i=window.innerHeight>9*window.innerWidth/16?window.innerWidth:16*window.innerHeight/9;return n.cookies=e.cookies,n.state={currentScene:"start",enemySelected:"none",playMode:"keyboard",svgHeight:o,svgWidth:i,innerWidth:window.innerWidth,innerHeight:window.innerHeight,offset:(window.innerWidth-i)/2,showIntro:!0,sakura:void 0===n.cookies.get("sakura"),blood:void 0===n.cookies.get("blood"),nul:void 0===n.cookies.get("nul"),vida:void 0===n.cookies.get("vida"),death:{x:0,y:0,width:25,height:25}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={svgHeight:this.state.svgHeight,svgWidth:this.state.svgWidth,innerHeight:this.state.innerHeight,innerWidth:this.state.innerWidth,offset:this.state.offset,playMode:this.state.playMode,sceneChange:this.sceneChange,showIntro:this.state.showIntro,enemySelected:this.state.enemySelected,death:this.death,setShowIntro:this.setShowIntro,selectEnemy:this.selectEnemy,victory:this.victory};return i.a.createElement("div",{className:"svg-container"},"start"===this.state.currentScene&&i.a.createElement(g,{sceneChange:this.sceneChange,erase:this.eraseCookies}),"controller"===this.state.currentScene&&i.a.createElement(x,{sceneChange:this.sceneChange}),"select"===this.state.currentScene&&i.a.createElement(R,{blood:this.state.blood,sakura:this.state.sakura,vida:this.state.vida,nul:this.state.nul,selectEnemy:this.selectEnemy,enemySelected:this.state.enemySelected,sceneChange:this.sceneChange}),"death"===this.state.currentScene&&i.a.createElement(je,{x:this.state.death.x,y:this.state.death.y,width:this.state.death.width,height:this.state.death.height,sceneChange:this.sceneChange,setShowIntro:this.setShowIntro}),"victory"===this.state.currentScene&&i.a.createElement(Se,{setShowIntro:this.setShowIntro,selectEnemy:this.selectEnemy,sceneChange:this.sceneChange,victoryData:this.state.victory}),"scene1"===this.state.currentScene&&i.a.createElement(Ee,e),"scene2"===this.state.currentScene&&i.a.createElement(ke,e),"scene3"===this.state.currentScene&&i.a.createElement(Be,e),"scene4"===this.state.currentScene&&i.a.createElement(Oe,e),"scene5"===this.state.currentScene&&i.a.createElement(Ce,e))}}]),t}(i.a.Component),Ae=Object(Pe.a)(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var We=n(34);a.a.render(i.a.createElement(We.a,null,i.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.69e7207b.chunk.js.map
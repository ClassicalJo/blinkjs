(this.webpackJsonpblinkjs=this.webpackJsonpblinkjs||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/touchscreen.4ab11d22.svg"},12:function(e,t,n){e.exports=n(19)},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(8),a=n.n(o),s=n(2),l=n(6),c=n(4),u=n(3),d=n(5),h=function(e){return i.a.createElement("svg",{zid:"main-svg",viewBox:"-1000 -562.5 2000 1125",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("mask",{id:"transparent"},i.a.createElement("rect",{width:"5000",height:"5000",x:"-2500",y:"-2500",fill:"white"}),i.a.createElement("rect",{width:"2000",height:"1125",x:"-1000",y:"-562.5",fill:"black"})),i.a.createElement("rect",{fill:"black",width:"5000",height:"5000",x:"-2500",y:"-2500"}),e.children,i.a.createElement("rect",{fill:"black",width:"5000",height:"5000",x:"-2500",y:"-2500",mask:"url(#transparent)",pointerEvents:"none"}))},p=n(9),y=n.n(p),b=n(10),m=n.n(b),f=function(e){return i.a.createElement(h,null,i.a.createElement("image",{width:e.svgHeight/2,x:e.svgHeight/-4-e.svgHeight/2,y:e.svgHeight/-4,xlinkHref:y.a,onClick:e.keyboard}),i.a.createElement("image",{width:e.svgHeight/2,x:e.svgHeight/-4+e.svgHeight/2,y:e.svgHeight/-4,xlinkHref:m.a,onClick:e.touchscreen}))},g=n(1),v=function e(t,n,r,i,o){var a=this;Object(s.a)(this,e);this.body=g.Bodies.circle(t,n,r,{isStatic:!0}),this.body.hp=i,this.body.label="enemy",this.dead=!1,this.radius=r,g.World.add(o,this.body),this.remove=function(){g.World.remove(o,a.body)}},w=function e(t,n,r,i,o){var a=this;Object(s.a)(this,e),this.body=g.Bodies.circle(t,n,r,{isStatic:!0,isSensor:!0}),this.body.label="barrier",this.body.maxHp=i,this.body.hp=i,this.radius=r,this.danger=Math.ceil(this.body.maxHp/4),this.classNames="barrier",g.World.add(o,this.body),this.remove=function(){g.World.remove(o,a.body)}},x=function e(t,n,r,i,o){var a=this;Object(s.a)(this,e),this.body=g.Bodies.circle(t,n,r,i),this.radius=r,g.World.add(o,this.body),this.remove=function(){g.World.remove(o,a.body)}},E=function e(t,n,r,i,o,a){var l=this;Object(s.a)(this,e),this.body=g.Bodies.rectangle(t,n,r,i,o),this.width=r,this.height=i,g.World.add(a,this.body),this.remove=function(){g.World.remove(a,l.body)}},k=function e(t,n,r,i,o){var a=this;Object(s.a)(this,e);this.body=g.Bodies.circle(t,n,r,{isSensor:!0}),this.body.label="playerBullet",this.radius=r,g.Body.setVelocity(this.body,{x:0,y:-15}),g.World.add(i,this.body),this.checkIfIsOffScreen=setInterval((function(){a.isOffScreen(a.body.position.x,a.body.position.y)&&a.remove()}),16),this.isOffScreen=function(e,t){return e>1e3||e<-1e3||t>500||t<-500},this.remove=function(){clearInterval(a.checkIfIsOffScreen),g.World.remove(i,a.body);for(var e=o.length-1;e>=0;e--)o[e].body.id===a.body.id&&o.splice(e,1)}},M=function e(t){Object(s.a)(this,e),this.ground=new E(0,562.5,2e3,100,{isStatic:!0},t),this.ground.body.label="wall",this.ceiling=new E(0,-562.5,2e3,100,{isStatic:!0},t),this.ceiling.body.label="wall",this.leftWall=new E(-1e3,0,100,1075,{isStatic:!0},t),this.leftWall.body.label="wall",this.rightWall=new E(1e3,0,100,1075,{isStatic:!0},t),this.rightWall.body.label="wall",this.walls=[this.ground,this.ceiling,this.leftWall,this.rightWall]},B=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.cycle()},n.cycle=function(){n.updateCycle(),n.loop=requestAnimationFrame((function(){return n.cycle()}))},n.updateCycle=function(){n.setState((function(e){Object.assign({},e.particles);return{particles:n.particles}}))},n.componentWillUnmount=function(){cancelAnimationFrame(n.loop),clearTimeout(n.explosion)},n.state={showPlayer:!0,particles:[]},n.pause=!1,n.engine=g.Engine.create(),n.runner=g.Runner.create(),n.world=n.engine.world,n.world.gravity.y=0,g.Runner.start(n.runner,n.engine),n.particles=[];for(var r=2*Math.PI/20,i=function(e){n.explosion=setTimeout((function(){n.setState({showPlayer:!1});var t=new x(1*Math.cos(e)+n.props.x,-1*Math.sin(e)+n.props.y,10,{},n.world);n.particles.push(t)}),1250)},o=0;o<2*Math.PI;o+=r)i(o);return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,!0===this.state.showPlayer&&i.a.createElement("rect",{x:this.props.x-this.props.width/2,y:this.props.y-this.props.height/2,width:this.props.width,height:this.props.height,fill:"pink"}),this.state.particles.map((function(t){return i.a.createElement("circle",{key:e.state.particles.indexOf(t),className:"playerGlow disappear",cx:t.body.position.x,cy:t.body.position.y,r:t.radius,fill:"pink"})})),!1===this.state.showPlayer&&i.a.createElement("g",null,i.a.createElement("text",{className:"appear",fill:"white",textAnchor:"middle"},"You tried"),i.a.createElement("rect",{className:"appear",width:"25%",height:"50",x:"-12.5%",y:"75",fill:"white",onClick:this.props.restart}),i.a.createElement("text",{y:"100",className:"appear",textAnchor:"middle",pointerEvents:"none"},"Try again")))}}]),t}(i.a.Component),T=function(e,t,n,r){var o="M ".concat(e+n/2," ").concat(t-2*r," L ").concat(e," ").concat(t-r," V ").concat(t-r/4," H ").concat(e+n," V").concat(t-r," Z"),a="M ".concat(e-n/4," ").concat(t-r/2," V ").concat(t+2*r," H ").concat(e-5*n/4," Z"),s="M ".concat(e+5*n/4," ").concat(t-r/2," V ").concat(t+2*r," H ").concat(e+9*n/4," Z");return i.a.createElement("g",null,i.a.createElement("path",{d:o,fill:"white"}),i.a.createElement("path",{d:a,fill:"white"}),i.a.createElement("path",{d:s,fill:"white"}),i.a.createElement("rect",{id:"player",className:"playerGlow",x:e,y:t,width:n,height:r}))},W=function(e,t,n){var r=e-50,o=t,a="M".concat(r," ").concat(o," L").concat(r-75," ").concat(o-75," L ").concat(r-150," ").concat(o+150," L").concat(r-50," ").concat(o-10," Z");return i.a.createElement("g",{key:"0"},i.a.createElement("path",{key:"1",d:a,fill:"white",className:"enemy-wing"}),i.a.createElement("path",{key:"2",d:a,fill:"white",className:"enemy-wing",transform:"scale(-1, 1)"}),i.a.createElement("circle",{key:"3",className:"enemy",cx:e,cy:t,r:n,fill:"pink"}))},O=function(e,t){for(var n=t.length-1;n>=0;n--)t[n].body.id===e.id&&t[n].remove()},H=function(e,t,n){g.Events.on(t,"collisionStart",(function(t){for(var r=0;r<t.pairs.length;r++){var i=t.pairs[r];"player"===i.bodyA.label&&"wall"!==i.bodyB.label?"playerBullet"!==i.bodyB.label&&(e.dead=!0):"player"===i.bodyB.label&&"wall"!==i.bodyA.label&&"playerBullet"!==i.bodyA.label&&(e.dead=!0),"playerBullet"===i.bodyA.label?"barrier"===i.bodyB.label?(i.bodyB.hp--,O(i.bodyA,n)):"enemy"===i.bodyB.label&&(i.bodyB.hp--,O(i.bodyA,n)):"playerBullet"===i.bodyB.label&&("barrier"===i.bodyA.label?(i.bodyA.hp--,O(i.bodyB,n)):"enemy"===i.bodyA.label&&(i.bodyA.hp--,O(i.bodyB,n)))}}))},S={bouncer:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"#FFFF26",filter:"url(#blur)"}),i.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:3*e.radius/4,fill:"black"}))},bullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:e.body.position.x,cy:e.body.position.y,r:e.radius,stroke:"#FFFF26",fill:"lightpink",strokeWidth:"1"}))},bigBullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:e.className,cx:e.body.position.x,cy:e.body.position.y,r:e.radius,stroke:"#C24CF6",fill:"black",strokeWidth:"5"}))},surroundBullet:function(e){return i.a.createElement("g",{key:e.body.id},i.a.createElement("circle",{className:"bullet",cx:e.body.position.x,cy:e.body.position.y,r:e.radius,stroke:"#FFFF26",fill:"#C24CF6",strokeWidth:"1"}))}},j=function(){for(var e=[],t=0;t<5;t++)e.push(t);return i.a.createElement("g",null,e.map((function(e){return i.a.createElement("rect",{key:e,x:Math.ceil(2e3*Math.random())-1e3,y:Math.ceil(1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})),e.map((function(e){return i.a.createElement("rect",{key:e,x:Math.ceil(-2e3*Math.random())-1e3,y:Math.ceil(-1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})))},I=n(11),N=n.n(I),C=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){n.mountJoystick(),window.addEventListener("resize",n.mountJoystick)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.mountJoystick)},n.mountJoystick=function(){n.manager&&(n.manager.get().destroy(),n.manager.destroy());n.manager=N.a.create({zone:document.getElementById("zone"),position:{top:7*n.props.svgHeight/8+n.props.svgHeight/-6+"px",left:n.props.offset+n.props.svgWidth/4+n.props.svgHeight/-6+"px"},mode:"static",size:n.props.svgHeight/3}),n.manager.on("move",(function(e,t){n.props.move(t.angle.degree)})),n.manager.on("end",(function(){n.props.move(-1)})),document.querySelector("#buttonA").style.cssText="\n            height: ".concat(n.props.svgHeight/5,"px; \n            width: ").concat(n.props.svgHeight/5,"px;\n            position: absolute; \n            top: ").concat(3*n.props.svgHeight/4+n.props.svgHeight/5/-2,"px; \n            left: ").concat(n.props.offset+11*n.props.svgWidth/16+n.props.svgHeight/5/-2,"px; \n            border: 3px solid rgba(255,255,255,0.3);\n            background-color: transparent;\n            border-radius: ").concat(n.props.svgHeight/5,"px"),document.querySelector("#buttonB").style.cssText="\n            height: ".concat(n.props.svgHeight/5,"px; \n            width: ").concat(n.props.svgHeight/5,"px;\n            position: absolute; \n            top: ").concat(3*n.props.svgHeight/4+n.props.svgHeight/5/-2,"px; \n            left: ").concat(n.props.offset+13*n.props.svgWidth/16+n.props.svgHeight/5/-2,"px; \n            border: 3px solid rgba(255,255,255,0.3);\n            background-color: transparent;\n            border-radius: ").concat(n.props.svgHeight/5,"px")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"zone-wrapper"},i.a.createElement("div",{id:"zone"}),i.a.createElement("div",{id:"buttonA",style:this.buttonA,onTouchStart:this.props.blink}),i.a.createElement("div",{id:"buttonB",style:this.buttonB,onTouchStart:this.props.shoot,onTouchMove:this.props.shoot}))}}]),t}(i.a.PureComponent),A=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){H(n.player,n.engine,n.playerBullets),n.timerInterval=setInterval((function(){n.timer=Number(n.timer)+.1,n.timer=Math.round(100*n.timer)/100}),100),"keyboard"===n.props.playMode&&(window.addEventListener("keydown",n.handleKeyDown,!1),window.addEventListener("keyup",n.handleKeyUp,!1)),n.intervals.push(n.timerInterval,n.cycle),g.Runner.run(n.runner,n.engine),n.cycle()},n.componentWillUnmount=function(){g.Runner.stop(n.runner),cancelAnimationFrame(n.loop),n.intervals.forEach((function(e){return clearInterval(e)})),n.timeouts.forEach((function(e){return clearTimeout(e)})),"keyboard"===n.props.playMode&&(window.removeEventListener("keydown",n.handleKeyDown),window.removeEventListener("keyup",n.handleKeyUp))},n.cycle=function(){n.updateCycle(),n.loop=requestAnimationFrame((function(){return n.cycle()}))},n.togglePause=function(){n.pause?(n.cycle(),g.Runner.run(n.runner,n.engine),n.pause=!1):(cancelAnimationFrame(n.loop),g.Runner.stop(n.runner),n.pause=!0)},n.updateCycle=function(){!0===n.player.dead&&(window.removeEventListener("keydown",n.handleKeyDown,!0),cancelAnimationFrame(n.loop),g.Runner.stop(n.runner),n.timeouts.forEach((function(e){return clearTimeout(e)}))),"keyboard"===n.props.playMode&&(n.player.direction={x:0,y:0},n.playerMovementMap.forEach((function(e){"a"===e?n.player.direction.x-=n.player.speed:"d"===e&&(n.player.direction.x+=n.player.speed),"w"===e?n.player.direction.y-=n.player.speed:"s"===e&&(n.player.direction.y+=n.player.speed),"k"===e&&n.blink(n.player.direction.x,n.player.direction.y),"l"===e&&n.shoot()}))),g.Body.setVelocity(n.player.body,n.player.direction),n.setState((function(e){for(var t=0;t<n.barriers.length;t++)n.barriers[t].body.hp<2*n.barriers[t].danger&&(n.barriers[t].classNames="barrier damaged"),n.barriers[t].body.hp<n.barriers[t].danger&&(n.barriers[t].classNames="barrier danger"),n.barriers[t].body.hp<=0&&(n.barriers[t].remove(),n.barriers.splice(t,1),t--);for(var r=0;r<n.enemies.length;r++)n.enemies[r].body.hp<=0&&(n.enemies[r].remove(),n.enemies.splice(r,1),r--,n.props.victory());Object.assign({},e.player),Object.assign({},e.playerBullets),Object.assign({},e.bullets),Object.assign({},e.bouncers),Object.assign({},e.barriers),Object.assign({},e.enemies);var i=n.timer,o=n.theEnd;return{player:n.player,playerBullets:n.playerBullets,bullets:n.bullets,bouncers:n.bouncers,enemies:n.enemies,barriers:n.barriers,timer:i,theEnd:o}}))},n.handleTouch=function(e){n.player.direction=-1===e?{x:0,y:0}:e>22.5&&e<67.5?{x:n.player.speed,y:-n.player.speed}:e>67.5&&e<112.5?{x:0,y:-n.player.speed}:e>112.5&&e<157.5?{x:-n.player.speed,y:-n.player.speed}:e>157.5&&e<202.5?{x:-n.player.speed,y:0}:e>202.5&&e<247.5?{x:-n.player.speed,y:n.player.speed}:e>247.5&&e<292.5?{x:0,y:n.player.speed}:e>292.5&&e<337.5?{x:n.player.speed,y:n.player.speed}:{x:n.player.speed,y:0}},n.handleKeyDown=function(e){-1===n.playerMovementMap.indexOf(e.key)&&n.playerMovementMap.push(e.key)},n.handleKeyUp=function(e){n.playerMovementMap.splice(n.playerMovementMap.indexOf(e.key),1)},n.blink=function(){if(!0!==n.player.blinkOnCooldown){n.player.blinkOnCooldown=!0;var e,t,r=setTimeout((function(){return n.player.blinkOnCooldown=!1}),125);if(n.timeouts.push(r),0===n.player.direction.x&&0===n.player.direction.y)e=n.player.body.position.x,t=n.player.body.position.y-n.player.blinkDistance;else{var i=Math.atan2(n.player.body.position.y+n.player.direction.y-n.player.body.position.y,n.player.body.position.x+n.player.direction.x-n.player.body.position.x);i=(i=360*(i>0?i:2*Math.PI+i)/(2*Math.PI))*Math.PI/180,e=n.player.body.position.x+n.player.blinkDistance*Math.cos(i),t=n.player.body.position.y+n.player.blinkDistance*Math.sin(i)}Math.abs(e)>950&&(e=n.player.direction.x/Math.abs(n.player.direction.x)*950),Math.abs(t)>512.5&&(t=n.player.direction.y/Math.abs(n.player.direction.y)*512.5),g.Body.setPosition(n.player.body,{x:e,y:t})}},n.shoot=function(){if(!0!==n.player.bulletOnCooldown){n.player.bulletOnCooldown=!0;var e=new k(n.player.body.position.x,n.player.body.position.y-50,5,n.world,n.playerBullets);n.playerBullets.push(e);var t=setTimeout((function(){return n.player.bulletOnCooldown=!1}),100);n.timeouts.push(t)}},n.renderScene=function(){return!0!==n.player.dead?i.a.createElement(i.a.Fragment,null,i.a.createElement(j,null),i.a.createElement("text",{x:"-950",y:"-425",stroke:"white",fill:"white"},String(n.state.timer)),i.a.createElement("filter",{id:"blur"},i.a.createElement("feGaussianBlur",{stdDeviation:"2"})),n.state.bullets.map((function(e){return"bullet"===e.body.label?S.bullet(e):"bouncer"===e.body.label?S.bouncer(e):"bigBullet"===e.body.label?S.bigBullet(e):"surroundBullet"===e.body.label?S.bigBullet(e):null})),")}",n.state.playerBullets.map((function(e){return i.a.createElement("circle",{key:n.state.playerBullets.indexOf(e),cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"white"})})),n.state.enemies.map((function(e){return W(e.body.position.x,e.body.position.y,e.radius)})),n.state.barriers.map((function(e){return i.a.createElement("circle",{className:e.classNames,key:n.state.barriers.indexOf(e),cx:e.body.position.x,cy:e.body.position.y,r:e.radius,fill:"transparent"})})),T(n.state.player.body.position.x-n.state.player.width/2,n.state.player.body.position.y-n.state.player.height/2,n.state.player.width,n.state.player.height),i.a.createElement("circle",{id:"player-radius",cx:n.state.player.body.position.x,cy:n.state.player.body.position.y,r:n.state.player.blinkDistance,stroke:"rgba(255,255,255,0.5",fill:"transparent"}),!0===n.state.theEnd&&i.a.createElement("rect",{x:"-1000",y:"-562.5",width:"2000",height:"1125",fill:"white",pointerEvents:"none",className:"disappear"})):i.a.createElement(B,{x:n.state.player.body.position.x,y:n.state.player.body.position.y,width:n.state.player.width,height:n.state.player.height,restart:n.props.restart})},n.state={player:null,playerBullets:[],walls:[],bullets:[],bouncers:[],timer:0,barriers:[],enemies:[],theEnd:!1},n.timeouts=[],n.intervals=[],n.pause=!1,n.engine=g.Engine.create(),n.world=n.engine.world,n.runner=g.Runner.create(),n.world.gravity.y=0,n.enemies=[],n.barriers=[],n.bullets=[],n.bouncers=[],n.playerBullets=[],n.playerMovementMap=[],n.playerTouch="end",n.state.walls=new M(n.world).walls,n.timer=0,n.player=new E(0,300,20,20,{},n.world),n.player.body.label="player",n.player.direction={x:0,y:0},n.player.speed=7,n.player.blinkDistance=100,n.state.player=n.player,n.theEnd=!1,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,null,this.renderScene()),"touchscreen"===this.props.playMode&&!0!==this.player.dead&&i.a.createElement(C,{svgHeight:this.props.svgHeight,svgWidth:this.props.svgWidth,innerHeight:this.props.innerHeight,innerWidth:this.props.innerWidth,offset:this.props.offset,move:function(t){return e.handleTouch(t)},blink:function(){return e.blink()},shoot:function(){return e.shoot()}}))}}]),t}(i.a.Component),F={coordinates:function(e,t,n,r,i){var o=Math.atan2(r-t,n-e);return o=(o=360*(o>0?o:2*Math.PI+o)/(2*Math.PI))*Math.PI/180,{x:e+i*Math.cos(o),y:t+i*Math.sin(o)}},getTargetVelocity:function(e,t,n,r,i){var o=Math.atan2(r-t,n-e);return o=(o=360*(o>0?o:2*Math.PI+o)/(2*Math.PI))*Math.PI/180,{x:i*Math.cos(o),y:i*Math.sin(o)}}},P=function e(t,n,r,i,o,a,l){var c=this;Object(s.a)(this,e);this.body=g.Bodies.circle(t,n,r,{isSensor:!0,label:"bullet"}),this.radius=r;var u=setTimeout((function(){return g.Body.setVelocity(c.body,{x:0,y:i})}),o),d=setTimeout((function(){return c.remove()}),5e3);this.isOffScreen=function(e,t){return e>1250||e<-1250||t>812.5||t<-812.5};var h=setInterval((function(){return c.isOffScreen(c.body.position.x,c.body.position.y)?c.remove():null}),16);g.World.add(a,this.body),l.push(this),this.remove=function(){clearInterval(h),clearTimeout(u),clearTimeout(d),g.World.remove(a,c.body);for(var e=l.length-1;e>=0;e--)l[e].body.id===c.body.id&&l.splice(e,1)}},V=function e(t,n,r,i,o,a,l,c,u){var d=this;Object(s.a)(this,e),this.options={restitution:1,label:"bouncer"},this.body=g.Bodies.circle(t,n,o,this.options),this.radius=o;var h=F.getTargetVelocity(t,n,r,i,a);g.World.add(c,this.body),u.push(this);var p=setTimeout((function(){return g.Body.setVelocity(d.body,h)}),l),y=setTimeout((function(){return d.remove()}),5e3);this.remove=function(){clearTimeout(p),clearTimeout(y),g.World.remove(c,d.body);for(var e=u.length-1;e>=0;e--)u[e].body.id===d.body.id&&u.splice(e,1)}},z=function e(t,n,r,i,o,a,l,c,u){var d=this;Object(s.a)(this,e),this.body=g.Bodies.circle(t,n,o,{isSensor:!0,label:"bullet"}),this.radius=o;var h=F.getTargetVelocity(t,n,r,i,a);g.World.add(c,this.body),u.push(this);var p=setTimeout((function(){return g.Body.setVelocity(d.body,h)}),l),y=setTimeout((function(){return d.remove()}),4e3);this.isOffScreen=function(e,t){return e>1250||e<-1250||t>812.5||t<-812.5};var b=setInterval((function(){return d.isOffScreen(d.body.position.x,d.body.position.y)?d.remove():null}),16);this.remove=function(){clearTimeout(p),clearTimeout(y),clearInterval(b),g.World.remove(c,d.body);for(var e=u.length-1;e>=0;e--)u[e].body.id===d.body.id&&u.splice(e,1)}},D=function e(t,n,r,i,o,a,l,c){var u=this;Object(s.a)(this,e),this.timeouts=[],this.intervals=[],this.body=g.Bodies.circle(t,n,i,{isSensor:!0,label:"bullet"}),this.radius=i,this.redirect=!1,g.World.add(l,this.body),c.push(this);var d=setInterval((function(){if(u.redirect){var e=F.getTargetVelocity(u.body.position.x,u.body.position.y,r.x,r.y,o);g.Body.setVelocity(u.body,e)}}),16),h=setTimeout((function(){return u.redirect=!0}),a),p=setTimeout((function(){return u.redirect=!1}),a+750),y=setTimeout((function(){return u.remove()}),4e3);this.isOffScreen=function(e,t){return e>1250||e<-1250||t>812.5||t<-812.5};var b=setInterval((function(){return u.isOffScreen(u.body.position.x,u.body.position.y)?u.remove():null}),16);this.timeouts.push(h,p,y),this.intervals.push(d,b),this.remove=function(){u.timeouts.forEach((function(e){return clearTimeout(e)})),u.intervals.forEach((function(e){return clearInterval(e)})),g.World.remove(l,u.body);for(var e=0;e<c.length;e++)c[e].body.id===u.body.id&&c.splice(e,1)}},L=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).firstBarrage=function(){e.wave(-1e3,0,1);var t=setTimeout((function(){return e.wave(1e3,0,-1)}),3e3),n=setTimeout((function(){return e.wave(-1e3,-200,1)}),6e3),r=setTimeout((function(){return e.wave(1e3,-200,-1)}),9e3);e.timeouts.push(t,n,r)},e.wave=function(t,n,r){for(var i=function(i){var o=setTimeout((function(){new P(t+25*i*r,n+i*Math.sin(i*Math.PI/4*-1+.5),5,15,1e3,e.world,e.bullets)}),25*i);e.timeouts.push(o)},o=0;o<100;o++)i(o)},e.secondBarrage=function(){e.surround(450);var t=setTimeout((function(){return e.surround(350)}),3e3),n=setTimeout((function(){return e.surround(300)}),6e3),r=setTimeout((function(){return e.surround(250)}),9e3);e.timeouts.push(t,n,r)},e.surround=function(t){for(var n=t,r=2*Math.PI/50,i=0,o=e.player.body.position,a=o.x,s=o.y,l=function(t,r){i++;var o=setTimeout((function(){new z(n*Math.cos(t)+a,-n*Math.sin(t)+s,a,s,5,20,1e3-10*r,e.world,e.bullets)}),10*i);e.timeouts.push(o)},c=0,u=0;c<2*Math.PI;c+=r,u++)l(c,u)},e.thirdBarrage=function(){e.bouncerCluster(850,-350);var t=setTimeout((function(){return e.bouncerCluster(-850,-350)}),4e3),n=setTimeout((function(){return e.bouncerCluster(850,-350)}),8e3),r=setTimeout((function(){return e.bouncerCluster(-850,-350)}),12e3);e.timeouts.push(t,n,r)},e.bouncerCluster=function(t,n){for(var r=0;r<4;r++){var i=setTimeout((function(){new V(t,n,e.player.body.position.x,e.player.body.position.y,50,45,100,e.world,e.bullets).className="bouncer"}),500*r);e.timeouts.push(i)}},e.fourthBarrage=function(){e.cascade(0,-250,1500);var t=setTimeout((function(){return e.cascade(0,-250,1500)}),3e3),n=setTimeout((function(){return e.cascade(0,-250,1500)}),6e3);e.timeouts.push(t,n)},e.cascade=function(t,n,r){var i=new D(t,n,e.player.body.position,40,20,r,e.world,e.bullets);i.body.label="bigBullet",i.className="bouncer";for(var o=function(i){var o=setTimeout((function(){var o=new D(t+150*i,n-50*i,e.player.body.position,40,20,r-25*i,e.world,e.bullets);o.body.label="bigBullet",o.className="bouncer"}),25*i);e.timeouts.push(o)},a=1;a<=5;a++)o(a);for(var s=function(i){var o=setTimeout((function(){var o=new D(t-150*i,n-50*i,e.player.body.position,40,20,r-25*i,e.world,e.bullets);o.body.label="bigBullet",o.className="bouncer"}),25*i);e.timeouts.push(o)},l=1;l<=5;l++)s(l)},e.enemy=new v(0,-350,50,10,e.world),e.enemies.push(e.enemy),e.outerBarrier=new w(0,-350,70,250,e.world),e.barriers.push(e.outerBarrier),e.firstBarrageTimeout=setTimeout((function(){return e.firstBarrage()}),3e3),e.secondBarrageTimeout=setTimeout((function(){return e.secondBarrage()}),17e3),e.thirdBarrageTimeout=setTimeout((function(){return e.thirdBarrage()}),32e3),e.fourthBarrageTimeout=setTimeout((function(){return e.fourthBarrage()}),5e4),e.theEndTimeout=setTimeout((function(){return e.theEnd=!0}),62e3),e.endTimeout=setTimeout((function(){return e.end=new E(0,0,2e3,1125,{isStatic:!0,isSensor:!0},e.world)}),65150),e.timeouts.push(e.firstBarrageTimeout,e.secondBarrageTimeout,e.thirdBarrageTimeout,e.fourthBarrageTimeout,e.theEndTimeout,e.endTimeout),e}return Object(d.a)(t,e),t}(A),R=function(){return i.a.createElement(h,null,i.a.createElement("text",{fill:"white",fontSize:"32",alignmentBaseline:"central",textAnchor:"middle"},"Victory!!!"),T(-15,-115,30,30),i.a.createElement("rect",{fill:"white",height:"100%",width:"100%",x:"-50%",y:"-50%",className:"disappear",pointerEvents:"none"}))},K=(n(18),function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){window.addEventListener("resize",n.resize)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.resize)},n.resize=function(){var e=window.innerHeight>9*window.innerWidth/16?9*window.innerWidth/16:window.innerHeight,t=window.innerHeight>9*window.innerWidth/16?window.innerWidth:16*window.innerHeight/9;n.setState({svgHeight:e,svgWidth:t,innerWidth:window.innerWidth,innerHeight:window.innerHeight,offset:(window.innerWidth-t)/2})},n.keyboard=function(){n.setState({playMode:"keyboard",currentScene:"scene1"})},n.touchscreen=function(){n.setState({playMode:"touchscreen",currentScene:"scene1"})},n.restart=function(){n.setState({currentScene:"start"})},n.victory=function(){n.setState({currentScene:"victory"})};var r=window.innerHeight>9*window.innerWidth/16?9*window.innerWidth/16:window.innerHeight,i=window.innerHeight>9*window.innerWidth/16?window.innerWidth:16*window.innerHeight/9;return n.state={currentScene:"start",playMode:"keyboard",svgHeight:r,svgWidth:i,innerWidth:window.innerWidth,innerHeight:window.innerHeight,offset:(window.innerWidth-i)/2},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"svg-container"},"start"===this.state.currentScene&&i.a.createElement(f,{svgHeight:this.state.svgHeight,svgWidth:this.state.svgWidth,innerHeight:this.state.innerHeight,innerWidth:this.state.innerWidth,offset:this.state.offset,keyboard:this.keyboard,touchscreen:this.touchscreen}),"scene1"===this.state.currentScene&&i.a.createElement(L,{svgHeight:this.state.svgHeight,svgWidth:this.state.svgWidth,innerHeight:this.state.innerHeight,innerWidth:this.state.innerWidth,offset:this.state.offset,playMode:this.state.playMode,victory:this.victory,restart:this.restart}),"victory"===this.state.currentScene&&i.a.createElement(R,null))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n.p+"static/media/keyboard.7938c350.svg"}},[[12,1,2]]]);
//# sourceMappingURL=main.46d0507a.chunk.js.map
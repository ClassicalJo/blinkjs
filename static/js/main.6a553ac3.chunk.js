(this.webpackJsonpblinkjs=this.webpackJsonpblinkjs||[]).push([[0],Array(24).concat([function(e,t,n){e.exports=n.p+"static/media/space_concept.b9d2c3d2.mp3"},function(e,t,n){e.exports=n.p+"static/media/keyboard.7938c350.svg"},,,function(e,t,n){e.exports=n.p+"static/media/enemy_scream.17b54d80.wav"},function(e,t,n){e.exports=n.p+"static/media/enemy_explosion.2fe76cdf.wav"},function(e,t,n){e.exports=n.p+"static/media/gwdihw.e50a3a39.mp3"},function(e,t,n){e.exports=n.p+"static/media/colossal_sketch_blood.4d1c90c5.mp3"},function(e,t,n){e.exports=n.p+"static/media/colossal_sketch_ava.b114cfa7.mp3"},function(e,t,n){e.exports=n.p+"static/media/sleighbells.f476bef3.mp3"},function(e,t,n){e.exports=n.p+"static/media/thrillerhorrorsomething.44ebb115.mp3"},function(e,t,n){e.exports=n.p+"static/media/rode_over_the_deep.7cd2db7a.mp3"},function(e,t,n){e.exports=n.p+"static/media/player_fire.a51dc387.wav"},function(e,t,n){e.exports=n.p+"static/media/player_blink.59affdd4.wav"},function(e,t,n){e.exports=n.p+"static/media/player_hit.8f06fa66.wav"},function(e,t,n){e.exports=n.p+"static/media/player_explosion.4b375468.wav"},function(e,t,n){e.exports=n.p+"static/media/game_pause.4d07075a.wav"},function(e,t,n){e.exports=n.p+"static/media/game_unpause.1acbb1ee.wav"},function(e,t,n){e.exports=n.p+"static/media/game_text.e659879c.wav"},function(e,t,n){e.exports=n.p+"static/media/sakura_bullet.7bf74def.wav"},function(e,t,n){e.exports=n.p+"static/media/sakura_barrage.3d1a6075.wav"},function(e,t,n){e.exports=n.p+"static/media/sakura_wave.0350829c.wav"},function(e,t,n){e.exports=n.p+"static/media/sakura_bouncer.c14219b7.wav"},function(e,t,n){e.exports=n.p+"static/media/sakura_cascade_falls.2e42b4d3.wav"},function(e,t,n){e.exports=n.p+"static/media/blood_laser.7eaee947.wav"},function(e,t,n){e.exports=n.p+"static/media/blood_explosion.8d7025a6.wav"},function(e,t,n){e.exports=n.p+"static/media/blood_movement.cfc2c415.wav"},function(e,t,n){e.exports=n.p+"static/media/blood_shotgun.cd224290.wav"},function(e,t,n){e.exports=n.p+"static/media/blood_bullet.d9c37772.wav"},function(e,t,n){e.exports=n.p+"static/media/nul_bomb.19c10031.wav"},function(e,t,n){e.exports=n.p+"static/media/nul_void.668363ba.wav"},function(e,t,n){e.exports=n.p+"static/media/nul_bullet.f4672c63.wav"},function(e,t,n){e.exports=n.p+"static/media/nul_movement.d2831d7c.wav"},function(e,t,n){e.exports=n.p+"static/media/nul_flash.a3375d3c.wav"},function(e,t,n){e.exports=n.p+"static/media/vida_laser.7a695858.wav"},function(e,t,n){e.exports=n.p+"static/media/vida_explosion.a182a14d.wav"},function(e,t,n){e.exports=n.p+"static/media/vida_wave.7fe4ca44.wav"},function(e,t,n){e.exports=n.p+"static/media/vida_divide.ee0ebc2d.wav"},function(e,t,n){e.exports=n.p+"static/media/ava_cannon.5293a84e.mp3"},function(e,t,n){e.exports=n.p+"static/media/ava_fireworks.a3188ba1.wav"},function(e,t,n){e.exports=n.p+"static/media/ava_fireworks_reverse.218e3b1c.wav"},function(e,t,n){e.exports=n.p+"static/media/ava_missiles.d534f2f5.wav"},function(e,t,n){e.exports=n.p+"static/media/ava_bullet.de99b4ef.wav"},function(e,t,n){e.exports=n.p+"static/media/ava_railgun.69da689c.wav"},function(e,t,n){e.exports=n(80)},,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(13),a=n.n(i),c=n(25),l=n.n(c),s=function(){return r.a.createElement("defs",null,r.a.createElement("mask",{id:"hpMask"},r.a.createElement("rect",{height:"1000",width:"50",fill:"black",x:"925",y:"-500"}),r.a.createElement("rect",{height:"1000",width:"50",fill:"white",x:"925",y:"-500",rx:"20"})),r.a.createElement("mask",{id:"barrierMask"},r.a.createElement("rect",{height:"1020",width:"60",fill:"black",x:"920",y:"-510"}),r.a.createElement("rect",{height:"1020",width:"60",fill:"white",x:"920",y:"-510",rx:"30"})),r.a.createElement("filter",{id:"blur"},r.a.createElement("feGaussianBlur",{stdDeviation:"2"})),r.a.createElement("radialGradient",{id:"avaHeart",cx:"50%",cy:"50%",r:"100%"},r.a.createElement("stop",{stopColor:"white",offset:"5%"}),r.a.createElement("stop",{stopColor:"silver",offset:"25%"}),r.a.createElement("stop",{stopColor:"black",offset:"55%"})),r.a.createElement("filter",{id:"glowing",height:"500%",width:"500%",x:"-250%",y:"-250%"},r.a.createElement("feDropShadow",{floodColor:"silver",floodOpacity:"0.9",stdDeviation:"5",dy:"0",dx:"0"}),r.a.createElement("feDropShadow",{floodColor:"black",stdDeviation:"3",dy:"0",dx:"0"})),["violet","indigo","blue","green","yellow","orange","red","white"].map((function(e){return r.a.createElement("radialGradient",{key:e,id:"radial".concat(e),cx:"50%",cy:"50%",r:"100%"},r.a.createElement("stop",{stopColor:"silver",offset:"15%"}),r.a.createElement("stop",{stopColor:e,offset:"25%"}),r.a.createElement("stop",{stopColor:"white",offset:"95%"}))})))},u=function(e){return r.a.createElement("svg",{id:"main-svg",viewBox:"-1000 -562.5 2000 1125",preserveAspectRatio:"xMidYMid meet"},r.a.createElement(s,null),r.a.createElement("rect",{fill:"black",width:"5000",height:"5000",x:"-2500",y:"-2500"}),e.children)},d=n(5),y=function(e){return{type:"CHANGE_SCENE",payload:e}},f=function(e){return{type:"PLAY_BGM",payload:e}};var p=Object(d.b)((function(e){return e}))((function(e){return r.a.createElement(u,null,r.a.createElement("rect",{strokeWidth:"5",stroke:"rgba(255,255,255,0.2)",fill:"black",x:-600,y:-450,width:1200,height:900,onClick:function(){return e.dispatch(y("start"))}}),r.a.createElement("image",{width:"250",x:-125,y:-375,xlinkHref:l.a,pointerEvents:"none"}),r.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:100,fill:"white",pointerEvents:"none"},"WASD: Movement"),r.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:150,fill:"white",pointerEvents:"none"},"K: Blink"),r.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:200,fill:"white",pointerEvents:"none"},"L: Fire"),r.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:250,fill:"white",pointerEvents:"none"},"P: Pause"),r.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:300,fill:"white",pointerEvents:"none"},"R: Reset"),r.a.createElement("text",{fontFamily:"Arial Black",textAnchor:"middle",x:0,y:400,fill:"white",pointerEvents:"none"},"Click to go back"))})),m=function(e,t,n,o){var i="M ".concat(e+n/2," ").concat(t-2*o," L ").concat(e," ").concat(t-o," V ").concat(t-o/4," H ").concat(e+n," V").concat(t-o," Z"),a="M ".concat(e-n/4," ").concat(t-o/2," V ").concat(t+2*o," H ").concat(e-5*n/4," Z"),c="M ".concat(e+5*n/4," ").concat(t-o/2," V ").concat(t+2*o," H ").concat(e+9*n/4," Z");return r.a.createElement("g",null,r.a.createElement("path",{d:i,fill:"white"}),r.a.createElement("path",{d:a,fill:"white"}),r.a.createElement("path",{d:c,fill:"white"}),r.a.createElement("rect",{id:"player",fill:"#306BAC",x:e,y:t,width:n,height:o},r.a.createElement("animate",{attributeName:"fill",values:"#306BAC;white;#306BAC",keyTimes:"0;0.5;1",keySplines:"0.42 0 0.58 1;0.42 0 0.58 1",dur:"2s",begin:"0s",repeatCount:"indefinite"})))},b=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:e.x+e.width/-2,y:e.y+e.height/-2,width:e.width,height:e.height,cursor:"pointer",onClick:e.onClick,fill:"transparent"}),r.a.createElement("text",{x:e.x,y:e.y,fill:"white",fontFamily:"Arial Black",fontSize:"40",textAnchor:"middle",pointerEvents:"none",alignmentBaseline:"central"},e.children))},h=n(2),x=n(3);var v=Object(d.b)((function(e){return Object(h.a)({},e.bgm)}),null)((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("text",{x:"750",y:"-500",onClick:function(){!function(e){e.mute?x.Howler.mute(!1):x.Howler.mute(!0),e.dispatch({type:"TOGGLE_MUTE"})}(e)},cursor:"pointer",fontFamily:"Arial Black",fontSize:"30",fill:"white",alignmentBaseline:"central",textAnchor:"middle"},"Mute"),e.mute&&r.a.createElement("line",{x1:"700",x2:"800",y1:"-498",y2:"-498",strokeWidth:"4",stroke:"white"}))})),w=n(81);var g=Object(w.a)(Object(d.b)((function(e){return{mute:e.bgm.mute}}),(function(e){return{changeScene:function(t){return e(y(t))},enemyRestore:function(){return e({type:"ENEMY_RESTORE"})},toggleMute:function(){return e({type:"TOGGLE_MUTE"})}}}))((function(e){return r.a.createElement(u,null,r.a.createElement(v,null),r.a.createElement("g",{transform:"rotate(90, -262.5, -12.5)"},m(-362.5,-12.5,25,25)),r.a.createElement(b,{x:0,y:225,width:150,height:80,onClick:function(){return e.changeScene("select")}},"Start"),r.a.createElement(b,{x:0,y:375,width:300,height:80,onClick:function(){return e.changeScene("controller")}},"How to play"),r.a.createElement(b,{x:-750,y:440,width:415,height:80,onClick:function(){return function(e){["sakura","blood","nul","vida","ava"].forEach((function(t){return e.cookies.remove(t)})),e.enemyRestore()}(e)}},"Erase saved data"),r.a.createElement(b,{x:750,y:440,width:200,height:80,fontSize:40,onClick:function(){return e.changeScene("credits")}},"Credits"),r.a.createElement("text",{y:-100,fill:"white",fontFamily:"Arial Black",fontSize:"80",textAnchor:"middle",pointerEvents:"none",alignmentBaseline:"central"},"BlinkJS"))}))),E=function(e,t,n){return"\n            M".concat(e," ").concat(t+2*n," \n            L").concat(e+n/8," ").concat(t," \n            L").concat(e," ").concat(t-2*n," \n            L").concat(e-n/8," ").concat(t," \n            Z")},M=function(e,t,n){return"\n            M".concat(e+n*Math.cos(360*Math.PI/180)," ").concat(t+2*n*Math.sin(300*Math.PI/180),"            \n            L").concat(e+2*n*Math.cos(60*Math.PI/180)," ").concat(t+2*n*Math.sin(60*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(180*Math.PI/180)," ").concat(t+2*n*Math.sin(180*Math.PI/180),"\n            Z")},k=function(e,t,n){return"\n            M".concat(e+n/2*Math.cos(225*Math.PI/180)," ").concat(t+n/2*Math.sin(225*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(270*Math.PI/180)," ").concat(t+2*n*Math.sin(270*Math.PI/180),"\n            L").concat(e+n/2*Math.cos(325*Math.PI/180)," ").concat(t+n/2*Math.sin(325*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(2*Math.PI)," ").concat(t+2*n*Math.sin(2*Math.PI),"\n            L").concat(e+n/2*Math.cos(45*Math.PI/180)," ").concat(t+n/2*Math.sin(45*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(90*Math.PI/180)," ").concat(t+2*n*Math.sin(90*Math.PI/180),"\n            L").concat(e+n/2*Math.cos(135*Math.PI/180)," ").concat(t+n/2*Math.sin(135*Math.PI/180),"\n            L").concat(e+2*n*Math.cos(180*Math.PI/180)," ").concat(t+2*n*Math.sin(180*Math.PI/180),"\n            Z\n            ")},O=function(e,t,n,o,r){return"\n            M".concat(e+n+o," ").concat(t,"\n            H").concat(e-n-o,"\n            \n            ")},B=function(e,t,n,o,r){return"\n            M".concat(e," ").concat(t-r,"\n            C").concat(e+n+2*o," ").concat(t-r," ").concat(e+n+2*o," ").concat(t," ").concat(e+n+o," ").concat(t,"\n            H").concat(e-n-o,"\n            C").concat(e-n-2*o," ").concat(t," ").concat(e-n-2*o," ").concat(t-r," ").concat(e," ").concat(t-r,"\n            ")},C={sakura:function(e){return r.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}),r.a.createElement("path",{d:E(e.body.position.x,e.body.position.y,e.body.circleRadius),fill:"white"}))},blood:function(e){return r.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},satellite:function(e){return r.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},nul:function(e){return r.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},r.a.createElement("path",{d:M(e.body.position.x,e.body.position.y,e.body.circleRadius),fill:"purple"}),r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},vida:function(e){return r.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},r.a.createElement("path",{d:k(e.body.position.x,e.body.position.y,e.body.circleRadius),fill:"#ccc3b4"}),r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},ava:function(e){var t=[0,90],n=[0,-90,-135];return r.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},n.map((function(t){return r.a.createElement("path",{key:"inner".concat(t),stroke:"#6E798A",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:B(e.body.position.x,e.body.position.y,e.body.circleRadius,15,5)},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t-360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})),t.map((function(t){return r.a.createElement("path",{key:"outer".concat(t),stroke:"silver",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:B(e.body.position.x,e.body.position.y,e.body.circleRadius,25,5)},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t+360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})),r.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"url(#avaHeart)"},r.a.createElement("animateTransform",{additive:"sum",attributeName:"transform",type:"translate",values:"0;".concat((1-1.05)*e.body.position.x," ").concat((1-1.05)*e.body.position.y,";0;0"),dur:"1.5",repeatCount:"indefinite",fill:"remove",keyTimes:"0; 0.15; 0.25; 1"}),r.a.createElement("animateTransform",{additive:"sum",attributeName:"transform",type:"scale",values:"1;1.05;1;1",dur:"1.5",repeatCount:"indefinite",fill:"remove",keyTimes:"0; 0.15; 0.25; 1"})),n.map((function(t){return r.a.createElement("path",{key:"2inner".concat(t),stroke:"#6E798A",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:O(e.body.position.x,e.body.position.y,e.body.circleRadius,15,5)},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t-360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})),t.map((function(t){return r.a.createElement("path",{key:"2outer".concat(t),stroke:"silver",fill:"transparent",strokeWidth:"3",strokeDasharray:"1",pathLength:"1",d:O(e.body.position.x,e.body.position.y,e.body.circleRadius,25,5)},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"".concat(t," ").concat(e.body.position.x," ").concat(e.body.position.y),to:"".concat(t+360," ").concat(e.body.position.x," ").concat(e.body.position.y),repeatCount:"indefinite",dur:"10s"}))})))}},S={body:{id:1,position:{x:-225,y:-225},circleRadius:50,angle:0},coreColor:"pink"},j={body:{id:2,position:{x:225,y:-225},circleRadius:50,angle:0},coreColor:"red"},I={body:{id:3,position:{x:225,y:-300},circleRadius:5,angle:0},coreColor:"red"},P={body:{id:4,position:{x:225,y:-150},circleRadius:5,angle:0},coreColor:"red"},A={body:{id:5,position:{x:-225,y:225},circleRadius:50,angle:0},coreColor:"indigo"},H={body:{id:6,position:{x:225,y:225},circleRadius:50,angle:0},coreColor:"#76c34e"},_={body:{id:7,position:{x:0,y:0},circleRadius:50,angle:0},coreColor:"white"};var T=Object(d.b)((function(e){return{enemySelected:e.scene.enemySelected,enemies:e.enemies,bgm:e.bgm}}),(function(e){return{changeScene:function(t){return e({type:"CHANGE_SCENE",payload:t})},selectEnemy:function(t){return e({type:"SELECT_ENEMY",payload:t})},playBGM:function(t){return e({type:"PLAY_BGM",payload:t})}}}))((function(e){return Object(o.useLayoutEffect)((function(){"none"!==e.enemySelected?e.changeScene(e.enemySelected):"start"!==e.bgm.current&&(e.bgm.songs[e.bgm.current].stop(),e.bgm.songs.start.play(),e.playBGM("start"))})),r.a.createElement(u,null,r.a.createElement("text",{y:"-500",fontFamily:"Arial Black",pointerEvents:"none",fill:"white",fontSize:"40",textAnchor:"middle",alignmentBaseline:"central"},"Next objective:"),C.sakura(S),r.a.createElement("rect",{x:-425,y:-425,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return e.selectEnemy("sakura")}}),!e.enemies.sakura&&r.a.createElement("rect",{x:-425,y:-425,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),C.blood(j),C.satellite(I),C.satellite(P),r.a.createElement("rect",{x:25,y:-425,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return e.selectEnemy("blood")}}),!e.enemies.blood&&r.a.createElement("rect",{x:25,y:-425,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),C.nul(A),r.a.createElement("rect",{x:-425,y:25,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return e.selectEnemy("nul")}}),!e.enemies.nul&&r.a.createElement("rect",{x:-425,y:25,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),C.vida(H),r.a.createElement("rect",{x:25,y:25,width:"400",height:"400",stroke:"white",fill:"transparent",cursor:"pointer",onClick:function(){return e.selectEnemy("vida")}}),!e.enemies.vida&&r.a.createElement("rect",{x:25,y:25,width:"400",height:"400",stroke:"white",fill:"rgba(0,0,0,0.85)"}),!e.enemies.vida&&!e.enemies.blood&&!e.enemies.sakura&&!e.enemies.nul&&r.a.createElement("g",null,r.a.createElement("rect",{x:-200,y:-200,width:"400",height:"400",stroke:"white",fill:"black",cursor:"pointer",onClick:function(){return e.selectEnemy("ava")}}),C.ava(_)),r.a.createElement("rect",{x:"-100",y:"475",width:"200",height:"50",cursor:"pointer",onClick:function(){return e.changeScene("start")}}),r.a.createElement("text",{y:"500",fontFamily:"Arial Black",fontSize:"25",textAnchor:"middle",alignmentBaseline:"central",fill:"white",pointerEvents:"none"},"Back"))})),R=n(4),N=n(7),F=n(6),L=n(8),W=n(12),z=n.n(W),V=n(17),D=n(16),G=n(1),Y=function e(t,n,o,r,i,a){var c=this;Object(R.a)(this,e),this.body=G.Bodies.rectangle(t,n,o,r,i),this.width=o,this.height=r,G.World.add(a,this.body),this.remove=function(){G.World.remove(a,c.body)}},U=function e(t,n,o){var r=this;Object(R.a)(this,e),this.options={position:{x:t.x,y:t.y-50},label:"playerBullet",isSensor:!0},this.body=G.Bodies.circle(t.x,t.y,5,this.options),G.Body.setVelocity(this.body,{x:0,y:-15}),G.World.add(n,this.body),o.push(this),this.checkIfIsOffScreen=setInterval((function(){r.isOffScreen(r.body.position.x,r.body.position.y)&&r.remove()}),100),this.isOffScreen=function(e,t){return e>1e3||e<-1e3||t>500||t<-500},this.remove=function(){clearInterval(r.checkIfIsOffScreen),G.World.remove(n,r.body);for(var e=o.length-1;e>=0;e--)o[e].body.id===r.body.id&&o.splice(e,1);for(var t in r)delete r[t]}},q=function e(t){Object(R.a)(this,e),this.ground=new Y(0,562.5,2e3,100,{isStatic:!0},t),this.ground.body.label="wall",this.ceiling=new Y(0,-562.5,2e3,100,{isStatic:!0},t),this.ceiling.body.label="wall",this.leftWall=new Y(-1e3,0,100,1075,{isStatic:!0},t),this.leftWall.body.label="wall",this.rightWall=new Y(1e3,0,100,1075,{isStatic:!0},t),this.rightWall.body.label="wall",this.walls=[this.ground,this.ceiling,this.leftWall,this.rightWall]},K=function(e){return r.a.createElement("g",{mask:"url(#hpMask)"},r.a.createElement("rect",{x:"925",y:500-e.hp/e.maxHp*1e3,width:"50",height:e.hp/e.maxHp*1e3,fill:e.coreColor,opacity:"0"},r.a.createElement("animate",{attributeName:"opacity",from:"0",to:"0.8",begin:"0.1s",dur:"0.5s",fill:"freeze"}),e.showIntro&&r.a.createElement("animateTransform",{attributeName:"transform",type:"translate",from:"0 1000",to:"0 0",dur:"1s",begin:"0s",fill:"freeze"})),r.a.createElement("rect",{y:"-500",x:"925",width:"50",height:"1000",fill:"white",strokeWidth:"3",opacity:"0.1"}))},Z=function(e){return r.a.createElement("g",{mask:"url(#barrierMask)"},r.a.createElement("rect",{x:"920",y:510-e.hp/e.maxHp*1020,width:"60",height:e.hp/e.maxHp*1020,opacity:"0.5"},r.a.createElement("animate",{attributeName:"fill",values:"red;red",keyTimes:"0;1",calcMode:"discrete",dur:"10000s",begin:"0s",repeatCount:"indefinite"}),e.hp>e.maxHp/4&&r.a.createElement("animate",{attributeName:"fill",values:"yellow;yellow",keyTimes:"0;1",calcMode:"discrete",dur:"10000s",begin:"0s",repeatCount:"indefinite"}),e.hp>e.maxHp/2&&r.a.createElement("animate",{attributeName:"fill",values:"green;green",keyTimes:"0;1",calcMode:"discrete",dur:"10000s",begin:"0s",repeatCount:"indefinite"})))},J=function(e,t){for(var n=t.length-1;n>=0;n--)t[n].body.id===e.id&&t[n].remove()},X=function(e,t,n){G.Events.on(t,"collisionStart",(function(t){for(var o=0;o<t.pairs.length;o++){var r=t.pairs[o];"player"===r.bodyA.label&&"wall"!==r.bodyB.label?"playerBullet"!==r.bodyB.label&&(e.dead=!0):"player"===r.bodyB.label&&"wall"!==r.bodyA.label&&"playerBullet"!==r.bodyA.label&&(e.dead=!0),"playerBullet"===r.bodyA.label?"barrier"===r.bodyB.label?(r.bodyB.hp--,J(r.bodyA,n)):"enemy"===r.bodyB.label?(r.bodyB.hp--,J(r.bodyA,n)):"clone"===r.bodyB.label&&(r.bodyB.genome.body.hp--,J(r.bodyA,n)):"playerBullet"===r.bodyB.label&&("barrier"===r.bodyA.label?(r.bodyA.hp--,J(r.bodyB,n)):"enemy"===r.bodyA.label?(r.bodyA.hp--,J(r.bodyB,n)):"clone"===r.bodyA.label&&(r.bodyA.genome.body.hp--,J(r.bodyB,n)))}}))},$={bouncer:function(e){return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"#FFFF26",filter:"url(#blur)"},r.a.createElement("animate",{attributeName:"fill",from:"#FFFF26",to:"pink",dur:"0.03s",begin:"0s",repeatCount:"indefinite",fill:"freeze"})),r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:3*e.body.circleRadius/4,fill:"black"}))},bullet:function(e){return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#FFFF26",fill:"lightpink",strokeWidth:"1"}))},explosion:function(e){return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:e.coreColor}))},sakuraHoming:function(e){return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#C24CF6",fill:"black",strokeWidth:"5"},r.a.createElement("animate",{attributeName:"fill",from:"#FFFF26",to:"#C24CF6",dur:"0.05s",begin:"0s",repeatCount:"indefinite",fill:"freeze"})))},surroundBullet:function(e){return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#FFFF26",fill:"#C24CF6",strokeWidth:"1"}))},laser:function(e){var t="rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")");return r.a.createElement("rect",{key:e.body.id,x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,fill:"red",transform:t})},aimLaser:function(e){var t="rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")");return r.a.createElement("rect",{key:e.body.id,x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,fill:"rgba(255,0,0,0.4)",transform:t})},nul:function(e){return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,stroke:"#9649CB",fill:"#292E1E",strokeWidth:"3"}))},nulPointer:function(e){return r.a.createElement("circle",{key:e.body.id,fill:"indigo",opacity:"0.5",cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius},r.a.createElement("animate",{attributeName:"fill",values:"indigo;white;indigo",keyTimes:"0;0.5;1",keySplines:"0.42 0 0.58 1;0.42 0 0.58 1",dur:"2s",begin:"0s",repeatCount:"indefinite"}))},vida:function(e){var t=Object(h.a)({},e.body.position),n=t.x,o=t.y,i=e.body.circleRadius;return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:n,cy:o,r:i,fill:"#ccc3b4",opacity:"0.85"}),r.a.createElement("path",{d:"M".concat(n," ").concat(o-i," L ").concat(n+i/4," ").concat(o-i/4," L ").concat(n+i," ").concat(o," L ").concat(n+i/4," ").concat(o+i/4," L ").concat(n," ").concat(o+i," L ").concat(n-i/4," ").concat(o+i/4," L ").concat(n-i," ").concat(o," L ").concat(n-i/4," ").concat(o-i/4," Z"),fill:"#76C34E",opacity:"0",transform:"rotate(0 ".concat(n," ").concat(o,")")},r.a.createElement("animate",{id:"fill".concat(e.body.id),attributeName:"opacity",begin:"indefinite",dur:"0.1s",fill:"freeze",from:"0",to:"0.5"}),r.a.createElement("animateTransform",{id:"nuke".concat(e.body.id),attributeName:"transform",begin:"indefinite",dur:"2s",repeatCount:"indefinite",fill:"freeze",type:"rotate",from:"0 ".concat(n," ").concat(o),to:"360 ".concat(n," ").concat(o)})))},lifeLaser:function(e){return r.a.createElement("g",{key:e.body.id,transform:"rotate(".concat(e.body.angle," ").concat(e.body.position.x," ").concat(e.body.position.y,")")},r.a.createElement("rect",{x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,stroke:"#76C34E",fill:"#F7F06D",strokeWidth:"3",opacity:"0.75"}))},lifeWave:function(e){var t=[e.body.bodies[1].vertices,e.body.bodies[0].vertices].flat();return r.a.createElement("g",{key:e.body.id},r.a.createElement("path",{id:e.body.id,d:"M ".concat(t[0].x," ").concat(t[0].y," L ").concat(t[3].x," ").concat(t[3].y," L ").concat(t[5].x," ").concat(t[5].y," L ").concat(t[4].x," ").concat(t[4].y," Z"),fill:"transparent",stroke:"white",strokeWidth:"1",opacity:"0.2"},r.a.createElement("animate",{attributeName:"fill",from:"transparent",to:"#76C34E",begin:"3s",dur:"0.05s",fill:"freeze"}),r.a.createElement("animate",{attributeName:"fill",from:"#76C34E",to:"white",begin:"3.05s",dur:"0.05s",fill:"freeze",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"opacity",from:"0.2",to:"0.75",begin:"0s",dur:"4s",fill:"freeze"})))},pointer:function(e){return r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"red"})},ava:function(e){return r.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"url(#radial".concat(e.color,")")})},avaPointer:function(e){return r.a.createElement("g",{key:e.body.id},r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"black",filter:"url(#glowing)"}),r.a.createElement("circle",{cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius/2.5,fill:"silver",opacity:"0.3",filter:"url(#blur)"}))},avaHoming:function(e){return r.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"url(#radial".concat(e.color,")")},r.a.createElement("animate",{id:"fade".concat(e.body.id),attributeName:"opacity",from:"1",to:"0.25",dur:"0.25s",begin:"indefinite",fill:"freeze"}),r.a.createElement("animateTransform",{id:"translate".concat(e.body.id),attributeName:"transform",type:"translate",additive:"sum",from:"0 0",to:"".concat(.9*e.body.position.x," ").concat(.9*e.body.position.y),dur:"0.25s",begin:"indefinite",fill:"freeze"}),r.a.createElement("animateTransform",{id:"diminish".concat(e.body.id),attributeName:"transform",additive:"sum",type:"scale",from:"1 1",to:"0.1 0.1",dur:"0.25s",begin:"indefinite",fill:"freeze"}))},avaRailgun:function(e){return r.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"blue"})},avaAim:function(e){return r.a.createElement("rect",{key:e.body.id,x:e.body.position.x+e.width/-2,y:e.body.position.y+e.height/-2,height:e.height,width:e.width,fill:"white",opacity:"0.3",transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")")})},avaCannon:function(e){var t=e.body.vertices,n=Math.sqrt(Math.pow(t[2].x-t[1].x,2)+Math.pow(t[2].y-t[1].y,2)),o=Math.sqrt(Math.pow(t[1].x-t[0].x,2)+Math.pow(t[1].y-t[0].y,2));return r.a.createElement("rect",{key:e.body.id,x:e.body.position.x+o/-2,y:e.body.position.y+n/-2,width:o,height:n,rx:n,transform:"rotate(".concat(180*e.body.angle/Math.PI," ").concat(e.body.position.x," ").concat(e.body.position.y,")"),fill:"white",opacity:"0.9"},r.a.createElement("animate",{id:"fade".concat(e.body.id),attributeName:"opacity",from:"0.9",to:"0",dur:"0.5s",begin:"indefinite",fill:"freeze"}))}},Q=function(){var e=[1];return r.a.createElement("g",null,e.map((function(e){return r.a.createElement("rect",{key:e,x:Math.ceil(2e3*Math.random())-1e3,y:Math.ceil(1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})),e.map((function(e){return r.a.createElement("rect",{key:e,x:Math.ceil(-2e3*Math.random())-1e3,y:Math.ceil(-1e3*Math.random())-500,width:Math.ceil(3*Math.random()),height:Math.ceil(3*Math.random()),fill:"white"})})))},ee=function(e,t,n){return 0===e&&0===t?1:0===n&&0===t?1:Math.abs(t-e)/Math.abs(t-n)},te=function(e,t,n,o){var r=Math.atan2(o-t,n-e);return(r=360*(r>0?r:2*Math.PI+r)/(2*Math.PI))*Math.PI/180},ne={coordinates:function(e,t,n,o,r){var i=te(e,t,n,o);return{x:e+r*Math.cos(i),y:t+r*Math.sin(i)}},getTargetVelocity:function(e,t,n,o,r){var i=te(e,t,n,o);return{x:r*Math.cos(i),y:r*Math.sin(i)}},getTheta:function(e,t,n,o){var r=Math.atan2(o-t,n-e);return(r=360*(r>0?r:2*Math.PI+r)/(2*Math.PI))*Math.PI/180},getTargetDiminishingVelocity:function(e,t,n,o,r,i){var a=te(e,t,n,o);return{x:r*ee(e,n,i.x)*Math.cos(a),y:r*ee(t,o,i.y)*Math.sin(a)}},orbit:function(e,t,n,o,r,i){var a=Math.atan2(o-t,n-e);return a=360*(a>0?a:2*Math.PI+a)/(2*Math.PI),a=(a+=i)*Math.PI/180,{x:e+r*Math.cos(a),y:t+r*Math.sin(a)}},getCircularVelocity:function(e,t,n,o,r,i){var a=te(e.x,e.y,n.x,n.y)+o,c={x:n.x+r*Math.cos(a),y:n.y+r*Math.sin(a)},l=te(t.x,t.y,c.x,c.y);return{x:i*Math.cos(l),y:i*Math.sin(l)}}},oe=n(27),re=n.n(oe);window.decomp=re.a;var ie=G.Bodies.rectangle(0,0,100,10,{}),ae=function e(t,n,o,r){var i=this;Object(R.a)(this,e),this.intervals=[],this.options={isSensor:!0,label:"bullet"},this.body=G.Bodies.circle(t.x,t.y,n,this.options),this.timeout=function(e,t){var n=o.timer,r=setInterval((function(){1e3*Math.abs(n-o.timer)>=t&&(e(),clearInterval(r))}),10);i.intervals.push(r)},this.add=function(){G.World.add(o,i.body),r.push(i)},this.remove=function(){G.World.remove(o,i.body),i.intervals.forEach((function(e){return clearInterval(e)}));for(var e=r.length-1;e>=0;e--)r[e].body.id===i.body.id&&r.splice(e,1);for(var t in i)delete i[t]},this.isOffScreen=function(e,t){return e>1250||e<-1250||t>812.5||t<-812.5},this.checkOffscreen=function(){i.isOffScreen(i.body.position.x,i.body.position.y)?i.remove():i.timeout(i.checkOffscreen,200)}},ce=function(e){function t(e,n,o,r,i,a){var c;return Object(R.a)(this,t),(c=Object(N.a)(this,Object(F.a)(t).call(this,e,n,i,a))).timeout((function(){return G.Body.setVelocity(c.body,{x:0,y:o})}),r),c.timeout((function(){return c.remove()}),2500),c.add(),c.checkOffscreen(),c}return Object(L.a)(t,e),t}(ae),le=function(e){function t(e,n,o,r){var i;return Object(R.a)(this,t),(i=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r))).body.label="pointer",i.add(),i}return Object(L.a)(t,e),t}(ae),se=function(e){function t(e,n,o,r,i,a,c){var l;Object(R.a)(this,t),(l=Object(N.a)(this,Object(F.a)(t).call(this,e,o,a,c))).body.label="bouncer",l.body.restitution=1,l.body.isSensor=!1;var s=ne.getTargetVelocity(e.x,e.y,n.x,n.y,r);return l.timeout((function(){return G.Body.setVelocity(l.body,s)}),i),l.timeout((function(){return l.remove()}),5e3),l.add(),l}return Object(L.a)(t,e),t}(ae),ue=function(e){function t(e,n,o,r,i,a,c){var l;Object(R.a)(this,t),l=Object(N.a)(this,Object(F.a)(t).call(this,e,o,a,c));var s=ne.getTargetVelocity(e.x,e.y,n.x,n.y,r);return l.timeout((function(){return G.Body.setVelocity(l.body,s)}),i),l.timeout((function(){return l.remove()}),4e3),l.add(),l}return Object(L.a)(t,e),t}(ae),de=function(e){function t(e,n,o,r,i,a,c){var l;return Object(R.a)(this,t),(l=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r,i,a,c))).body.label="sakuraHoming",l}return Object(L.a)(t,e),t}(function(e){function t(e,n,o,r,i,a,c){var l;return Object(R.a)(this,t),(l=Object(N.a)(this,Object(F.a)(t).call(this,e,o,a,c))).redirect=!1,l.redirection=function(){if(l.redirect){var e=ne.getTargetVelocity(l.body.position.x,l.body.position.y,n.x,n.y,r);G.Body.setVelocity(l.body,e)}l.timeout(l.redirection,16)},l.timeout((function(){return l.redirect=!0}),i),l.timeout((function(){return l.redirect=!1}),i+750),l.timeout((function(){return l.remove()}),4e3),l.add(),l.redirection(),l}return Object(L.a)(t,e),t}(ae)),ye=function e(t,n,o,r,i,a){var c=this;Object(R.a)(this,e),this.body=G.Bodies.rectangle(t.x+n/2,t.y,n,o,{isSensor:!0,label:"laser"}),this.height=o,this.width=n,G.Body.rotate(this.body,r,{x:t.x,y:t.y}),G.World.add(i,this.body),a.push(this),this.rotate=function(e){return G.Body.rotate(c.body,e,{x:t.x,y:t.y})},this.remove=function(){G.World.remove(i,c.body);for(var e=0;e<a.length;e++)a[e].body.id===c.body.id&&a.splice(e,1);for(var t in c)delete c[t]}},fe=function e(t,n,o,r,i,a){var c=this;Object(R.a)(this,e),this.body=G.Bodies.rectangle(t.x+n/2,t.y,n,o,{isSensor:!0,label:"aimLaser"}),this.height=o,this.width=n,G.Body.rotate(this.body,r,{x:t.x,y:t.y}),a.push(this),this.remove=function(){G.World.remove(i,c.body);for(var e=0;e<a.length;e++)a[e].body.id===c.body.id&&a.splice(e,1);for(var t in c)delete c[t]}},pe=function(e){function t(e,n,o,r,i,a,c){var l;return Object(R.a)(this,t),(l=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r,i,a,c))).body.label="nul",l}return Object(L.a)(t,e),t}(ue),me=function(e){function t(e,n,o,r){var i;return Object(R.a)(this,t),(i=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r))).body.label="nulPointer",i}return Object(L.a)(t,e),t}(le),be=function(e){function t(e,n,o,r,i,a,c){var l;Object(R.a)(this,t),(l=Object(N.a)(this,Object(F.a)(t).call(this,e,o,a,c))).body.label="vida";var s=ne.getTargetVelocity(e.x,e.y,n.x,n.y,r);return l.timeout((function(){return G.Body.setVelocity(l.body,s)}),i),l.timeout((function(){return l.explode()}),2e3),l.timeout((function(){return l.remove()}),5e3),l.explode=function(){G.Body.setVelocity(l.body,{x:0,y:0}),document.querySelector("#nuke".concat(l.body.id)).beginElement(),document.querySelector("#fill".concat(l.body.id)).beginElement();for(var e=0;e<10;e++)l.timeout((function(){return G.Body.scale(l.body,1.3,1.3)}),15*e)},l.add(),l}return Object(L.a)(t,e),t}(ae),he=function(e){function t(e,n,o,r,i,a,c){var l;Object(R.a)(this,t),(l=Object(N.a)(this,Object(F.a)(t).call(this,e,n,a,c))).body=G.Bodies.rectangle(e.x,e.y,n,n/10,{isSensor:!0,label:"lifeLaser",frictionAir:0}),l.height=n/10,l.width=n;var s=ne.getTheta(e.x,e.y,o.x,o.y),u=ne.getTargetVelocity(e.x,e.y,o.x,o.y,r);return G.Body.rotate(l.body,180*s/Math.PI,{x:l.body.position.x,y:l.body.position.y}),l.timeout((function(){return G.Body.setVelocity(l.body,u)}),i),l.timeout((function(){return l.remove()}),4e3),l.add(),l}return Object(L.a)(t,e),t}(ae),xe=function(e){function t(e,n,o,r,i,a,c){var l;Object(R.a)(this,t),l=Object(N.a)(this,Object(F.a)(t).call(this,e,n,a,c));var s=[{x:0,y:-n},{x:n/4,y:n},{x:n/8,y:n}],u=[{x:0,y:n},{x:n/4,y:-n},{x:n/8,y:-n}],d=G.Vertices.centre(G.Vertices.create(s,ie)),y=G.Bodies.fromVertices(e.x+100,e.y+2*d.y,G.Vertices.create(u,ie),{isSensor:!0,frictionAir:0}),f=G.Bodies.fromVertices(e.x+100,e.y-2*d.y,G.Vertices.create(s,ie),{isSensor:!0,frictionAir:0}),p=Object(h.a)({},o);return l.width=n/4,l.height=n,l.body=G.Composite.create({label:"lifeWave"}),G.Composite.add(l.body,y),G.Composite.add(l.body,f),G.Composite.rotate(l.body,ne.getTheta(e.x,e.y,o.x,o.y),{x:e.x,y:e.y}),l.body.bodies.forEach((function(t){return l.timeout((function(){return G.Body.setVelocity(t,ne.getTargetVelocity(e.x,e.y,p.x,p.y,r))}),i)})),l.timeout((function(){return l.remove()}),3e3),l.add(),l}return Object(L.a)(t,e),t}(ae),ve=function(e){function t(e,n,o,r,i,a,c,l){var s;return Object(R.a)(this,t),(s=Object(N.a)(this,Object(F.a)(t).call(this,e,o,c,l))).body.label="delayedHoming",s.maxVelocityChange=1,s.speedChange=function(e){var t=Object(h.a)({},s.body.velocity),n=Object(h.a)({},e);for(var o in e)Math.abs(t[o]-e[o])>s.maxVelocityChange&&(e[o]>-1?n[o]=t[o]+s.maxVelocityChange:n[o]=t[o]-s.maxVelocityChange);return n},G.Body.setVelocity(s.body,ne.getTargetVelocity(s.body.position.x,s.body.position.y,n.x,n.y,a)),s.redirect=function(){G.Body.setVelocity(s.body,s.speedChange(ne.getTargetVelocity(s.body.position.x,s.body.position.y,r.x,r.y,a))),s.timeout(s.redirect,16)},s.timeout((function(){return s.remove()}),5e3),s.timeout(s.redirect,i),s.add(),s}return Object(L.a)(t,e),t}(ae),we=function(e){function t(e,n,o,r,i,a,c,l){var s;return Object(R.a)(this,t),(s=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r,i,a,c))).color=l,s.body.label="ava",s}return Object(L.a)(t,e),t}(ue),ge=function(e){function t(e,n,o,r,i,a,c,l,s){var u;return Object(R.a)(this,t),(u=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r,i,a,c,l))).body.label="avaHoming",u.color=s,u}return Object(L.a)(t,e),t}(ve),Ee=function(e){function t(e,n,o,r){var i;return Object(R.a)(this,t),(i=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r))).body.label="avaPointer",i}return Object(L.a)(t,e),t}(le),Me=function(e){function t(e,n,o,r,i,a,c){var l;return Object(R.a)(this,t),(l=Object(N.a)(this,Object(F.a)(t).call(this,e,o,a,c))).body.label="avaRailgun",l.timeout((function(){return G.Body.setVelocity(l.body,ne.getTargetVelocity(l.body.position.x,l.body.position.y,n.x,n.y,r))}),i),l.timeout((function(){return l.remove()}),3e3),l.add(),l}return Object(L.a)(t,e),t}(ae),ke=function(e){function t(e,n,o,r,i,a){var c;return Object(R.a)(this,t),(c=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r,i,a))).body.label="avaAim",c}return Object(L.a)(t,e),t}(fe),Oe=function(e){function t(e,n,o,r,i,a){var c;return Object(R.a)(this,t),(c=Object(N.a)(this,Object(F.a)(t).call(this,e,n,o,r,i,a))).body.label="avaCannon",c}return Object(L.a)(t,e),t}(ye);var Be=Object(d.b)((function(e){return{state:e}}))((function(e){return r.a.createElement("g",null,r.a.createElement("rect",{x:"-1500",y:"-1500",width:"3000",height:"3000",fill:"black",opacity:"0.7"}),r.a.createElement("text",{fontFamily:"Arial Black",fill:"white",fontSize:"50",alignmentBaseline:"central",textAnchor:"middle",pointerEvents:"none"},"PAUSE"),r.a.createElement("rect",{x:"-400",y:"400",rx:"20",width:"800",height:"100",fill:"transparent",cursor:"pointer",onClick:function(){return e.dispatch({type:"CLEAR_ENEMY"})}}),r.a.createElement("text",{fontFamily:"Arial Black",fill:"white",fontSize:"32",alignmentBaseline:"central",textAnchor:"middle",x:"0",y:"450",pointerEvents:"none"},"CHANGE OBJECTIVE"))}));function Ce(e){return{showIntro:e.scene.showIntro,enemies:e.enemies,bgm:e.bgm,sfx:e.sfx,bodies:e.bodies}}function Se(e){return{changeScene:function(t){return e(y(t))},setShowIntro:function(t){return e(function(e){return{type:"SET_SHOW_INTRO",payload:e}}(t))},enemyKill:function(t){return e(function(e){return{type:"ENEMY_KILL",payload:e}}(t))},victoryData:function(t){return e(function(e){return{type:"VICTORY_DATA",payload:e}}(t))},victory:function(){return e({type:"VICTORY"})},deathData:function(t){return e(function(e){return{type:"DEATH_DATA",payload:e}}(t))},playBGM:function(t){return e(f(t))}}}var je=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(N.a)(this,Object(F.a)(t).call(this,e))).componentDidMount=function(){X(n.player,n.engine,n.playerBullets),window.addEventListener("keydown",n.handleKeyDown,!0),window.addEventListener("keyup",n.handleKeyUp,!0),n.intervals.push(n.cycle),n.cycle()},n.resetGame=function(){G.Composite.clear(n.world,!1,!0),G.Engine.clear(n.engine),n.bullets.forEach((function(e){return e.remove()})),n.playerBullets.forEach((function(e){return e.remove()}))},n.componentWillUnmount=function(){for(var e in n.props.sfx)for(var t in n.props.sfx[e])"hit"!==t&&n.props.sfx[e][t].stop();for(var o in cancelAnimationFrame(n.loop),n.intervals.forEach((function(e){return clearInterval(e)})),n.timeouts.forEach((function(e){return clearTimeout(e)})),G.Events.off(n.engine,"beforeUpdate",n.events),window.removeEventListener("keydown",n.handleKeyDown,!0),window.removeEventListener("keyup",n.handleKeyUp,!0),n.resetGame(),Object(D.a)(n))delete n[o]},n.cycle=function(){n.updateCycle(),n.loop=requestAnimationFrame((function(){return n.cycle()}))},n.next=function(){n.schedule[n.step.next().value]()},n.togglePause=function(){n.state.pause?(n.props.sfx.game.unpause.play(),n.setState({pause:!1}),n.cycle()):(n.props.sfx.game.pause.play(),n.setState({pause:!0}),cancelAnimationFrame(n.loop))},n.updateCycle=function(){n.player.movement&&(n.player.direction={x:0,y:0},n.playerMovementMap.forEach((function(e){"a"===e||"A"===e?n.player.direction.x-=n.player.speed:"d"!==e&&"D"!==e||(n.player.direction.x+=n.player.speed),"w"===e||"W"===e?n.player.direction.y-=n.player.speed:"s"!==e&&"S"!==e||(n.player.direction.y+=n.player.speed),"k"!==e&&"K"!==e||n.blink(n.player.direction.x,n.player.direction.y),"l"!==e&&"L"!==e||n.shoot()}))),G.Body.setVelocity(n.player.body,n.player.direction),n.setState((function(e){for(var t=0;t<n.barriers.length;t++)n.barriers[t].body.hp<=0&&n.barriers[t].remove();for(var o=0;o<n.enemies.length;o++)n.enemies[o].body.hp<=0&&n.timeout((function(){return n.victory()}),0);Object.assign({},e.player),Object.assign({},e.playerBullets),Object.assign({},e.bullets),Object.assign({},e.barriers),Object.assign({},e.enemies);var r=Number(n.world.timer);e.message;return{player:n.player,playerBullets:n.playerBullets,bullets:n.bullets,enemies:n.enemies,barriers:n.barriers,timer:r,message:n.message}})),!0===n.player.dead&&(n.props.sfx.player.hit.play(),n.timeout((function(){return n.death()}),0)),G.Engine.update(n.engine,16.666)},n.timeout=function(e,t){var o=Number(n.world.timer),r=setInterval((function(){1e3*Math.abs(o-n.world.timer)>=t&&(e(),clearInterval(r))}),10);n.intervals.push(r)},n.handleKeyDown=function(e){"p"!==e.key&&"P"!==e.key||n.togglePause(),"r"===e.key||"R"===e.key?(n.props.setShowIntro(!1),n.props.changeScene("select")):-1===n.playerMovementMap.indexOf(e.key)&&n.playerMovementMap.push(e.key)},n.handleKeyUp=function(e){n.playerMovementMap.splice(n.playerMovementMap.indexOf(e.key),1)},n.blink=function(){if(!0!==n.player.blinkOnCooldown&&n.player.movement){n.player.blinkOnCooldown=!0;var e,t,o=setTimeout((function(){return n.player.blinkOnCooldown=!1}),125);if(n.timeouts.push(o),0===n.player.direction.x&&0===n.player.direction.y)e=n.player.body.position.x,t=n.player.body.position.y-n.player.blinkDistance;else{var r=Math.atan2(n.player.body.position.y+n.player.direction.y-n.player.body.position.y,n.player.body.position.x+n.player.direction.x-n.player.body.position.x);r=(r=360*(r>0?r:2*Math.PI+r)/(2*Math.PI))*Math.PI/180,e=n.player.body.position.x+n.player.blinkDistance*Math.cos(r),t=n.player.body.position.y+n.player.blinkDistance*Math.sin(r)}Math.abs(e)>950&&(e=950*(e<0?-1:1)),Math.abs(t)>512.5&&(t=512.5*(t<0?-1:1)),n.props.sfx.player.blink.play(),G.Body.setPosition(n.player.body,{x:e,y:t})}},n.shoot=function(){!0!==n.player.bulletOnCooldown&&n.player.movement&&(n.props.sfx.player.fire.play(),n.player.bulletOnCooldown=!0,new U(n.player.body.position,n.world,n.playerBullets,n.props),n.timeout((function(){return n.player.bulletOnCooldown=!1}),100))},n.setMessage=function(e,t){var o=e.split("");n.message="";for(var r=function(t){n.timeout((function(){e.length>1&&(n.props.sfx.game.text.stop(),n.props.sfx.game.text.play()),n.message=n.message.concat(o[t])}),100*t)},i=0;i<o.length;i++)r(i);n.timeout((function(){t&&t()}),100*o.length+250)},n.moveBody=function(e,t,o,r,i){if(n.checkIfInArea(e.position.x,t,r)&&n.checkIfInArea(e.position.y,o,r))G.Body.setVelocity(e,{x:0,y:0}),G.Body.setPosition(e,{x:t,y:o}),i&&i();else{var a=ne.getTargetVelocity(e.position.x,e.position.y,t,o,r);G.Body.setVelocity(e,a),n.timeout((function(){return n.moveBody(e,t,o,r,i)}),5)}},n.checkIfInArea=function(e,t,n){return Math.abs(t-e)<n},n.checkPreload=function(e){void 0!==n.props?e():n.timeout((function(){return n.checkPreload(e)}),100)},n.theStart=function(){window.removeEventListener("keydown",n.theStart),n.player.movement=!0,n.setMessage(" ",n.next)},n.theEnd=function(e){var t=new ue(e,{x:0,y:0},5,0,0,n.world,n.bullets);t.body.label="explosion",t.coreColor=n.enemy.coreColor||"red";var o=G.Composite.create();G.Composite.add(o,t.body);for(var r=0;r<150;r++)n.timeout((function(){return G.Composite.scale(o,1.05,1.05,{x:t.body.position.x,y:t.body.position.y},!1)}),16*r)},n.setBackgroundMusic=function(e){n.props.bgm.current!==e&&(n.props.bgm.songs[n.props.bgm.current].stop(),n.props.bgm.songs[e].play(),n.props.playBGM(e)),n.next()},n.victory=function(){var e=Object(h.a)({},n.enemy),t=Object(h.a)({},n.player),o=new Date;n.props.cookies.set(e.name,"defeated",{expires:new Date(o.getFullYear()+1,o.getMonth(),o.getDate(),0,0,0,0),path:"/"}),n.props.victoryData({enemy:e,player:t}),n.props.enemyKill(e.name),n.props.victory()},n.death=function(){n.props.deathData(Object(h.a)({},n.player.body.position,{width:n.player.width,height:n.player.height})),n.props.changeScene("death")},n.state={player:null,playerBullets:[],walls:[],bullets:[],timer:0,barriers:[],enemies:[],message:"",pause:!1},n.message="",n.timeouts=[],n.intervals=[],n.pause=!1,n.schedule=[],n.engine=G.Engine.create(),n.world=n.engine.world,n.world.timer=0,n.world.gravity.y=0,n.enemies=[],n.barriers=[],n.bullets=[],n.playerBullets=[],n.playerMovementMap=[],n.state.walls=new q(n.world).walls,n.player=new Y(0,300,20,20,{},n.world),n.player.body.label="player",n.player.direction={x:0,y:0},n.player.speed=7,n.player.movement=!1,n.player.blinkDistance=150,n.state.player=n.player,n.events=function(){n.world.timer=Number(n.world.timer)+.016666,n.world.timer=Math.round(100*n.world.timer)/100},G.Events.on(n.engine,"beforeUpdate",n.events),console.log(n.world),n}return Object(L.a)(t,e),Object(V.a)(t,[{key:"scheduleStart",value:z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:return e.next=4,t++;case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)}))},{key:"render",value:function(){return r.a.createElement(u,null,r.a.createElement(Q,null),r.a.createElement("text",{x:"-950",y:"-512.5",stroke:"white",fill:"white"},String(this.state.timer)),r.a.createElement("text",{x:"0",y:"0",stroke:"white",fill:"white",fontSize:"100",fontFamily:"Arial Black",textAnchor:"middle"},this.state.message),this.state.bullets.map((function(e){return $[e.body.label](e)})),this.state.playerBullets.map((function(e){return r.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"white"})})),this.state.enemies.map((function(e){return C[e.name](e)})),this.state.barriers.map((function(e){return r.a.createElement("circle",{key:e.body.id,cx:e.body.position.x,cy:e.body.position.y,r:e.body.circleRadius,fill:"green",opacity:"0.75"},r.a.createElement("animate",{attributeName:"fill",values:"transparent;red",keyTimes:"0;1",dur:"0.03s",begin:"0s",repeatCount:"indefinite"}),e.body.hp>e.body.maxHp/4&&r.a.createElement("animate",{attributeName:"fill",values:"transparent;yellow",keyTimes:"0;1",dur:"0.03s",begin:"0s",repeatCount:"indefinite"}),e.body.hp>e.body.maxHp/2&&r.a.createElement("animate",{attributeName:"fill",values:"transparent;green",keyTimes:"0;1",dur:"0.03s",begin:"0s",repeatCount:"indefinite"}))})),m(this.state.player.body.position.x-this.state.player.width/2,this.state.player.body.position.y-this.state.player.height/2,this.state.player.width,this.state.player.height),r.a.createElement("circle",{id:"player-radius",cx:this.state.player.body.position.x,cy:this.state.player.body.position.y,r:this.state.player.blinkDistance,stroke:"rgba(255,255,255,0.5)",fill:"transparent"}),this.state.pause&&r.a.createElement(Be,null),this.enemies.length>0&&r.a.createElement(K,{coreColor:this.enemy.coreColor,hp:this.enemy.body.hp,maxHp:this.enemy.body.maxHp,showIntro:this.props.showIntro}),this.barriers.length>0&&r.a.createElement(Z,{hp:this.outerBarrier.body.hp,maxHp:this.outerBarrier.body.maxHp}))}}]),t}(r.a.Component),Ie=function e(t,n,o,r,i,a){var c=this;Object(R.a)(this,e),this.body=G.Bodies.circle(t,n,o,{isSensor:!0,label:"enemy"}),this.body.hp=r,this.body.maxHp=r,this.coreColor="lightpink",this.dead=!1,G.World.add(i,this.body),a.push(this),this.remove=function(){G.World.remove(i,c.body);for(var e=a.length-1;e>=0;e--)a[e].body.id===c.body.id&&a.splice(e,1)}},Pe=function e(t,n,o,r,i){var a=this;Object(R.a)(this,e);this.coreColor="lightpink",this.body=G.Bodies.circle(t,n,o,{isSensor:!0}),this.body.label="wall",G.World.add(r,this.body),i.push(this),this.remove=function(){G.World.remove(r,a.body);for(var e=i.length-1;e>=0;e--)i[e].body.id===a.body.id&&i.splice(e,1)}},Ae=function e(t,n,o,r,i){var a=this;Object(R.a)(this,e);this.coreColor=r.coreColor,this.body=G.Bodies.circle(t,n,o,{isSensor:!0}),this.body.genome=r,this.body.label="clone",this.body.hp=r.body.hp,this.body.maxHp=r.body.maxHp,G.World.add(i,this.body),this.remove=function(){G.World.remove(i,a.body)}},He=function e(t,n,o,r,i,a){var c=this;Object(R.a)(this,e),this.body=G.Bodies.circle(t,n,o,{isStatic:!0,isSensor:!0}),this.body.label="barrier",this.body.maxHp=r,this.body.hp=r,G.World.add(i,this.body),a.push(this),this.remove=function(){G.World.remove(i,c.body);for(var e=a.length-1;e>=0;e--)a[e].body.id===c.body.id&&a.splice(e,1);for(var t in c)delete c[t]}},_e=function(e){function t(){var e;return Object(R.a)(this,t),(e=Object(N.a)(this,Object(F.a)(t).call(this))).intro=function(){e.moveBody(e.enemy.body,0,-350,4,(function(){e.timeout((function(){e.outerBarrier=new He(0,-350,70,225,e.world,e.barriers)}),500),e.timeout((function(){e.props.showIntro?e.setMessage("ENEMY #1: SAKURA",(function(){window.addEventListener("keydown",e.theStart)})):(e.player.movement=!0,e.next())}),1e3)}))},e.firstBarrage=function(){e.wave(-1e3,0,1),e.props.sfx.sakura.barrage.play(),e.timeout((function(){e.wave(1e3,0,-1),e.props.sfx.sakura.barrage.stop(),e.props.sfx.sakura.barrage.play()}),3e3),e.timeout((function(){e.wave(-1e3,-200,1),e.props.sfx.sakura.barrage.stop(),e.props.sfx.sakura.barrage.play()}),6e3),e.timeout((function(){e.wave(1e3,-200,-1),e.props.sfx.sakura.barrage.stop(),e.props.sfx.sakura.barrage.play()}),9e3),e.timeout((function(){return e.next()}),14e3)},e.wave=function(t,n,o){for(var r=function(r){e.timeout((function(){var i={x:t+25*r*o,y:n+r*Math.sin(r*Math.PI/4*-1+.5)};new ce(i,5,15,1e3,e.world,e.bullets)}),25*r)},i=0;i<75;i++)r(i)},e.secondBarrage=function(){e.surround(450),e.timeout((function(){return e.surround(350)}),3e3),e.timeout((function(){return e.surround(300)}),6e3),e.timeout((function(){return e.surround(250)}),9e3),e.timeout((function(){return e.next()}),14e3)},e.surround=function(t){for(var n=t,o=2*Math.PI/50,r=0,i=Object(h.a)({},e.player.body.position),a=function(t,o){r++;var a={x:n*Math.cos(t)+e.player.body.position.x,y:-n*Math.sin(t)+e.player.body.position.y};e.timeout((function(){new ue(a,i,5,20,1e3-10*o,e.world,e.bullets),e.props.sfx.sakura.bullet.play()}),10*r)},c=0,l=0;c<2*Math.PI;c+=o,l++)a(c,l)},e.thirdBarrage=function(){var t={x:-850,y:-350},n={x:850,y:-350};e.bouncerCluster(n),e.timeout((function(){return e.bouncerCluster(t)}),4e3),e.timeout((function(){return e.bouncerCluster(n)}),8e3),e.timeout((function(){return e.bouncerCluster(t)}),12e3),e.timeout((function(){return e.next()}),15e3)},e.bouncerCluster=function(t){for(var n=0;n<4;n++)e.timeout((function(){new se(t,e.player.body.position,50,35,100,e.world,e.bullets),e.props.sfx.sakura.bouncer.play()}),500*n)},e.fourthBarrage=function(){var t={x:0,y:-250};e.cascade(t,1500),e.timeout((function(){return e.cascade(t,1500)}),3e3),e.timeout((function(){return e.cascade(t,1500)}),6e3),e.timeout((function(){return e.next()}),9e3)},e.cascade=function(t,n){new de(t,e.player.body.position,40,20,n,e.world,e.bullets),e.props.sfx.sakura.wave.play(),e.timeout((function(){return e.props.sfx.sakura.cascade.play()}),n);for(var o=function(o){e.timeout((function(){var r={x:t.x+150*o,y:t.y-50*o};new de(r,e.player.body.position,40,20,n-25*o,e.world,e.bullets)}),25*o)},r=1;r<=5;r++)o(r);for(var i=function(o){e.timeout((function(){var r={x:t.x-150*o,y:t.y-50*o};new de(r,e.player.body.position,40,20,n-25*o,e.world,e.bullets)}),25*o)},a=1;a<=5;a++)i(a)},e.enemy=new Ie(0,-650,50,5,e.world,e.enemies),e.enemy.name="sakura",e.enemy.coreColor="pink",e.schedule.push((function(){return e.setBackgroundMusic("sakura")}),(function(){return e.intro()}),(function(){return e.firstBarrage()}),(function(){return e.secondBarrage()}),(function(){return e.thirdBarrage()}),(function(){return e.fourthBarrage()}),(function(){return e.timeout((function(){e.theEnd(Object(h.a)({},e.enemy.body.position)),e.enemy.remove(),void 0!==e.outerBarrier.remove&&e.outerBarrier.remove()}),3e3)})),e.step=e.scheduleStart(),e.checkPreload((function(){return e.schedule[e.step.next().value]()})),e}return Object(L.a)(t,e),t}(je),Te=Object(w.a)(Object(d.b)(Ce,Se)(_e)),Re=function(e){function t(){var e;return Object(R.a)(this,t),(e=Object(N.a)(this,Object(F.a)(t).call(this))).fireBarrage=function(){for(var t=0;t<14500;t+=500)t%2e3!==0&&e.timeout((function(){return e.bloodFire()}),t)},e.bloodFire=function(){for(var t=0;t<3;t++)e.timeout((function(){new ue(e.enemy.body.position,e.player.body.position,5,20,0,e.world,e.bullets),e.props.sfx.blood.bullet.stop(),e.props.sfx.blood.bullet.play()}),50*t)},e.intro=function(){e.timeout((function(){e.moveBody(e.phobos.body,0,-425,.4),e.moveBody(e.deimos.body,0,-275,.4,(function(){return e.timeout((function(){return e.rotateBlood(270*Math.PI/180,4,(function(){e.props.showIntro?e.setMessage("ENEMY #2: BLOOD",(function(){window.addEventListener("keydown",e.theStart)})):(e.player.movement=!0,e.next())}))}),500)}))}),500)},e.horizontalClean=function(t,n){e.moveBody(e.phobos.body,t,n,15,e.next),e.moveBody(e.deimos.body,-t,n,15,e.next)},e.verticalClean=function(t,n){e.moveBody(e.phobos.body,t,n,15,e.next),e.moveBody(e.deimos.body,t,-n,15,e.next)},e.horizontalSweep=function(t){var n=new fe(e.deimos.body.position,Math.abs(e.phobos.body.position.x-e.deimos.body.position.x),5,0,e.world,e.bullets);e.timeout((function(){n.remove(),e.props.sfx.blood.laser.play();var o=new ye(e.deimos.body.position,Math.abs(e.phobos.body.position.x-e.deimos.body.position.x),5,0,e.world,e.bullets),r=G.Composite.create();G.Composite.add(r,o.body),G.Composite.add(r,e.deimos.body),G.Composite.add(r,e.phobos.body);for(var i=0;i<2*Math.abs(t)/8;i++)t>0?e.timeout((function(){return G.Composite.translate(r,{x:0,y:-8})}),8*i):e.timeout((function(){return G.Composite.translate(r,{x:0,y:8})}),8*i);e.timeout((function(){o.remove(),e.next()}),2*Math.abs(t)/8*8)}),1e3)},e.verticalSweep=function(t){var n=new fe(e.deimos.body.position,1e3,5,90*Math.PI/180,e.world,e.bullets);e.timeout((function(){n.remove(),e.props.sfx.blood.laser.play();var o=new ye(e.deimos.body.position,1e3,5,90*Math.PI/180,e.world,e.bullets),r=G.Composite.create();G.Composite.add(r,o.body),G.Composite.add(r,e.deimos.body),G.Composite.add(r,e.phobos.body);for(var i=0;i<2*Math.abs(t)/8;i++)t>0?e.timeout((function(){return G.Composite.translate(r,{x:-8,y:0})}),8*i):e.timeout((function(){return G.Composite.translate(r,{x:8,y:0})}),8*i);e.timeout((function(){o.remove(),e.next()}),2*Math.abs(t)/8*8)}),1e3)},e.finale=function(){e.enableOrbit=!0,e.setOrbitSpeed(100,(function(){e.timeout((function(){return e.explosion(100)}),1e3),e.timeout((function(){return e.explosion(100)}),3e3),e.timeout((function(){return e.explosion(100)}),5e3),e.timeout((function(){return e.next()}),7e3)}))},e.explosion=function(t){for(var n=t,o=2*Math.PI/40,r=function(t){e.timeout((function(){var o={x:e.enemy.body.position.x+n*Math.cos(t),y:e.enemy.body.position.y+n*Math.sin(t)},r={x:e.enemy.body.position.x+2*n*Math.cos(t),y:e.enemy.body.position.y+2*n*Math.sin(t)};new ue(o,r,5,20,1500,e.world,e.bullets)}),t/(2*Math.PI/40)*16)},i=0;i<2*Math.PI;i+=o)r(i);e.timeout((function(){return e.props.sfx.blood.explosion.play()}),1500)},e.waveBarrage=function(){e.wave(150),e.timeout((function(){return e.wave(125)}),1e3),e.timeout((function(){return e.wave(100)}),2e3),e.timeout((function(){return e.next()}),2e3)},e.wave=function(t){for(var n=t,o=0,r=30*Math.random(),i=2*Math.PI/(r+20),a=function(t,r){o++;var i={x:n*Math.cos(t)+e.enemy.body.position.x,y:n*Math.sin(t)+e.enemy.body.position.y},a={x:500*Math.cos(t)+e.enemy.body.position.x,y:500*Math.sin(t)+e.enemy.body.position.y};e.timeout((function(){return new ue(i,a,5,30,1e3-15*r,e.world,e.bullets)}),15*o)},c=30*Math.PI/180,l=0;c<=150*Math.PI/180;c+=i,l++)a(c,l);e.timeout((function(){return e.props.sfx.blood.shotgun.play()}),1e3)},e.deploy=function(t,n,o,r){e.props.sfx.blood.movement.play(),e.enableOrbit=!1,e.moveBody(e.phobos.body,t+e.phobos.body.position.x-e.enemy.body.position.x,n+e.phobos.body.position.y-e.enemy.body.position.y,o),e.moveBody(e.deimos.body,t+e.deimos.body.position.x-e.enemy.body.position.x,n+e.deimos.body.position.y-e.enemy.body.position.y,o),e.moveBody(e.enemy.body,t,n,o,r)},e.aimAndRotate=function(t){var n=ne.getTheta(e.phobos.body.position.x,e.phobos.body.position.y,e.player.body.position.x,e.player.body.position.y),o=ne.getTheta(e.deimos.body.position.x,e.deimos.body.position.y,e.player.body.position.x,e.player.body.position.y),r=new fe(e.phobos.body.position,2e3,5,n,e.world,e.bullets),i=new fe(e.deimos.body.position,2e3,5,o,e.world,e.bullets);e.timeout((function(){r.remove(),i.remove();var a=new ye(e.phobos.body.position,2e3,5,n,e.world,e.bullets),c=new ye(e.deimos.body.position,2e3,5,o,e.world,e.bullets);e.props.sfx.blood.laser.play(),e.timeout((function(){e.props.sfx.blood.laser.stop(),e.props.sfx.blood.laser.play()}),900);for(var l=0;l<2*Math.PI/(Math.PI/180);l++)e.timeout((function(){a.rotate(Math.PI/180),c.rotate(Math.PI/-180)}),12*l);e.timeout((function(){a.remove(),c.remove(),t()}),2*Math.PI/(Math.PI/180)*12+500)}),1e3)},e.rotateBlood=function(t,n,o){for(var r=0;r<t/(2*Math.PI/180);r++)e.timeout((function(){return G.Composite.rotate(e.blood,2*Math.PI/180,{x:e.enemy.body.position.x,y:e.enemy.body.position.y})}),r*(16/n));o&&e.timeout((function(){return o()}),t/(2*Math.PI/180)*(16/n)+500)},e.setOrbitSpeed=function(t,n){for(var o=0,r=0;r<Math.abs(e.orbitSpeedPower-t);r++){o++;var i=setTimeout((function(){return e.orbitSpeedPower<t?e.orbitSpeedPower+=1:e.orbitSpeedPower-=1}),25*r);e.timeouts.push(i)}return n&&e.timeout(n,25*o),25*o},e.enemy=new Ie(0,-350,50,250,e.world,e.enemies),e.enemy.name="blood",e.enemy.coreColor="red",e.phobos=new Pe(0,-387.5,5,e.world,e.enemies),e.phobos.name="satellite",e.phobos.coreColor="red",e.deimos=new Pe(0,-312.5,5,e.world,e.enemies),e.deimos.name="satellite",e.deimos.coreColor="red",e.blood=G.Composite.create({bodies:[e.enemy.body,e.phobos.body,e.deimos.body]}),e.orbitMaxSpeed=15*Math.PI/180,e.orbitSpeedPower=5,e.orbit=setInterval((function(){!0===e.enableOrbit&&G.Composite.rotate(e.blood,e.orbitMaxSpeed*e.orbitSpeedPower/100,{x:e.enemy.body.position.x,y:e.enemy.body.position.y})}),8),e.intervals.push(e.orbit,e.bloodyCheck),e.schedule.push((function(){return e.setBackgroundMusic("blood")}),(function(){return e.intro()}),(function(){return e.deploy(-800,-200,20,(function(){return e.timeout(e.next,500)}))}),(function(){return e.rotateBlood(270*Math.PI/180,4,(function(){return e.timeout(e.next,500)}))}),(function(){return e.aimAndRotate((function(){return e.timeout(e.next,1e3)}))}),(function(){return e.deploy(800,-200,20,(function(){return e.timeout(e.next,500)}))}),(function(){return e.rotateBlood(180*Math.PI/180,4,(function(){return e.timeout(e.next,500)}))}),(function(){return e.aimAndRotate((function(){return e.timeout(e.next,1e3)}))}),(function(){return e.deploy(0,-350,10,(function(){return e.timeout(e.next,500)}))}),(function(){return e.rotateBlood(270*Math.PI/180,4,(function(){return e.timeout(e.next,0)}))}),(function(){return e.waveBarrage()}),(function(){return e.timeout((function(){return e.rotateBlood(180*Math.PI/180,4,e.next)}),0)}),(function(){return e.waveBarrage()}),(function(){return e.rotateBlood(450*Math.PI/180,2,(function(){return e.timeout(e.next,500)}))}),(function(){return e.verticalClean(925,500)}),(function(){return e.fireBarrage()}),(function(){return e.verticalSweep(925)}),(function(){return e.horizontalClean(925,500)}),(function(){return null}),(function(){return e.horizontalSweep(500)}),(function(){return e.verticalClean(-925,500)}),(function(){return null}),(function(){return e.verticalSweep(-925)}),(function(){return e.horizontalClean(925,-500)}),(function(){return null}),(function(){return e.horizontalSweep(-500)}),(function(){return e.timeout(e.next,1e3)}),(function(){e.moveBody(e.enemy.body,0,0,10,e.next),e.moveBody(e.phobos.body,0,-75,10,e.next),e.moveBody(e.deimos.body,0,75,10,(function(){return e.timeout(e.next,1e3)}))}),(function(){return null}),(function(){return null}),(function(){return e.rotateBlood(360*Math.PI/180,2,e.next)}),(function(){return e.finale()}),(function(){return e.finale()}),(function(){return e.timeout((function(){e.theEnd(Object(h.a)({},e.enemy.body.position)),e.enemy.remove()}),3e3)})),e.step=e.scheduleStart(),e.checkPreload((function(){return e.schedule[e.step.next().value]()})),e}return Object(L.a)(t,e),t}(je),Ne=Object(w.a)(Object(d.b)(Ce,Se)(Re)),Fe=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(N.a)(this,Object(F.a)(t).call(this,e))).intro=function(){n.props.showIntro?n.setMessage("ENEMY #3: NUL",(function(){window.addEventListener("keydown",n.theStart)})):(n.player.movement=!0,n.next())},n.spin=function(){G.Body.setAngularVelocity(n.enemy.body,-n.enemy.spin),n.timeout((function(){return n.spin()}),100)},n.setSpin=function(e){n.enemy.spin=e,n.next()},n.fire={bullets:function(){for(var e=0;e<3;e++)n.timeout((function(){n.props.sfx.nul.bullet.play(),new pe(n.enemy.body.position,n.player.body.position,5,20,0,n.world,n.bullets)}),50*e);n.enemy.stream&&n.timeout((function(){return n.fire.bullets()}),750)}},n.stream={on:function(e){n.enemy.stream=!0,n.fire.bullets(),e&&e()},off:function(e){n.enemy.stream=!1,e&&e()}},n.bond={create:function(){n.props.sfx.nul.void.play(),n.hook=G.Bodies.circle(n.enemy.body.position.x,n.enemy.body.position.y,0,{isStatic:!0,isSensor:!0}),n.constraint=G.Constraint.create({bodyA:n.hook,bodyB:n.player.body,stiffness:.004}),n.constraint.length=n.constraint.length/20,G.World.add(n.world,n.constraint),G.World.add(n.world,n.hook),n.next()},destroy:function(){G.World.remove(n.world,n.constraint),n.next()}},n.curveMovement=function(e,t,o,r){for(var i=Object(h.a)({},n.enemy.body.position),a=t<0?-Math.PI/180:Math.PI/180,c=t*Math.PI/180,l=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))/2,s=ne.getTheta(n.enemy.body.position.x,n.enemy.body.position.y,e.x,e.y),u={x:i.x+l*Math.cos(s),y:i.y+l*Math.sin(s)},d=0;d<c/a;d++)n.timeout((function(){return G.Composite.rotate(n.nul,a,{x:u.x,y:u.y})}),d*(16/o));r&&n.timeout((function(){return r()}),c/a*(16/o))},n.getSquares=function(e){var t=n.iterator(e);return{first:e,second:t.next().value,third:t.next().value,fourth:t.next().value,fifth:t.next().value}},n.getHook={vertical:function(e,t,n,o){return o<90?{x:e.x,y:e.y+t.y*n.first}:o<180?{x:e.x+t.x*n.third,y:e.y+t.y*n.first}:o<270?{x:e.x+t.x*n.third,y:e.y+t.y*(n.first+n.fourth)}:o<360?{x:e.x+t.x*n.third,y:e.y+t.y*(n.first+n.fourth)}:{x:e.x+t.x*n.third,y:e.y+t.y*(n.first+n.fifth)}},horizontal:function(e,t,n,o){return o<90?{x:e.x+t.x*n.first,y:e.y}:o<180?{x:e.x+t.x*n.first,y:e.y+t.y*n.third}:o<270?{x:e.x+t.x*(n.first+n.fourth),y:e.y+t.y*n.third}:o<360?{x:e.x+t.x*(n.first+n.fourth),y:e.y+t.y*n.fourth}:{x:e.x+t.x*(n.first+n.fifth),y:e.y+t.y*n.fourth}}},n.goldenMovement=function(e,t,o,r,i){var a=Object(h.a)({},n.enemy.body.position),c=Math.PI/180;c*="horizontal"===r?1:-1,"horizontal"===r&&(t.x!==t.y?c*=1:c*=-1),"horizontal"!==r&&(t.x===t.y?c*=-1:c*=1);var l=n.getSquares(e);n.player.movement&&n.props.sfx.nul.movement.play();for(var s=function(e){n.timeout((function(){return G.Composite.rotate(n.nul,c,n.getHook[r](a,t,l,e))}),e*(16/o))},u=0;u<540;u++)s(u);i&&n.timeout((function(){return i()}),16/o*540)},n.carousel=function(e,t,o,r,i){for(var a=o*Math.PI/180,c=0;c<360*e;c++)n.timeout((function(){return G.Composite.rotate(n.nul,a,t)}),c*(16/r));i&&n.timeout((function(){return i()}),360*e*(16/r))},n.nulBomb=function(e){var t=new pe(n.enemy.body.position,n.player.body.position,10,10,0,n.world,n.bullets);n.props.sfx.nul.bullet.play(),n.timeout((function(){n.props.sfx.nul.bomb.play();for(var e=0;e<9;e++){var o={x:t.body.position.x+Math.cos(2*Math.PI/9*e),y:t.body.position.y+Math.sin(2*Math.PI/9*e)};new pe(t.body.position,o,5,10,0,n.world,n.bullets)}t.remove()}),2e3),e&&e()},n.chaos=function(){var e=[{x:-350,y:-350},{x:350,y:-350},{x:-350,y:350},{x:350,y:350}],t=function(){if(4===++r){for(var t=0;t<4;t++)n.teleport=n.timeout((function(){var t=Math.floor(Math.random()*e.length);G.Body.setPosition(n.enemy.body,e[t].targetPosition),e[t].remove(),n.props.sfx.nul.flash.play(),n.fire.bullets(),e.splice(t,1)}),250*t);n.timeout((function(){G.Body.setPosition(n.enemy.body,o),n.props.sfx.nul.flash.stop(),n.props.sfx.nul.flash.play(),n.nulBomb(),n.next()}),1e3)}};e.forEach((function(o,r){var i=new me(n.enemy.body.position,50,n.world,n.bullets);i.targetPosition=o,n.moveBody(i.body,i.targetPosition.x,i.targetPosition.y,4,t),e[r]=i}));var o=Object(h.a)({},n.enemy.body.position),r=0},n.enemy=new Ie(51,-500,50,225,n.world,n.enemies),n.enemy.name="nul",n.enemy.spin=0,n.enemy.stream=!0,n.enemy.coreColor="indigo",n.nul=G.Composite.create({bodies:[n.enemy.body]}),G.World.add(n.world,n.nul),n.spin(),n.schedule.push((function(){return n.setBackgroundMusic("nul")}),(function(){return n.setSpin(.03)}),(function(){return n.goldenMovement(150,{x:-1,y:1},4,"vertical",n.next)}),(function(){return n.intro()}),(function(){return n.setSpin(.15)}),(function(){return n.timeout(n.next,500)}),(function(){return n.nulBomb(n.next)}),(function(){return n.stream.on(n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.moveBody(n.enemy.body,0,0,2,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.carousel(1,{x:-250,y:0},1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.carousel(1,{x:250,y:0},-1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.carousel(1,{x:-250,y:0},1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.carousel(1,{x:250,y:0},-1,2,n.next)}),(function(){return n.nulBomb(n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.moveBody(n.enemy.body,0,-350,1,n.next)}),(function(){return n.setSpin(.3)}),(function(){return n.timeout(n.next,1500)}),(function(){return n.bond.create()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.bond.destroy()}),(function(){return n.setSpin(.15)}),(function(){return n.curveMovement({x:350,y:-350},180,2,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.goldenMovement(500,{x:-1,y:1},2,"horizontal",n.next)}),(function(){return n.setSpin(.3)}),(function(){return n.timeout(n.next,1500)}),(function(){return n.bond.create()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.bond.destroy()}),(function(){return n.setSpin(.15)}),(function(){return n.timeout(n.next,500)}),(function(){return n.curveMovement({x:-350,y:-350},180,2,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.goldenMovement(600,{x:1,y:1},2,"horizontal",n.next)}),(function(){return n.setSpin(.3)}),(function(){return n.timeout(n.next,1500)}),(function(){return n.bond.create()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.bond.destroy()}),(function(){return n.setSpin(.15)}),(function(){return n.timeout(n.next,500)}),(function(){return n.carousel(2,{x:0,y:0},-1,1,n.next)}),(function(){return n.stream.off(n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.curveMovement({x:0,y:0},180,2,n.next)}),(function(){return n.setSpin(-.3)}),(function(){return n.timeout(n.next,500)}),(function(){return n.chaos()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.chaos()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.chaos()}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.moveBody(n.enemy.body,0,0,1,n.next)}),(function(){return n.setSpin(.33)}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.setSpin(0)}),(function(){n.theEnd(Object(h.a)({},n.enemy.body.position)),n.enemy.remove()})),n.step=n.scheduleStart(),n.checkPreload((function(){return n.schedule[n.step.next().value]()})),n}return Object(L.a)(t,e),Object(V.a)(t,[{key:"iterator",value:z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t;case 1:return n=1.618*n-n,e.next=5,n;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)}))}]),t}(je),Le=Object(w.a)(Object(d.b)(Ce,Se)(Fe)),We=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(N.a)(this,Object(F.a)(t).call(this,e))).setRadius=function(e,t,o,r){var i=t<e.circleRadius?.975:1.025;G.Body.scale(e,i,i),Math.abs(t-e.circleRadius)>1?n.timeout((function(){return n.setRadius(e,t,o,r)}),45/o):r&&r()},n.intro=function(){n.props.showIntro?n.setMessage("ENEMY #4: VIDA",(function(){window.addEventListener("keydown",n.theStart)})):(n.player.movement=!0,n.next())},n.spin=function(){G.Body.setAngularVelocity(n.enemy.body,-n.enemy.spin),n.timeout((function(){return n.spin()}),100)},n.setSpin=function(e){n.enemy.spin=e,n.next()},n.clone={create:function(e,t,o){var r=new Ae(e+.01,t+.01,n.enemy.body.circleRadius,n.enemy,n.world);r.name="vida",r.coreColor="#76C34E",n.clones.push(r),n.enemies.push(r),o&&o()},destroy:function(e,t){for(var o in n.clones)e.body.id===n.clones[o].body.id&&n.clones.splice(o,1);for(var r in n.enemies)e.body.id===n.enemies[r].body.id&&n.enemies.splice(r,1);e.remove(),t&&t()}},n.firstMovement=function(){n.clone.create(n.enemy.body.position.x,n.enemy.body.position.y),n.props.sfx.vida.divide.play(),n.moveBody(n.enemy.body,-500,-300,4,n.next),n.moveBody(n.clones[0].body,500,-300,4)},n.secondMovement=function(){n.clone.create(n.enemy.body.position.x,n.enemy.body.position.y),n.clone.create(n.clones[0].body.position.x,n.clones[0].body.position.y),n.props.sfx.vida.divide.play(),n.moveBody(n.enemy.body,-650,-275,4),n.moveBody(n.clones[0].body,650,-275,4),n.moveBody(n.clones[1].body,-350,-350,4),n.moveBody(n.clones[2].body,350,-350,4,n.next)},n.thirdMovement=function(e){var t=function(e,t){for(var n=e,o=0;o<t;o++)(n-=1)<0&&(n=3);return n};[n.enemy,n.clones].flat().forEach((function(e){return n.fire.laser(1,e.body.position,n.player.body.position,30)})),n.timeout((function(){return[n.enemy,n.clones].flat().forEach((function(e){return n.fire.laser(1,e.body.position,n.player.body.position,30)}))}),1e3),n.timeout((function(){return[n.enemy,n.clones].flat().forEach((function(e){return n.fire.laser(1,e.body.position,n.player.body.position,30)}))}),2e3),n.curveMovement(n.clones[0].body,n.spots[t(0,e)],-180,1),n.curveMovement(n.clones[1].body,n.spots[t(3,e)],-180,1),n.curveMovement(n.clones[2].body,n.spots[t(1,e)],-180,1,n.next),n.curveMovement(n.enemy.body,n.spots[t(2,e)],-180,1)},n.fourthMovement=function(){n.moveBody(n.clones[1].body,-850,0,8,n.next),n.multiFire.laser([n.enemy,n.clones].flat()),n.timeout((function(){return n.multiFire.laser([n.enemy,n.clones].flat())}),1e3),n.moveBody(n.clones[2].body,850,0,8,(function(){return[n.clones[1],n.clones[2]].forEach((function(e){return n.clone.destroy(e)}))})),n.props.sfx.vida.divide.play()},n.fifthMovement=function(){n.multiFire.laser([n.enemy,n.clones].flat()),n.timeout((function(){return n.multiFire.laser([n.enemy,n.clones].flat())}),1e3),n.timeout((function(){return n.multiFire.laser([n.enemy,n.clones].flat())}),2e3),n.moveBody(n.enemy.body,0,-350,4,n.next),n.moveBody(n.clones[0].body,0,-350,4,(function(){return[n.clone.destroy(n.clones[0])]}))},n.barrage=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n.multiFire.laser(t),n.timeout((function(){return n.multiFire.laser(t)}),1e3+200*(6-t.length)),n.timeout((function(){return n.multiFire.laser(t)}),2e3+200*(6-t.length)*2),n.timeout((function(){t.forEach((function(e){return n.fire.nuke(e.body.position,n.player.body.position)})),n.timeout((function(){return t.forEach((function(e){return n.fire.nuke(e.body.position,n.player.body.position)}))}),2e3)}),3e3+200*(6-t.length)*3),n.timeout((function(){return n.multiFire.wave(t)}),3500+200*(6-t.length)*3),n.timeout((function(){return n.multiFire.wave(t)}),5500+200*(6-t.length)*3),n.timeout(n.next,5500+200*(6-t.length)*3)},n.curveMovement=function(e,t,o,r,i){for(var a=Object(h.a)({},e.position),c=o>0?Math.PI/180:Math.PI/-180,l=o*Math.PI/180,s=Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))/2,u=ne.getTheta(a.x,a.y,t.x,t.y),d={x:a.x+s*Math.cos(u),y:a.y+s*Math.sin(u)},y=G.Composite.create({bodies:[e]}),f=0;f<Math.abs(l/c);f++)n.timeout((function(){return G.Composite.rotate(y,c,d)}),16/r*f),f===Math.abs(l/c)&&G.Body.setPosition(e,t);n.timeout((function(){i&&i()}),16/r*(l/c))},n.fire={nuke:function(e,t,o){new be(e,t,20,10,0,n.world,n.bullets),n.props.sfx.vida.explosion.stop(),n.props.sfx.vida.explosion.play(),o&&o()},laser:function(e,t,o,r,i){for(var a=0;a<e;a++)n.timeout((function(){new he(t,50,o,r,0,n.world,n.bullets),n.props.sfx.vida.laser.stop(),n.props.sfx.vida.laser.play()}),200*a);i&&n.timeout((function(){return i()}),200*e)},wave:function(e,t,o,r,i,a){new xe(e,t,o,r,i,n.world,n.bullets),n.props.sfx.vida.laser.stop(),n.props.sfx.vida.wave.play(),a&&a()}},n.multiFire={laser:function(e){e.forEach((function(t){return n.fire.laser(6-e.length,t.body.position,n.player.body.position,30)}))},wave:function(e){e.forEach((function(t){return n.fire.wave(t.body.position,200/e.length,n.player.body.position,30,1e3)}))}},n.enemy=new Ie(0,-350,10,250,n.world,n.enemies),n.enemy.name="vida",n.enemy.coreColor="#76C34E",n.enemy.spin=0,n.clones=[],n.spots=[{x:0,y:-350},{x:850,y:0},{x:0,y:350},{x:-850,y:0}],n.spin(),n.schedule.push((function(){return n.setBackgroundMusic("vida")}),(function(){return n.setRadius(n.enemy.body,50,10,n.next)}),(function(){return n.intro()}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fire.laser(5,n.enemy.body.position,n.player.body.position,30,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fire.laser(5,n.enemy.body.position,n.player.body.position,30,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fire.nuke(n.enemy.body.position,n.player.body.position,n.timeout(n.next,250))}),(function(){return n.fire.nuke(n.enemy.body.position,n.player.body.position,n.timeout(n.next,250))}),(function(){return n.fire.nuke(n.enemy.body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,2e3)}),(function(){return n.fire.wave(n.enemy.body.position,200,n.player.body.position,30,1500,n.next)}),(function(){return n.timeout(n.next,4e3)}),(function(){return n.setRadius(n.enemy.body,37.5,1,n.next)}),(function(){return n.firstMovement()}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.barrage(n.enemy,n.clones[0])}),(function(){return n.timeout(n.next,5e3)}),(function(){n.setRadius(n.enemy.body,25,1,n.next),n.setRadius(n.clones[0].body,25,1)}),(function(){return n.secondMovement()}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.barrage(n.enemy,n.clones[0],n.clones[1],n.clones[2])}),(function(){return n.timeout(n.next,6e3)}),(function(){return n.curveMovement(n.clones[0].body,n.spots[0],-180,4,n.next)}),(function(){return n.curveMovement(n.clones[1].body,n.spots[3],-180,4,n.next)}),(function(){return n.curveMovement(n.clones[2].body,n.spots[1],-180,4,n.next)}),(function(){return n.curveMovement(n.enemy.body,n.spots[2],-180,4,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.thirdMovement(1)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.thirdMovement(2)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.thirdMovement(3)}),(function(){return n.timeout(n.next,2e3)}),(function(){return n.fourthMovement()}),(function(){n.setRadius(n.enemy.body,37.5,1,n.next),n.setRadius(n.clones[0].body,37.5,1)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.barrage(n.enemy,n.clones[0])}),(function(){return n.timeout(n.next,5e3)}),(function(){return n.fifthMovement()}),(function(){return n.setRadius(n.enemy.body,50,1,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.moveBody(n.enemy.body,0,0,4,n.next)}),(function(){return n.setSpin(.07)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.14)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.21)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.28)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.setSpin(.35)}),(function(){return n.timeout(n.next,3e3)}),(function(){return n.setSpin(0)}),(function(){n.theEnd(Object(h.a)({},n.enemy.body.position)),n.enemy.remove()})),n.step=n.scheduleStart(),n.checkPreload((function(){return n.schedule[n.step.next().value]()})),n}return Object(L.a)(t,e),t}(je),ze=Object(w.a)(Object(d.b)(Ce,Se)(We)),Ve=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(N.a)(this,Object(F.a)(t).call(this,e))).barrage=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t.length>0&&t.forEach((function(e){n.timeout((function(){return n.fire.cannon(e[0].body.position,n.player.body.position)}),667*e[1])}));for(var r=function(e){n.timeout((function(){return n.fire.bullet(n.spotters[e].body.position,n.player.body.position,20)}),667*e)},i=0;i<6;i++)r(i);n.timeout(n.next,4002)},n.bells=function(e,t){for(var o=function(t){n.timeout((function(){return n.fire.bullet(n.spotters[t].body.position,n.player.body.position,25)}),t*e)},r=0;r<3;r++)o(r);t&&n.timeout((function(){return t()}),3*e)},n.fire={bullet:function(e,t,o,r){n.props.sfx.ava.bullet.stop(),n.props.sfx.ava.bullet.play();for(var i=0;i<3;i++)n.timeout((function(){return new we(e,t,5,o,0,n.world,n.bullets,"orange")}),100*i);r&&r()},delayed:function(e,t,o,r,i,a){var c=new ge(e,t,10,o,r,i,n.world,n.bullets,n.colors[Math.floor(Math.random()*n.colors.length)]);return a&&a(),c},cannon:function(e,t,o){var r=new ke(e,2e3,5,Math.atan2(t.y-e.y,t.x-e.x),n.world,n.bullets);n.props.sfx.ava.bullet.stop(),n.props.sfx.ava.cannon.play();for(var i=Math.atan2(t.y-e.y,t.x-e.x),a=function(){return i+=Math.PI/360},c=function(){return i+=-Math.PI/360},l=function(){return i},s=0;s<667;s+=10)n.timeout((function(){var n=Math.atan2(t.y-e.y,t.x-e.x);Math.abs(n-l())<Math.PI/360?G.Body.rotate(r.body,0,e):n>l()?(G.Body.rotate(r.body,Math.PI/360,e),a()):n<l()&&(G.Body.rotate(r.body,-Math.PI/360,e),c())}),s);n.timeout((function(){r.remove();for(var t=new Oe(e,100,5,i,n.world,n.bullets),o=G.Composite.create({bodies:[t.body]}),a=1;a<=18;a++)n.timeout((function(){G.Composite.scale(o,1.2,1.2,e)}),20*a);n.timeout((function(){document.querySelector("#fade".concat(t.body.id)).beginElement();for(var r=function(r){n.timeout((function(){G.Composite.scale(o,.85,.85,e),25===r&&t.remove()}),15*r)},i=1;i<=25;i++)r(i)}),1360)}),667),o&&o()}},n.missiles=function(e){var t=[];n.props.sfx.ava.missiles.play();for(var o=function(e){var o={x:100*e-500,y:-500},r={x:500-100*e,y:-500};n.timeout((function(){var r=n.fire.delayed(n.enemy.body.position,o,n.player.body.position,250-50*e,25);t.push(r)}),50*e),n.timeout((function(){var o=n.fire.delayed(n.enemy.body.position,r,n.player.body.position,250-50*e,25);t.push(o)}),50*e+50)},r=1;r<5;r++)o(r);n.timeout((function(){return t.forEach((function(e){document.querySelector("#fade".concat(e.body.id)).beginElement(),document.querySelector("#diminish".concat(e.body.id)).beginElement(),document.querySelector("#translate".concat(e.body.id)).beginElement()}))}),4750),e&&n.timeout((function(){return e()}),5e3)},n.spotter={create:function(e,t){var o=new Ee(e,10,n.world,n.bullets);n.spotters.push(o),t&&t()},pointer:function(e,t){n.pointer=new Ee(e,10,n.world,n.bullets),n.spotters.push(n.pointer),t&&t()},move:function(e,t,o){n.moveBody(n.pointer.body,e.x,e.y,t,o)},destroy:function(e){n.pointer.remove(),e&&e()},rotate:function(e,t,o){var r=G.Composite.create();G.Composite.add(r,n.pointer.body);for(var i=e>-1?Math.PI/180:-Math.PI/180,a=0;a<Math.abs(e);a++)n.timeout((function(){return G.Composite.rotate(r,i,{x:0,y:0})}),16/t*a);o&&n.timeout((function(){return o()}),16/t*Math.abs(e))},trail:!0,stream:{on:function(){new Me(n.pointer.body.position,n.player.body.position,5,40,1e3,n.world,n.bullets),n.timeout((function(){return n.props.sfx.ava.railgun.play()}),1e3),n.spotter.trail&&n.timeout((function(){return n.spotter.stream.on()}),n.spotter.stream.spacing)},off:function(){n.spotter.trail=!1,n.next()},spacing:250},startStream:function(){n.spotter.trail=!0,n.spotter.stream.on(),n.next()}},n.curveRedirect=function(e,t,o){for(var r=0;r<o;r+=20)n.timeout((function(){return G.Body.setVelocity(e,ne.getCircularVelocity(Object(h.a)({},e.position),e.position,t,-Math.PI/180,250,30))}),r)},n.fireworks=function(e,t){var o=n.colors[Math.floor(Math.random()*n.colors.length)],r=new we(n.enemy.body.position,e,10,15,0,n.world,n.bullets,o);n.timeout((function(){var e=[],t=Object(h.a)({},r.body.position);n.props.sfx.ava.fireworks.play();for(var i=0;i<20;i++){var a={x:t.x+Math.cos(2*Math.PI/20*i),y:t.y+Math.sin(2*Math.PI/20*i)};e[i]=new we(t,a,5,20,0,n.world,n.bullets,o)}n.timeout((function(){n.timeout((function(){return n.props.sfx.ava.fireworksReverse.play()}),750);var o=function(o){G.Body.setVelocity(e[o].body,{x:-2*Math.cos(ne.getTheta(e[o].body.position.x,e[o].body.position.y,t.x,t.y)),y:-2*Math.sin(ne.getTheta(e[o].body.position.x,e[o].body.position.y,t.x,t.y))}),n.timeout((function(){return n.curveRedirect(e[o].body,t,200)}),750)};for(var r in e)o(r)}),1e3),r.remove()}),667),t&&t()},n.curveMovement=function(e,t,o,r,i){for(var a=Object(h.a)({},e.position),c=o>0?Math.PI/180:Math.PI/-180,l=o*Math.PI/180,s=Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))/2,u=ne.getTheta(a.x,a.y,t.x,t.y),d={x:a.x+s*Math.cos(u),y:a.y+s*Math.sin(u)},y=G.Composite.create({bodies:[e]}),f=0;f<Math.abs(l/c);f++)n.timeout((function(){return G.Composite.rotate(y,c,d)}),16/r*f),f===Math.abs(l/c)&&G.Body.setPosition(e,t);n.timeout((function(){i&&i()}),16/r*(l/c))},n.intro=function(){n.props.showIntro?n.setMessage("ENEMY #?: AVA",(function(){window.addEventListener("keydown",n.theStart)})):(n.player.movement=!0,n.next())},n.enemy=new Ie(0,-350,50,275,n.world,n.enemies),n.enemy.name="ava",n.enemy.coreColor="white",n.enemy.trail=!0,n.colors=["violet","indigo","blue","green","yellow","orange","red"],n.spotters=[],n.schedule.push((function(){return n.setBackgroundMusic("ava")}),(function(){return n.spotter.pointer(n.enemy.body.position,n.next)}),(function(){return n.spotter.create(n.enemy.body.position,n.next)}),(function(){return n.spotter.create(n.enemy.body.position,n.next)}),(function(){n.moveBody(n.spotters[0].body,0,-249,1),n.moveBody(n.spotters[1].body,-200,-300,2),n.moveBody(n.spotters[2].body,200,-300,2,n.next)}),(function(){return n.intro()}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.fire.cannon(n.spotters[0].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[2].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[1].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,2500)}),(function(){return n.missiles(n.next)}),(function(){return n.fireworks({x:500,y:350},n.timeout(n.next,500))}),(function(){return n.fireworks({x:-500,y:350},n.timeout(n.next,2e3))}),(function(){n.moveBody(n.spotters[1].body,-900,450,8),n.moveBody(n.spotters[2].body,900,450,8,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(1e3,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(500,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(250,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.bells(125,n.next)}),(function(){return n.fire.cannon(n.spotters[0].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[2].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,500)}),(function(){return n.fire.cannon(n.spotters[1].body.position,n.player.body.position,n.next)}),(function(){return n.timeout(n.next,2500)}),(function(){n.missiles(),n.timeout((function(){return n.missiles(n.next)}),2e3)}),(function(){return n.timeout(n.next,1e3)}),(function(){n.spotters.forEach((function(e){return n.moveBody(e.body,0,500,8)})),n.next()}),(function(){return n.timeout(n.next,4e3)}),(function(){n.spotters[1].remove(),n.spotters[2].remove(),n.spotters.pop(),n.spotters.pop(),n.next()}),(function(){return n.spotter.startStream()}),(function(){return n.spotter.rotate(720,2,n.next)}),(function(){n.spotter.stream.spacing=100,n.next()}),(function(){return n.spotter.rotate(720,4,n.next)}),(function(){return n.spotter.rotate(135,4,n.next)}),(function(){n.spotter.stream.spacing=50,n.next()}),(function(){return n.spotter.rotate(90,2,n.next)}),(function(){return n.spotter.stream.off()}),(function(){return n.spotter.rotate(15,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(120,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.spotter.create(n.pointer.body.position,n.next)}),(function(){return n.spotter.rotate(30,2,n.next)}),(function(){return n.timeout(n.next,1e3)}),(function(){return n.fireworks({x:0,y:0},n.next)}),(function(){return n.barrage()}),(function(){return n.barrage()}),(function(){return n.barrage([n.spotters[3],4])}),(function(){return n.barrage([n.spotters[0],1],[n.spotters[4],5])}),(function(){return n.barrage([n.spotters[1],2],[n.spotters[4],5])}),(function(){return n.barrage([n.spotters[0],1],[n.spotters[2],3],[n.spotters[4],5])}),(function(){return n.barrage([n.spotters[2],3])}),(function(){return n.barrage([n.spotters[0],1],[n.spotters[4],5])}),(function(){n.fireworks({x:0,y:0}),n.barrage()}),(function(){n.timeout((function(){return n.fireworks({x:500,y:500})}),2668),n.barrage()}),(function(){n.fireworks({x:-500,y:500}),n.timeout((function(){return n.fireworks({x:-500,y:500})}),1334),n.timeout((function(){return n.fireworks({x:0,y:500})}),2668),n.barrage()}),(function(){return n.timeout(n.next,2001)}),(function(){n.missiles(),n.timeout((function(){return n.missiles(n.next)}),667)}),(function(){return n.moveBody(n.enemy.body,0,0,1,n.next)}),(function(){return n.timeout((function(){n.theEnd(Object(h.a)({},n.enemy.body.position)),n.enemy.remove()}),3e3)})),n.step=n.scheduleStart(),n.schedule[n.step.next().value](),n}return Object(L.a)(t,e),t}(je),De=Object(w.a)(Object(d.b)(Ce,Se)(Ve)),Ge=n(28),Ye=n.n(Ge),Ue=n(29),qe=n.n(Ue),Ke=new x.Howl({src:[Ye.a],preload:!0,volume:.5}),Ze=new x.Howl({src:[qe.a],preload:!0,volume:.5});var Je=Object(d.b)((function(e){return{enemy:e.victory.enemy,player:e.victory.player,bgm:e.bgm}}))((function(e){return Object(o.useEffect)((function(){e.bgm.songs[e.bgm.current].stop(),Ke.play();var t=setTimeout((function(){return Ze.play()}),2e3);return function(){return clearTimeout(t)}}),[e]),r.a.createElement(u,null,r.a.createElement("text",{opacity:"0",fill:"white",fontSize:"32",alignmentBaseline:"central",textAnchor:"middle",fontFamily:"Arial Black"},"ENEMY ASSIMILATION: SUCCESS",r.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",begin:"6s",dur:"0.1s",fill:"freeze"})),r.a.createElement("g",null,r.a.createElement("circle",{r:e.enemy.body.circleRadius,fill:e.enemy.coreColor,cx:e.enemy.body.position.x,cy:e.enemy.body.position.y},r.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.1s",begin:"1.9s",fill:"freeze"}))),r.a.createElement("g",null,function(e){var t,n,o,r=e.length;for(t=0;t<r;t++)o=~~(Math.random()*(t+1)),n=e[t],e[t]=e[o],e[o]=n;return e}([30,60,90,120,150,180,210,240,270,300,330,360]).map((function(t,n){return r.a.createElement("circle",{key:t,fill:e.enemy.coreColor,r:"20",cx:e.enemy.body.position.x+(30+Math.floor(10*Math.random()))*Math.cos(t*Math.PI/180),cy:e.enemy.body.position.y+(30+Math.floor(10*Math.random()))*Math.sin(t*Math.PI/180),opacity:"0"},r.a.createElement("animate",{attributeName:"opacity",calcMode:"discrete",keyTimes:"0;1",values:"1;0",begin:"".concat(1+.1*n,"s"),dur:"".concat(4-.1*n,"s"),fill:"freeze"}),r.a.createElement("animateTransform",{attributeName:"transform",type:"translate",additive:"replace",keyTimes:"0;0.75;1",values:"\n                        ".concat((30+Math.floor(10*Math.random()))*Math.cos(t*Math.PI/180)," ").concat((30+Math.floor(10*Math.random()))*Math.sin(t*Math.PI/180),";\n                        ").concat(1500*Math.cos(t*Math.PI/180)," ").concat(1500*Math.sin(t*Math.PI/180),";\n                        ").concat(e.player.body.position.x-e.enemy.body.position.x," ").concat(e.player.body.position.y-e.enemy.body.position.y,"\n                        "),dur:"3s",begin:"2s",fill:"freeze"}))})),r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 ".concat(e.enemy.body.position.x," ").concat(e.enemy.body.position.x),to:"360 ".concat(e.player.body.position.x," ").concat(e.player.body.position.x),begin:"2s",dur:"3s",fill:"freeze"}),"/>"),r.a.createElement("g",null,m(e.player.body.position.x-10,e.player.body.position.y-10,20,20),r.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",begin:"5.5s",dur:"0.1s",fill:"freeze"})),r.a.createElement("rect",{rx:"20",width:"200",height:"100",x:"-100",y:"300",cursor:"pointer",fill:"transparent",onClick:function(){return e.dispatch(y("select"))}}),r.a.createElement("text",{fontFamily:"Arial Black",fontSize:"50",alignmentBaseline:"central",textAnchor:"middle",x:"0",y:"350",fill:"white",pointerEvents:"none",opacity:"0"},"PROCEED",r.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",begin:"6s",dur:"0.1s",fill:"freeze"})))}));var Xe=Object(d.b)((function(e){return Object(h.a)({},e.death,{showIntro:e.scene.showIntro,enemies:e.enemies,sfx:e.sfx})}),(function(e){return{changeScene:function(t){return e({type:"CHANGE_SCENE",payload:t})},setShowIntro:function(t){return e({type:"SET_SHOW_INTRO",payload:t})}}}))((function(e){return Object(o.useEffect)((function(){function t(t){"r"!==t.key&&"R"!==t.key||(e.setShowIntro(!1),e.changeScene("select"))}window.addEventListener("keydown",t);var n=setTimeout((function(){return e.sfx.player.explosion.play()}),1e3);return function(){clearTimeout(n),e.sfx.player.explosion.stop(),window.removeEventListener("keydown",t)}})),r.a.createElement(u,null,r.a.createElement("rect",{x:e.x-e.width/2,y:e.y-e.height/2,width:e.width,height:e.height,fill:"pink"},r.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.1s",begin:"1s",fill:"freeze",calcMode:"discrete"})),[30,60,90,120,150,180,210,240,270,300,330,360].map((function(t){return r.a.createElement("g",{key:t},r.a.createElement("circle",{cx:e.x+2*Math.cos(t*Math.PI/180),cy:e.y+2*Math.sin(t*Math.PI/180),r:"25",fill:"pink",opacity:"0"},r.a.createElement("animate",{attributeName:"opacity",keyTimes:"0;0.2;0.9;1",values:"0;1;1;0",fill:"freeze",dur:"1.5s",begin:"1s"}),r.a.createElement("animateTransform",{attributeName:"transform",type:"translate",additive:"sum",accumulate:"sum",to:"".concat(e.x+2e3*Math.cos(t*Math.PI/180)," ").concat(e.y+2e3*Math.sin(t*Math.PI/180)),dur:"2s",begin:"1s",fill:"freeze"})),r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 ".concat(e.x," ").concat(e.y),to:"360 ".concat(e.x," ").concat(e.y),dur:"4s",begin:"1s",fill:"freeze"}))})),r.a.createElement("g",null,r.a.createElement("circle",{r:"250",x:"0",y:"0",fill:"rgba(255,255,255,0.2)",opacity:"0",onClick:function(){e.setShowIntro(!1),e.changeScene("select")}},r.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.3s",begin:"1.5s",fill:"freeze"})),r.a.createElement("text",{fill:"white",textAnchor:"middle",fontFamily:"Arial Black",fontSize:"40",alignmentBaseline:"central",pointerEvents:"none",opacity:"0"},"Try again",r.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.3s",begin:"1.5s",fill:"freeze"}))))}));var $e=Object(d.b)((function(e){return{bgm:e.bgm}}))((function(e){return Object(o.useEffect)((function(){"credits"!==e.bgm.current&&(e.bgm.songs[e.bgm.current].stop(),e.bgm.songs.credits.play(),e.dispatch({type:"PLAY_BGM",payload:"credits"}))})),r.a.createElement(u,null,r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:-400},"Due credit to the following for their amazing job at being amazing:"),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:-300},"Physics Engine: Matter-JS by liabru"),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:-250},"Sound effects: created with BFXR by increpare"),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:-200,pointerEvents:"none"},"Music provided by the awesome Robert Suthard - check his Soundcloud!!!"),r.a.createElement("a",{href:"https://soundcloud.com/user-883264187",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("rect",{width:"300",height:"60",fill:"transparent",x:"560",y:"-225",cursor:"pointer"})),r.a.createElement("line",{x1:"560",x2:"860",y1:"-165",y2:"-165",stroke:"white",strokeWidth:"5"}),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:-100},"Everything else made by me: ClassicalJo -"),r.a.createElement("a",{href:"https://github.com/classicaljo/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("rect",{width:"300",height:"50",x:"-750",y:"-50",cursor:"pointer"})),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:-25,pointerEvents:"none"},"github"),r.a.createElement("line",{x1:"-750",x2:"-605",y1:"5",y2:"5",stroke:"white",strokeWidth:"5"}),r.a.createElement("a",{href:"https://classicaljo.github.io/portfolio",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("rect",{width:"300",height:"50",x:"-750",y:"15",cursor:"pointer"})),r.a.createElement("line",{x1:"-750",x2:"-565",y1:"60",y2:"60",stroke:"white",strokeWidth:"5"}),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:30,pointerEvents:"none"},"portfolio"),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:100},'Special thanks and a big "i love you" to all my friends that invested'),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:150},"their valuable time in testing this piece of shit:"),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",alignmentBaseline:"central",x:"-750",y:200},"Adhara, War, Robert, Diego, Marian, Brodda, Lihuel, Kieron"),r.a.createElement("rect",{x:"-100",y:"420",width:"200",height:"60",onClick:function(){return e.dispatch({type:"CHANGE_SCENE",payload:"start"})},cursor:"pointer"}),r.a.createElement("text",{fontSize:"40",fontFamily:"Arial Black",fill:"white",textAnchor:"middle",alignmentBaseline:"central",x:"0",y:450,pointerEvents:"none"},"Back"))}));var Qe={Controller:p,Start:g,Select:T,Scene1:Te,Scene2:Ne,Scene3:Le,Scene4:ze,Scene5:De,Victory:Je,Death:Xe,Credits:$e,Loading:Object(d.b)((function(e){return Object(h.a)({},e.window,{},e.bgm,{},e.sfx)}))((function(e){return Object(o.useEffect)((function(){var t=setInterval((function(){(function(e){for(var t in e)if("loaded"!==e[t]._state)return!1;return!0})(Object(h.a)({},e.songs,{},e.sfx))&&e.dispatch({type:"CHANGE_SCENE",payload:"start"})}),100);return function(){return clearInterval(t)}})),r.a.createElement(u,null,r.a.createElement("g",null,r.a.createElement("path",{fill:"white",d:"M -200 -200 V 200 H 200 V-200 L 120 -40 H -120 Z"}),r.a.createElement("ellipse",{cx:"100",cy:"40",ry:"20",rx:"10",fill:"#55CDFC"}),r.a.createElement("ellipse",{cx:"-100",cy:"40",ry:"20",rx:"10",fill:"#55CDFC"}),r.a.createElement("rect",{fill:"#306BAC",width:"400",height:"60",x:"-200",y:"140"})),r.a.createElement("text",{x:700,y:500,fontFamily:"Arial Black",fontSize:"50",fill:"white",opacity:"0"},"Loading...",r.a.createElement("animate",{attributeName:"opacity",values:"0;1;0",keyTimes:"0;0.5;1",dur:"1s",fill:"freeze",begin:"0s",repeatCount:"indefinite"})))}))},et=(n(79),function(e){var t=window.innerHeight>9*window.innerWidth/16?9*window.innerWidth/16:window.innerHeight,n=window.innerHeight>9*window.innerWidth/16?window.innerWidth:16*window.innerHeight/9;e.resize({svgHeight:t,svgWidth:n,innerWidth:window.innerWidth,innerHeight:window.innerHeight,offset:(window.innerWidth-n)/2})}),tt=function(e,t){e.bgm.current!==t&&(e.bgm.songs[t].play(),e.playBGM(t))};var nt=Object(w.a)(Object(d.b)((function(e){return{state:e,bgm:e.bgm}}),(function(e){return{resize:function(t){return e(function(e){return{type:"RESIZE_WINDOW",payload:e}}(t))},playBGM:function(t){return e(f(t))},enemyList:function(t){return e(function(e){return{type:"ENEMY_LIST",payload:e}}(t))}}}))((function(e){var t;return t=function(){return tt(e,"start"),window.addEventListener("resize",(function(){return et(e)})),function(e){var t={};["sakura","blood","nul","vida","ava"].forEach((function(n){return t[n]=void 0===e.cookies.get(n)})),e.enemyList(t)}(e),window.removeEventListener("resize",(function(){return et(e)}))},Object(o.useEffect)(t,[]),r.a.createElement("div",{className:"svg-container"},"start"===e.state.scene.current&&r.a.createElement(Qe.Start,null),"loading"===e.state.scene.current&&r.a.createElement(Qe.Loading,null),"controller"===e.state.scene.current&&r.a.createElement(Qe.Controller,null),"credits"===e.state.scene.current&&r.a.createElement(Qe.Credits,null),"select"===e.state.scene.current&&r.a.createElement(Qe.Select,null),"death"===e.state.scene.current&&r.a.createElement(Qe.Death,null),"victory"===e.state.scene.current&&r.a.createElement(Qe.Victory,null),"sakura"===e.state.scene.current&&r.a.createElement(Qe.Scene1,null),"blood"===e.state.scene.current&&r.a.createElement(Qe.Scene2,null),"nul"===e.state.scene.current&&r.a.createElement(Qe.Scene3,null),"vida"===e.state.scene.current&&r.a.createElement(Qe.Scene4,null),"ava"===e.state.scene.current&&r.a.createElement(Qe.Scene5,null))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=n(82),rt=n(10),it={current:"loading",enemySelected:"none",showIntro:!0},at=n(15),ct={sakura:!0,blood:!0,nul:!0,vida:!0,ava:!0},lt={enemy:{},player:{}},st={innerWidth:window.innerWidth,innerHeight:window.innerHeight,svgHeight:window.innerHeight>9*window.innerWidth/16?9*window.innerWidth/16:window.innerHeight,svgWidth:window.innerHeight>9*window.innerWidth/16?window.innerWidth:16*window.innerHeight/9,offset:(window.innerWidth-window.innerHeight>9*window.innerWidth/16?window.innerWidth:16*window.innerHeight/9)/2},ut={x:0,y:0,height:20,width:20},dt=n(24),yt=n.n(dt),ft=n(30),pt=n.n(ft),mt=n(31),bt=n.n(mt),ht=n(32),xt=n.n(ht),vt=n(33),wt=n.n(vt),gt=n(34),Et=n.n(gt),Mt=n(35),kt=n.n(Mt),Ot={current:null,mute:!1,songs:{start:new x.Howl({src:[yt.a],preload:!0,volume:.5,loop:!0}),none:new x.Howl({src:[yt.a],preload:!0,volume:.5,loop:!0}),sakura:new x.Howl({src:[pt.a],preload:!0,volume:.25,loop:!0}),blood:new x.Howl({src:[bt.a],preload:!0,volume:.5,loop:!0}),nul:new x.Howl({src:[Et.a],preload:!0,volume:.25,loop:!0}),vida:new x.Howl({src:[wt.a],preload:!0,volume:.25,loop:!0}),ava:new x.Howl({src:[xt.a],preload:!0,volume:.25,loop:!0}),credits:new x.Howl({src:[kt.a],preload:!0,volume:.5})}},Bt=n(36),Ct=n.n(Bt),St=n(37),jt=n.n(St),It=n(38),Pt=n.n(It),At=n(39),Ht=n.n(At),_t=n(40),Tt=n.n(_t),Rt=n(41),Nt=n.n(Rt),Ft=n(42),Lt=n.n(Ft),Wt=n(43),zt=n.n(Wt),Vt=n(44),Dt=n.n(Vt),Gt=n(45),Yt=n.n(Gt),Ut=n(46),qt=n.n(Ut),Kt=n(47),Zt=n.n(Kt),Jt=n(48),Xt=n.n(Jt),$t=n(49),Qt=n.n($t),en=n(50),tn=n.n(en),nn=n(51),on=n.n(nn),rn=n(52),an=n.n(rn),cn=n(53),ln=n.n(cn),sn=n(54),un=n.n(sn),dn=n(55),yn=n.n(dn),fn=n(56),pn=n.n(fn),mn=n(57),bn=n.n(mn),hn=n(58),xn=n.n(hn),vn=n(59),wn=n.n(vn),gn=n(60),En=n.n(gn),Mn=n(61),kn=n.n(Mn),On=n(62),Bn=n.n(On),Cn=n(63),Sn=n.n(Cn),jn=n(64),In=n.n(jn),Pn=n(65),An=n.n(Pn),Hn=n(66),_n=n.n(Hn),Tn=n(67),Rn=n.n(Tn),Nn={player:{fire:new x.Howl({src:[Ct.a],preload:!0}),blink:new x.Howl({src:[jt.a],preload:!0,volume:.2}),hit:new x.Howl({src:[Pt.a],preload:!0}),explosion:new x.Howl({src:[Ht.a],preload:!0})},game:{pause:new x.Howl({src:[Tt.a],volume:.15,preload:!0}),unpause:new x.Howl({src:[Nt.a],volume:.15,preload:!0}),text:new x.Howl({src:[Lt.a],preload:!0})},sakura:{bullet:new x.Howl({src:[zt.a],preload:!0,volume:.05}),barrage:new x.Howl({src:[Dt.a],preload:!0,volume:.25}),bouncer:new x.Howl({src:[qt.a],preload:!0,volume:.5}),wave:new x.Howl({src:[Yt.a],preload:!0,volume:.25}),cascade:new x.Howl({src:[Zt.a],preload:!0,volume:.5})},blood:{movement:new x.Howl({src:[tn.a],preload:!0}),shotgun:new x.Howl({src:[on.a],preload:!0}),laser:new x.Howl({src:[Xt.a],preload:!0,volume:.35}),explosion:new x.Howl({src:[Qt.a],preload:!0,volume:.35}),bullet:new x.Howl({src:[an.a],preload:!0})},nul:{bullet:new x.Howl({src:[yn.a],preload:!0,volume:.5}),bomb:new x.Howl({src:[ln.a],preload:!0,volume:.5}),void:new x.Howl({src:[un.a],preload:!0}),movement:new x.Howl({src:[pn.a],preload:!0,volume:.5}),flash:new x.Howl({src:[bn.a],preload:!0,volume:.15})},vida:{laser:new x.Howl({src:[xn.a],preload:!0,volume:.15}),wave:new x.Howl({src:[En.a],preload:!0,volume:.15}),explosion:new x.Howl({src:[wn.a],preload:!0,volume:.5}),divide:new x.Howl({src:[kn.a],preload:!0})},ava:{cannon:new x.Howl({src:[Bn.a],volume:.25,preload:!0}),fireworks:new x.Howl({src:[Sn.a],volume:.5,preload:!0}),fireworksReverse:new x.Howl({src:[In.a],volume:.5,preload:!0}),missiles:new x.Howl({src:[An.a],volume:.5,preload:!0}),bullet:new x.Howl({src:[_n.a],volume:.75,preload:!0}),railgun:new x.Howl({src:[Rn.a],volume:.5,preload:!0})}},Fn=Object(rt.b)({scene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SCENE":return Object(h.a)({},e,{current:t.payload});case"SELECT_ENEMY":return Object(h.a)({},e,{enemySelected:t.payload,current:t.payload});case"CLEAR_ENEMY":return Object(h.a)({},e,{enemySelected:"none",current:"select",showIntro:!0});case"SET_SHOW_INTRO":return Object(h.a)({},e,{showIntro:t.payload});case"VICTORY":return Object(h.a)({},e,{showIntro:!0,enemySelected:"none",current:"victory"});default:return e}},enemies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENEMY_KILL":return Object(h.a)({},e,Object(at.a)({},t.payload,!1));case"ENEMY_RESTORE":return ct;case"ENEMY_LIST":return t.payload;default:return e}},victory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VICTORY_DATA":return Object(h.a)({},e,{enemy:t.payload.enemy,player:t.payload.player});default:return e}},window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESIZE_WINDOW":return Object(h.a)({},e,{},t.payload);default:return e}},death:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEATH_DATA":return Object(h.a)({},e,{},t.payload);default:return e}},bgm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY_BGM":return Object(h.a)({},e,{current:t.payload});case"STOP_BGM":return Object(h.a)({},e,{current:null});case"TOGGLE_MUTE":return Object(h.a)({},e,{mute:!e.mute});default:return e}},sfx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),Ln=Object(rt.d)(Fn,Object(rt.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a.a.render(r.a.createElement(ot.a,null,r.a.createElement(d.a,{store:Ln},r.a.createElement(nt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[68,1,2]]]);
//# sourceMappingURL=main.6a553ac3.chunk.js.map